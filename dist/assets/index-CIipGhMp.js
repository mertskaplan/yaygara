const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DNJJ9hGI.js","assets/vendor-framer-BNYandJQ.js","assets/vendor-react-BBAfDT4Y.js","assets/scroll-area-BaasXPE_.js","assets/vendor-radix-BVDWj5ml.js","assets/vendor-utils-d73ICkI-.js","assets/useTranslations-Di6gP0Sq.js","assets/SetupPage-CtIsdYeN.js","assets/GamePage-Bi_Hl0qn.js","assets/ScoreboardPage-CVU0QmOE.js"])))=>i.map(i=>d[i]);
var Xe=Object.defineProperty;var Ze=(e,r,t)=>r in e?Xe(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var w=(e,r,t)=>Ze(e,typeof r!="symbol"?r+"":r,t);import{j as l,L as et,d as tt}from"./vendor-framer-BNYandJQ.js";import{e as rt,a as g,u as nt,D as st,f as ot,i as De,d as it,g as at,h as Ae,j as ct,k as ut,l as lt}from"./vendor-react-BBAfDT4Y.js";import{S as dt}from"./vendor-radix-BVDWj5ml.js";import{c as Me,t as ft,T as ht,R as mt,H as pt,a as gt}from"./vendor-utils-d73ICkI-.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const yt="modulepreload",_t=function(e){return"/"+e},ge={},C=function(r,t,n){let s=Promise.resolve();if(t&&t.length>0){let i=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),a=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=i(t.map(c=>{if(c=_t(c),c in ge)return;ge[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":yt,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((_,W)=>{f.addEventListener("load",_),f.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return s.then(i=>{for(const u of i||[])u.status==="rejected"&&o(u.reason);return r().catch(o)})};var ze=Symbol.for("immer-nothing"),ye=Symbol.for("immer-draftable"),h=Symbol.for("immer-state");function E(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var z=Object.getPrototypeOf;function I(e){return!!e&&!!e[h]}function b(e){var r;return e?Fe(e)||Array.isArray(e)||!!e[ye]||!!((r=e.constructor)!=null&&r[ye])||U(e)||X(e):!1}var wt=Object.prototype.constructor.toString(),_e=new WeakMap;function Fe(e){if(!e||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);if(r===null||r===Object.prototype)return!0;const t=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let n=_e.get(t);return n===void 0&&(n=Function.toString.call(t),_e.set(t,n)),n===wt}function F(e,r,t=!0){Y(e)===0?(t?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{r(s,e[s],e)}):e.forEach((n,s)=>r(s,n,e))}function Y(e){const r=e[h];return r?r.type_:Array.isArray(e)?1:U(e)?2:X(e)?3:0}function ie(e,r){return Y(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function Le(e,r,t){const n=Y(e);n===2?e.set(r,t):n===3?e.add(t):e[r]=t}function vt(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function U(e){return e instanceof Map}function X(e){return e instanceof Set}function y(e){return e.copy_||e.base_}function ae(e,r){if(U(e))return new Map(e);if(X(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const t=Fe(e);if(r===!0||r==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(e);delete n[h];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const i=s[o],u=n[i];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[i]})}return Object.create(z(e),n)}else{const n=z(e);if(n!==null&&t)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function he(e,r=!1){return Z(e)||I(e)||!b(e)||(Y(e)>1&&Object.defineProperties(e,{set:Q,add:Q,clear:Q,delete:Q}),Object.freeze(e),r&&Object.values(e).forEach(t=>he(t,!0))),e}function Et(){E(2)}var Q={value:Et};function Z(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ce={};function T(e){const r=ce[e];return r||E(0,e),r}function St(e,r){ce[e]||(ce[e]=r)}var L;function B(){return L}function Rt(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function we(e,r){r&&(T("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function ue(e){le(e),e.drafts_.forEach(xt),e.drafts_=null}function le(e){e===L&&(L=e.parent_)}function ve(e){return L=Rt(L,e)}function xt(e){const r=e[h];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function Ee(e,r){r.unfinalizedDrafts_=r.drafts_.length;const t=r.drafts_[0];return e!==void 0&&e!==t?(t[h].modified_&&(ue(r),E(4)),b(e)&&(e=J(r,e),r.parent_||K(r,e)),r.patches_&&T("Patches").generateReplacementPatches_(t[h].base_,e,r.patches_,r.inversePatches_)):e=J(r,t,[]),ue(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==ze?e:void 0}function J(e,r,t){if(Z(r))return r;const n=e.immer_.shouldUseStrictIteration(),s=r[h];if(!s)return F(r,(o,i)=>Se(e,s,r,o,i,t),n),r;if(s.scope_!==e)return r;if(!s.modified_)return K(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let i=o,u=!1;s.type_===3&&(i=new Set(o),o.clear(),u=!0),F(i,(a,c)=>Se(e,s,o,a,c,t,u),n),K(e,o,!1),t&&e.patches_&&T("Patches").generatePatches_(s,t,e.patches_,e.inversePatches_)}return s.copy_}function Se(e,r,t,n,s,o,i){if(s==null||typeof s!="object"&&!i)return;const u=Z(s);if(!(u&&!i)){if(I(s)){const a=o&&r&&r.type_!==3&&!ie(r.assigned_,n)?o.concat(n):void 0,c=J(e,s,a);if(Le(t,n,c),I(c))e.canAutoFreeze_=!1;else return}else i&&t.add(s);if(b(s)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||r&&r.base_&&r.base_[n]===s&&u)return;J(e,s),(!r||!r.scope_.parent_)&&typeof n!="symbol"&&(U(t)?t.has(n):Object.prototype.propertyIsEnumerable.call(t,n))&&K(e,s)}}}function K(e,r,t=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&he(r,t)}function bt(e,r){const t=Array.isArray(e),n={type_:t?1:0,scope_:r?r.scope_:B(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=me;t&&(s=[n],o=$);const{revoke:i,proxy:u}=Proxy.revocable(s,o);return n.draft_=u,n.revoke_=i,u}var me={get(e,r){if(r===h)return e;const t=y(e);if(!ie(t,r))return Wt(e,t,r);const n=t[r];return e.finalized_||!b(n)?n:n===re(e.base_,r)?(ne(e),e.copy_[r]=G(n,e)):n},has(e,r){return r in y(e)},ownKeys(e){return Reflect.ownKeys(y(e))},set(e,r,t){const n=$e(y(e),r);if(n!=null&&n.set)return n.set.call(e.draft_,t),!0;if(!e.modified_){const s=re(y(e),r),o=s==null?void 0:s[h];if(o&&o.base_===t)return e.copy_[r]=t,e.assigned_[r]=!1,!0;if(vt(t,s)&&(t!==void 0||ie(e.base_,r)))return!0;ne(e),x(e)}return e.copy_[r]===t&&(t!==void 0||r in e.copy_)||Number.isNaN(t)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=t,e.assigned_[r]=!0),!0},deleteProperty(e,r){return re(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,ne(e),x(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const t=y(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:n.enumerable,value:t[r]}},defineProperty(){E(11)},getPrototypeOf(e){return z(e.base_)},setPrototypeOf(){E(12)}},$={};F(me,(e,r)=>{$[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});$.deleteProperty=function(e,r){return $.set.call(this,e,r,void 0)};$.set=function(e,r,t){return me.set.call(this,e[0],r,t,e[0])};function re(e,r){const t=e[h];return(t?y(t):e)[r]}function Wt(e,r,t){var s;const n=$e(r,t);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function $e(e,r){if(!(r in e))return;let t=z(e);for(;t;){const n=Object.getOwnPropertyDescriptor(t,r);if(n)return n;t=z(t)}}function x(e){e.modified_||(e.modified_=!0,e.parent_&&x(e.parent_))}function ne(e){e.copy_||(e.copy_=ae(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var kt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(r,t,n)=>{if(typeof r=="function"&&typeof t!="function"){const o=t;t=r;const i=this;return function(a=o,...c){return i.produce(a,d=>t.call(this,d,...c))}}typeof t!="function"&&E(6),n!==void 0&&typeof n!="function"&&E(7);let s;if(b(r)){const o=ve(this),i=G(r,void 0);let u=!0;try{s=t(i),u=!1}finally{u?ue(o):le(o)}return we(o,n),Ee(s,o)}else if(!r||typeof r!="object"){if(s=t(r),s===void 0&&(s=r),s===ze&&(s=void 0),this.autoFreeze_&&he(s,!0),n){const o=[],i=[];T("Patches").generateReplacementPatches_(r,s,o,i),n(o,i)}return s}else E(1,r)},this.produceWithPatches=(r,t)=>{if(typeof r=="function")return(i,...u)=>this.produceWithPatches(i,a=>r(a,...u));let n,s;return[this.produce(r,t,(i,u)=>{n=i,s=u}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){b(e)||E(8),I(e)&&(e=jt(e));const r=ve(this),t=G(e,void 0);return t[h].isManual_=!0,le(r),t}finishDraft(e,r){const t=e&&e[h];(!t||!t.isManual_)&&E(9);const{scope_:n}=t;return we(n,r),Ee(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let t;for(t=r.length-1;t>=0;t--){const s=r[t];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}t>-1&&(r=r.slice(t+1));const n=T("Patches").applyPatches_;return I(e)?n(e,r):this.produce(e,s=>n(s,r))}};function G(e,r){const t=U(e)?T("MapSet").proxyMap_(e,r):X(e)?T("MapSet").proxySet_(e,r):bt(e,r);return(r?r.scope_:B()).drafts_.push(t),t}function jt(e){return I(e)||E(10,e),Ge(e)}function Ge(e){if(!b(e)||Z(e))return e;const r=e[h];let t,n=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,t=ae(e,r.scope_.immer_.useStrictShallowCopy_),n=r.scope_.immer_.shouldUseStrictIteration()}else t=ae(e,!0);return F(t,(s,o)=>{Le(t,s,Ge(o))},n),r&&(r.finalized_=!1),t}function Pt(){class e extends Map{constructor(a,c){super(),this[h]={type_:2,parent_:c,scope_:c?c.scope_:B(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:a,draft_:this,isManual_:!1,revoked_:!1}}get size(){return y(this[h]).size}has(a){return y(this[h]).has(a)}set(a,c){const d=this[h];return i(d),(!y(d).has(a)||y(d).get(a)!==c)&&(t(d),x(d),d.assigned_.set(a,!0),d.copy_.set(a,c),d.assigned_.set(a,!0)),this}delete(a){if(!this.has(a))return!1;const c=this[h];return i(c),t(c),x(c),c.base_.has(a)?c.assigned_.set(a,!1):c.assigned_.delete(a),c.copy_.delete(a),!0}clear(){const a=this[h];i(a),y(a).size&&(t(a),x(a),a.assigned_=new Map,F(a.base_,c=>{a.assigned_.set(c,!1)}),a.copy_.clear())}forEach(a,c){const d=this[h];y(d).forEach((m,f,_)=>{a.call(c,this.get(f),f,this)})}get(a){const c=this[h];i(c);const d=y(c).get(a);if(c.finalized_||!b(d)||d!==c.base_.get(a))return d;const m=G(d,c);return t(c),c.copy_.set(a,m),m}keys(){return y(this[h]).keys()}values(){const a=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const c=a.next();return c.done?c:{done:!1,value:this.get(c.value)}}}}entries(){const a=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const c=a.next();if(c.done)return c;const d=this.get(c.value);return{done:!1,value:[c.value,d]}}}}[Symbol.iterator](){return this.entries()}}function r(u,a){return new e(u,a)}function t(u){u.copy_||(u.assigned_=new Map,u.copy_=new Map(u.base_))}class n extends Set{constructor(a,c){super(),this[h]={type_:3,parent_:c,scope_:c?c.scope_:B(),modified_:!1,finalized_:!1,copy_:void 0,base_:a,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return y(this[h]).size}has(a){const c=this[h];return i(c),c.copy_?!!(c.copy_.has(a)||c.drafts_.has(a)&&c.copy_.has(c.drafts_.get(a))):c.base_.has(a)}add(a){const c=this[h];return i(c),this.has(a)||(o(c),x(c),c.copy_.add(a)),this}delete(a){if(!this.has(a))return!1;const c=this[h];return i(c),o(c),x(c),c.copy_.delete(a)||(c.drafts_.has(a)?c.copy_.delete(c.drafts_.get(a)):!1)}clear(){const a=this[h];i(a),y(a).size&&(o(a),x(a),a.copy_.clear())}values(){const a=this[h];return i(a),o(a),a.copy_.values()}entries(){const a=this[h];return i(a),o(a),a.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(a,c){const d=this.values();let m=d.next();for(;!m.done;)a.call(c,m.value,m.value,this),m=d.next()}}function s(u,a){return new n(u,a)}function o(u){u.copy_||(u.copy_=new Set,u.base_.forEach(a=>{if(b(a)){const c=G(a,u);u.drafts_.set(a,c),u.copy_.add(c)}else u.copy_.add(a)}))}function i(u){u.revoked_&&E(3,JSON.stringify(y(u)))}St("MapSet",{proxyMap_:r,proxySet_:s})}var Ct=new kt,Tt=Ct.produce,q={},Re;function Nt(){if(Re)return q;Re=1;var e=rt();return q.createRoot=e.createRoot,q.hydrateRoot=e.hydrateRoot,q}var It=Nt();const Ue=e=>e.includes("Warning:")||e.includes("React")?"react":e.includes("fetch")||e.includes("network")||e.includes("Failed to load")?"network":e.includes("TypeError")||e.includes("ReferenceError")||e.includes("SyntaxError")?"javascript":"unknown",Ot="Warning:",Dt="[WARNING]",At="[CONSOLE ERROR]",Mt=[/\.tsx?$/,/\.jsx?$/,/\/src\//],He=[/node_modules/,/\.vite/,/chunk-/,/deps/],zt=e=>[/React Router Future Flag Warning/i,/future flag to opt-in early/i,/reactrouter\.com.*upgrading.*future/i,/v7_\w+.*future flag/i].some(t=>t.test(e)),Ft=e=>[/componentWillReceiveProps/,/componentWillMount/,/componentWillUpdate/,/UNSAFE_componentWill/].some(t=>t.test(e)),xe=e=>{if(!e)return!1;const r=e.split(`
`);return r.some(s=>Mt.some(o=>o.test(s)))?!0:!r.every(s=>s.trim()===""||s.includes("Error")||He.some(o=>o.test(s)))};class Lt{constructor(){w(this,"reportedErrors",new Map);w(this,"deduplicationWindow",5e3);w(this,"cleanupInterval",6e4);w(this,"lastCleanup",Date.now())}calculatePrecedence(r){const t=this.hasRelevantSourceCode(r.stack),n=r.level==="warning",s=r.stack?r.stack.split(`
`).length:0;return{hasSourceCode:t,isWarning:n,stackDepth:s,timestamp:Date.now()}}hasRelevantSourceCode(r){return r?r.split(`
`).some(t=>/\.tsx?$/.test(t)||/\.jsx?$/.test(t)||/\/src\//.test(t)):!1}isHigherPrecedence(r,t){return r.hasSourceCode!==t.hasSourceCode?r.hasSourceCode:r.isWarning!==t.isWarning?r.isWarning:r.stackDepth!==t.stackDepth?r.stackDepth>t.stackDepth:r.timestamp>t.timestamp}generateSignature(r){let t=r.message.replace(/\[CONSOLE ERROR\]|\[WARNING\]/g,"").replace(/^Uncaught Error:\s*/i,"").replace(/^Error:\s*/i,"").replace(/%s.*?\n/g,"").replace(/\s+/g," ").trim();return t.includes("Maximum update depth exceeded")?t="Maximum update depth exceeded":t.includes("The result of getSnapshot should be cached")?t="The result of getSnapshot should be cached":t.includes("React Router caught the following error")&&(t="React Router caught error"),t}shouldReport(r,t=!1){this.maybeCleanup();const n=this.generateSignature(r),s=this.calculatePrecedence(r),o=this.reportedErrors.get(n),i=Date.now();return o?this.isHigherPrecedence(s,o.precedence)&&s.hasSourceCode&&!o.precedence.hasSourceCode?(o.precedence=s,o.timestamp=i,o.reported=!0,{shouldReport:!0}):i-o.timestamp<this.deduplicationWindow?{shouldReport:!1,reason:"duplicate_in_window"}:t&&!s.hasSourceCode?{shouldReport:!1,reason:"no_source_code"}:(o.timestamp=i,o.precedence=s,o.reported=!0,{shouldReport:!0}):t&&!s.hasSourceCode?{shouldReport:!1,reason:"no_source_code"}:(this.reportedErrors.set(n,{timestamp:i,precedence:s,reported:!0}),{shouldReport:!0})}maybeCleanup(){const r=Date.now();if(r-this.lastCleanup>this.cleanupInterval){const t=r-3e5;for(const[n,s]of this.reportedErrors.entries())s.timestamp<t&&this.reportedErrors.delete(n);this.lastCleanup=r}}}const Qe=new Lt;class $t{constructor(){w(this,"errorQueue",[]);w(this,"isReporting",!1);w(this,"maxQueueSize",10);w(this,"reportingEndpoint","/api/client-errors");w(this,"originalConsoleWarn",null);w(this,"originalConsoleError",null);w(this,"isInitialized",!1);if(!(typeof window>"u"))try{this.setupConsoleInterceptors(),this.setupGlobalErrorHandler(),this.setupUnhandledRejectionHandler(),this.isInitialized=!0}catch(r){console.error("[ErrorReporter] Failed to initialize:",r)}}setupGlobalErrorHandler(){const r=window.onerror;window.onerror=(t,n,s,o,i)=>{const u=typeof t=="string"?t:"Unknown error",a={message:u,stack:i==null?void 0:i.stack,source:n||void 0,level:"error",url:window.location.href};if(!this.filterError(a).shouldReport)return r?r(t,n,s,o,i):!0;const d=this.createErrorPayload({message:u,stack:i==null?void 0:i.stack,parsedStack:this.parseStackTrace(i==null?void 0:i.stack),source:n||void 0,lineno:s||void 0,colno:o||void 0,error:i});return this.report(d),r?r(t,n,s,o,i):!0}}setupUnhandledRejectionHandler(){window.addEventListener("unhandledrejection",r=>{const t=r.reason,n=(t==null?void 0:t.message)||"Unhandled Promise Rejection",s={message:n,stack:t==null?void 0:t.stack,level:"error",url:window.location.href};if(!this.filterError(s).shouldReport)return;const i=this.createErrorPayload({message:n,stack:t==null?void 0:t.stack,parsedStack:this.parseStackTrace(t==null?void 0:t.stack),error:t});this.report(i)})}createConsoleInterceptor(r,t,n){return(...s)=>{t.apply(console,s);try{const o=qe(s),i=new Error().stack,u=r==="warn"&&o.includes(Ot)?"warning":"error",a={message:`${n} ${o}`,stack:i,level:u,url:window.location.href};if(!this.filterError(a).shouldReport)return;const d=this.createErrorPayload({message:a.message,stack:i,parsedStack:this.parseStackTrace(i),level:u});this.report(d)}catch{}}}setupConsoleInterceptors(){this.originalConsoleWarn=console.warn,this.originalConsoleError=console.error;const r=console.warn,t=console.error;r.__errorReporterWrapped&&t.__errorReporterWrapped||(console.error=this.createConsoleInterceptor("error",this.originalConsoleError,At),console.warn=this.createConsoleInterceptor("warn",this.originalConsoleWarn,Dt))}createBaseErrorData(){return{url:window.location.href,timestamp:new Date().toISOString()}}createErrorPayload(r){return{...this.createBaseErrorData(),level:r.level??"error",category:Ue(r.message),...r}}filterError(r){const{message:t,stack:n,level:s,source:o}=r;if(t.includes("[ErrorReporter]"))return{shouldReport:!1,reason:"internal_debug"};if(zt(t))return{shouldReport:!1,reason:"react_router_future_flag"};if(s==="warning"&&Ft(t))return{shouldReport:!1,reason:"deprecated_react_warning"};if(s==="error"&&t.includes("Uncaught Error")&&!xe(n))return{shouldReport:!1,reason:"no_relevant_source"};if(s==="error"&&o&&He.some(u=>u.test(o))&&!xe(n))return{shouldReport:!1,reason:"vendor_only_error"};const i=Qe.shouldReport(r,!1);return i.shouldReport?{shouldReport:!0}:{shouldReport:!1,reason:i.reason}}parseStackTrace(r){if(!r)return"";try{const t=r.split(`
`),n=[];for(const s of t){if(s.includes("Error")&&!s.includes("at "))continue;let o=s.trim();const i=s.match(/at (\w+) \(.*?\/src\/(.*?):(\d+):(\d+)\)/);if(i){const[,u,a,c,d]=i;o=`    at ${u} (${a}:${c}:${d})`}else{const u=s.match(/at.*?\/src\/(.*?):(\d+):(\d+)/);if(u){const[,a,c,d]=u;o=`    at ${a}:${c}:${d}`}else s.match(/at\s+(\w+)\s+\(/)&&(o=s)}o&&n.push(o)}return n.join(`
`)}catch{return r}}report(r){if(!(!this.isInitialized||typeof window>"u"))try{this.errorQueue.push(r),this.errorQueue.length>this.maxQueueSize&&this.errorQueue.shift(),this.processQueue()}catch{}}async processQueue(){if(this.isReporting||this.errorQueue.length===0)return;this.isReporting=!0;const r=[...this.errorQueue];this.errorQueue=[];try{for(const t of r)await this.sendError(t)}catch(t){console.error("[ErrorReporter] Failed to report errors:",t),this.errorQueue.unshift(...r)}finally{this.isReporting=!1}}async sendError(r){try{console.log("[ErrorReporter] Error suppressed (no server-side endpoint):",r.message)}catch(t){throw console.error("[ErrorReporter] Failed to send error:",t),t}}dispose(){this.originalConsoleWarn&&(console.warn=this.originalConsoleWarn),this.originalConsoleError&&(console.error=this.originalConsoleError),this.isInitialized=!1}}const qe=e=>e.map(r=>typeof r=="string"?r:typeof r=="object"&&r?JSON.stringify(r,null,2):String(r)).join(" "),Gt=(e,r)=>({message:e,stack:new Error().stack,url:window.location.href,timestamp:new Date().toISOString(),level:r,category:Ue(e)}),Ut=e=>{const{message:r,stack:t,level:n}=e;if(r.includes("[ErrorReporter]")||[/React Router Future Flag Warning/i,/future flag to opt-in early/i,/reactrouter\.com.*upgrading.*future/i,/v7_\w+.*future flag/i].some(a=>a.test(r))||n==="warning"&&[/componentWillReceiveProps/,/componentWillMount/,/componentWillUpdate/,/UNSAFE_componentWill/].some(a=>a.test(r)))return!1;const i=t?t.split(`
`).some(a=>/\.tsx?$/.test(a)||/\.jsx?$/.test(a)||/\/src\//.test(a)):!1;return n==="error"&&r.includes("Uncaught Error")&&!i||r.includes("Maximum update depth exceeded")&&!i?!1:Qe.shouldReport(e,!0).shouldReport},Ht=async e=>{};if(typeof window<"u"){const e=console.warn,r=console.error,t=(n,s,o)=>function(...i){n.apply(console,i);try{const u=qe(i),a=new Error().stack,c=u.includes("Warning:")?"warning":o,d={message:`${s} ${u}`,stack:a,level:c,url:window.location.href};if(Ut(d)){const m=Gt(d.message,c);Ht(m)}}catch{}};console.warn=t(e,"[WARNING]","warning"),console.warn.__errorReporterWrapped=!0,console.error=t(r,"[CONSOLE ERROR]","error"),console.error.__errorReporterWrapped=!0}const ee=new $t;typeof window<"u"&&window.addEventListener("beforeunload",()=>{ee.dispose()});const be=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,We=Me,Qt=(e,r)=>t=>{var n;if((r==null?void 0:r.variants)==null)return We(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:o}=r,i=Object.keys(s).map(c=>{const d=t==null?void 0:t[c],m=o==null?void 0:o[c];if(d===null)return null;const f=be(d)||be(m);return s[c][f]}),u=t&&Object.entries(t).reduce((c,d)=>{let[m,f]=d;return f===void 0||(c[m]=f),c},{}),a=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:m,className:f,..._}=d;return Object.entries(_).every(W=>{let[p,S]=W;return Array.isArray(S)?S.includes({...o,...u}[p]):{...o,...u}[p]===S})?[...c,m,f]:c},[]);return We(e,i,a,t==null?void 0:t.class,t==null?void 0:t.className)};function N(...e){return ft(Me(e))}function kr(e,r=95){e=e.replace(/^#/,"");let t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16);t/=255,n/=255,s/=255;const o=Math.max(t,n,s),i=Math.min(t,n,s);let u=0,a=0,c=(o+i)/2;if(o!==i){const d=o-i;switch(a=c>.5?d/(2-o-i):d/(o+i),o){case t:u=(n-s)/d+(n<s?6:0);break;case n:u=(s-t)/d+2;break;case s:u=(t-n)/d+4;break}u/=6}return u=Math.round(u*360),a=Math.round(a*100),`${u} ${a}% ${r}%`}const qt=Qt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-6 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),de=g.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...s},o)=>{const i=n?dt:"button";return l.jsx(i,{className:N(qt({variant:r,size:t,className:e})),ref:o,...s})});de.displayName="Button";const Be=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:N("rounded-xl border bg-card text-card-foreground shadow",e),...r}));Be.displayName="Card";const Bt=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:N("flex flex-col space-y-1.5 p-6",e),...r}));Bt.displayName="CardHeader";const Jt=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:N("font-semibold leading-none tracking-tight",e),...r}));Jt.displayName="CardTitle";const Kt=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:N("text-sm text-muted-foreground",e),...r}));Kt.displayName="CardDescription";const Je=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:N("p-6 pt-0",e),...r}));Je.displayName="CardContent";const Vt=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:N("flex items-center p-6 pt-0",e),...r}));Vt.displayName="CardFooter";function V({title:e="Oops! Something went wrong",message:r="We're aware of the issue and actively working to fix it. Your experience matters to us.",error:t,onRetry:n,onGoHome:s,showErrorDetails:o=!0,statusMessage:i="Our team has been notified"}){const u=()=>{n?n():window.location.reload()},a=()=>{s?s():window.location.href="/"};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-rainbow opacity-5 dark:opacity-10"}),l.jsx(Be,{className:"relative backdrop-blur-sm shadow-2xl",children:l.jsxs(Je,{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-destructive/10 flex items-center justify-center",children:l.jsx(ht,{className:"w-8 h-8 text-destructive"})}),l.jsx("h1",{className:"text-2xl font-bold",children:e}),l.jsx("p",{className:"text-muted-foreground",children:r})]}),i&&l.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),l.jsx("span",{children:i})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(de,{onClick:u,className:"w-full",children:[l.jsx(mt,{className:"w-4 h-4 mr-2"}),"Try Again"]}),l.jsxs(de,{onClick:a,variant:"secondary",className:"w-full",children:[l.jsx(pt,{className:"w-4 h-4 mr-2"}),"Go to Homepage"]})]}),!1]})}),l.jsx("p",{className:"text-center text-sm text-muted-foreground mt-6",children:"If this problem persists, please contact our support team"})]})})}class Yt extends g.Component{constructor(){super(...arguments);w(this,"state",{hasError:!1,error:null,errorInfo:null});w(this,"retry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});w(this,"goHome",()=>{window.location.href="/"})}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,n){this.setState({errorInfo:n}),ee.report({message:t.message,stack:t.stack||"",componentStack:n.componentStack,errorBoundary:!0,errorBoundaryProps:{componentName:this.constructor.name},url:window.location.href,timestamp:new Date().toISOString(),level:"error"})}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo,this.retry):l.jsx(V,{error:this.state.error,onRetry:this.retry,onGoHome:this.goHome}):this.props.children}}function Xt(e){if(!e)return;let r="Unknown route error",t="";if(De(e))r=`Route Error ${e.status}: ${e.statusText}`,e.data&&(r+=` - ${JSON.stringify(e.data)}`);else if(e instanceof Error)r=e.message,t=e.stack||"";else if(typeof e=="string")r=e;else try{r=JSON.stringify(e)}catch{r=String(e)}ee.report({message:r,stack:t,url:window.location.href,timestamp:new Date().toISOString(),source:"react-router",error:e,level:"error"})}function Zt({error:e}){return g.useEffect(()=>{Xt(e)},[e]),De(e)?l.jsx(V,{title:`${e.status} ${e.statusText}`,message:"Sorry, an error occurred while loading this page.",error:e.data?{message:JSON.stringify(e.data,null,2)}:e,statusMessage:"Navigation error detected"}):l.jsx(V,{title:"Unexpected Error",message:"An unexpected error occurred while loading this page.",error:e,statusMessage:"Routing error detected"})}function er(){const e=ot();return l.jsx(Zt,{error:e})}function k(){const e=nt(),r=g.useContext(st),t=!e||!r,n=e?"This router does not support route errors. Use createBrowserRouter + RouterProvider.":"Router is not mounted. Add a router at the app root.";return g.useEffect(()=>{t&&ee.report({message:n,url:window.location.href,timestamp:new Date().toISOString(),source:"react-router",level:"error"})},[t,n]),t?l.jsx(V,{title:"Router configuration error",message:n,statusMessage:"Routing error boundary could not initialize"}):l.jsx(er,{})}function Ke(e,r){let t;try{t=e()}catch{return}return{getItem:s=>{var o;const i=a=>a===null?null:JSON.parse(a,void 0),u=(o=t.getItem(s))!=null?o:null;return u instanceof Promise?u.then(i):i(u)},setItem:(s,o)=>t.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>t.removeItem(s)}}const fe=e=>r=>{try{const t=e(r);return t instanceof Promise?t:{then(n){return fe(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return fe(n)(t)}}}},tr=(e,r)=>(t,n,s)=>{let o={storage:Ke(()=>localStorage),partialize:p=>p,version:0,merge:(p,S)=>({...S,...p}),...r},i=!1;const u=new Set,a=new Set;let c=o.storage;if(!c)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...p)},n,s);const d=()=>{const p=o.partialize({...n()});return c.setItem(o.name,{state:p,version:o.version})},m=s.setState;s.setState=(p,S)=>(m(p,S),d());const f=e((...p)=>(t(...p),d()),n,s);s.getInitialState=()=>f;let _;const W=()=>{var p,S;if(!c)return;i=!1,u.forEach(v=>{var R;return v((R=n())!=null?R:f)});const H=((S=o.onRehydrateStorage)==null?void 0:S.call(o,(p=n())!=null?p:f))||void 0;return fe(c.getItem.bind(c))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate){const R=o.migrate(v.state,v.version);return R instanceof Promise?R.then(te=>[!0,te]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var R;const[te,Ye]=v;if(_=o.merge(Ye,(R=n())!=null?R:f),t(_,!0),te)return d()}).then(()=>{H==null||H(_,void 0),_=n(),i=!0,a.forEach(v=>v(_))}).catch(v=>{H==null||H(void 0,v)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(c=p.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>W(),hasHydrated:()=>i,onHydrate:p=>(u.add(p),()=>{u.delete(p)}),onFinishHydration:p=>(a.add(p),()=>{a.delete(p)})},o.skipHydration||W(),_||f},rr=tr,nr=e=>(r,t,n)=>(n.setState=(s,o,...i)=>{const u=typeof s=="function"?Tt(s):s;return r(u,o,...i)},e(n.setState,t,n)),sr=nr,ke=["#0189d0","#cc004c","#6460aa","#f37021","#07b24a","#fbb712"],O=45,pe=gt()(rr(sr((e,r)=>({language:typeof window<"u"&&navigator.language.startsWith("tr")?"tr":"en",teams:[],selectedDeck:null,customDeck:null,selectedWordCount:null,turnDuration:O,gameStatus:"setup",setupStep:"teams",round:1,currentTeamIndex:0,words:[],unseenWords:[],guessedWordsThisRound:[],currentWord:null,lastGuessedWord:null,lastPassedWord:null,wordsGuessedThisTurn:[],timeLeft:O,turnEndReason:null,bonusTime:null,theme:typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",setLanguage:t=>e({language:t,setupStep:"teams",teams:[],selectedDeck:null,customDeck:null,selectedWordCount:null}),setTheme:t=>e({theme:t}),setTeamCount:(t,n)=>{e(s=>{const o=new Set;s.teams=Array.from({length:t},(i,u)=>{let a="";do{const c=n.adjectives[Math.floor(Math.random()*n.adjectives.length)],d=n.nouns[Math.floor(Math.random()*n.nouns.length)];a=`${c} ${d}`}while(o.has(a));return o.add(a),{id:u,name:a,color:ke[u%ke.length],score:0,isNameCustomized:!1}}),s.setupStep="customize"})},updateTeam:(t,n,s)=>{e(o=>{const i=o.teams.find(u=>u.id===t);i&&(i.name!==n&&(i.isNameCustomized=!0),i.name=n,i.color=s)})},regenerateTeamName:(t,n)=>{e(s=>{const o=s.teams.find(i=>i.id===t);if(o){const i=new Set(s.teams.filter(c=>c.id!==t).map(c=>c.name));let u="",a=0;do{const c=n.adjectives[Math.floor(Math.random()*n.adjectives.length)],d=n.nouns[Math.floor(Math.random()*n.nouns.length)];u=`${c} ${d}`,a++}while(i.has(u)&&a<50);o.name=u,o.isNameCustomized=!0}})},setSetupStep:t=>e({setupStep:t}),selectDeck:t=>e({selectedDeck:t}),setCustomDeck:t=>{e({customDeck:t,selectedDeck:t})},setWordCount:t=>e({selectedWordCount:t}),setTurnDuration:t=>e({turnDuration:t}),startGame:t=>{e(n=>{const s=n.selectedWordCount??t.length,i=[...t].sort(()=>Math.random()-.5).slice(0,s);n.gameStatus="get-ready",n.words=i,n.unseenWords=[...i].sort(()=>Math.random()-.5),n.guessedWordsThisRound=[],n.currentTeamIndex=0,n.round=1,n.bonusTime=null,n.teams.forEach(u=>u.score=0),n.lastGuessedWord=null,n.lastPassedWord=null})},startTurn:()=>{e(t=>{t.gameStatus="playing",t.timeLeft=t.bonusTime??t.turnDuration,t.bonusTime=null,t.lastGuessedWord=null,t.lastPassedWord=null,t.wordsGuessedThisTurn=[],t.turnEndReason=null,t.unseenWords.length>0?t.currentWord=t.unseenWords.pop():t.currentWord=null})},endTurn:()=>{e(t=>{if(t.currentWord){const n=t.currentWord,s=Math.floor(Math.random()*(t.unseenWords.length+1));t.unseenWords.splice(s,0,n),t.currentWord=null}t.gameStatus="turn-summary",t.turnEndReason="time-up",t.lastGuessedWord=null,t.lastPassedWord=null})},proceedToNextTurn:()=>{e(t=>{const{teams:n,round:s,unseenWords:o,words:i,currentTeamIndex:u}=t,a=(u+1)%n.length;if(t.lastGuessedWord=null,t.lastPassedWord=null,o.length===0){if(s===3){t.gameStatus="game-over";return}t.bonusTime===null&&(t.currentTeamIndex=a),t.round+=1,t.guessedWordsThisRound=[],t.unseenWords=[...i].sort(()=>Math.random()-.5),t.gameStatus="get-ready"}else t.currentTeamIndex=a,t.gameStatus="get-ready"})},handleCorrect:()=>{e(t=>{if(t.currentWord){const n=t.teams[t.currentTeamIndex];n.score+=t.currentWord.difficulty,t.wordsGuessedThisTurn.push(t.currentWord),t.guessedWordsThisRound.push(t.currentWord),t.lastGuessedWord=t.currentWord,t.lastPassedWord=null}t.unseenWords.length>0?t.currentWord=t.unseenWords.pop():(t.currentWord=null,t.lastGuessedWord=null,t.lastPassedWord=null,t.timeLeft>3&&t.round<3?(t.bonusTime=t.timeLeft,t.gameStatus="turn-summary",t.turnEndReason="words-exhausted"):(t.gameStatus="turn-summary",t.turnEndReason="words-exhausted"))})},handlePass:()=>{e(t=>{if(t.currentWord&&t.unseenWords.length>0){const n=t.currentWord;t.lastPassedWord=n,t.lastGuessedWord=null,t.currentWord=t.unseenWords.pop();const s=Math.floor(Math.random()*Math.ceil(t.unseenWords.length/2));t.unseenWords.splice(s,0,n)}})},undoLastAction:()=>{e(t=>{if(t.lastGuessedWord){const n=t.teams[t.currentTeamIndex];n.score-=t.lastGuessedWord.difficulty,t.wordsGuessedThisTurn.pop(),t.guessedWordsThisRound=t.guessedWordsThisRound.filter(s=>s.term!==t.lastGuessedWord.term),t.currentWord&&t.unseenWords.push(t.currentWord),t.currentWord=t.lastGuessedWord,t.lastGuessedWord=null}else if(t.lastPassedWord){const n=t.lastPassedWord,s=t.currentWord;t.unseenWords=t.unseenWords.filter(o=>o.term!==n.term),s&&t.unseenWords.push(s),t.currentWord=n,t.lastPassedWord=null}})},tick:()=>{e(t=>{t.gameStatus==="playing"&&(t.timeLeft-=1)})},resetSetup:()=>{e({teams:[],selectedDeck:null,customDeck:null,gameStatus:"setup",setupStep:"teams",selectedWordCount:null,turnDuration:O})},resetGame:()=>{e({teams:[],selectedDeck:null,customDeck:null,gameStatus:"setup",setupStep:"teams",round:1,currentTeamIndex:0,words:[],unseenWords:[],guessedWordsThisRound:[],currentWord:null,lastGuessedWord:null,lastPassedWord:null,wordsGuessedThisTurn:[],timeLeft:O,turnEndReason:null,bonusTime:null,selectedWordCount:null,turnDuration:O})}})),{name:"yaygara-storage",storage:Ke(()=>localStorage)})),je=e=>Symbol.iterator in e,Pe=e=>"entries"in e,Ce=(e,r)=>{const t=e instanceof Map?e:new Map(e.entries()),n=r instanceof Map?r:new Map(r.entries());if(t.size!==n.size)return!1;for(const[s,o]of t)if(!n.has(s)||!Object.is(o,n.get(s)))return!1;return!0},or=(e,r)=>{const t=e[Symbol.iterator](),n=r[Symbol.iterator]();let s=t.next(),o=n.next();for(;!s.done&&!o.done;){if(!Object.is(s.value,o.value))return!1;s=t.next(),o=n.next()}return!!s.done&&!!o.done};function ir(e,r){return Object.is(e,r)?!0:typeof e!="object"||e===null||typeof r!="object"||r===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(r)?!1:je(e)&&je(r)?Pe(e)&&Pe(r)?Ce(e,r):or(e,r):Ce({entries:()=>Object.entries(e)},{entries:()=>Object.entries(r)})}function ar(e){const r=it.useRef(void 0);return t=>{const n=e(t);return ir(r.current,n)?r.current:r.current=n}}const cr=["en","tr"],ur="en",j=({children:e})=>{const{lang:r}=at(),t=Ae(),{pathname:n}=ct(),{language:s,setLanguage:o}=pe(ar(i=>({language:i.language,setLanguage:i.setLanguage})));return g.useEffect(()=>{const i=r;if(!i||!cr.includes(i)){if(!i)return;t(`/${ur}`,{replace:!0});return}i!==s&&o(i),document.documentElement.lang=i,document.documentElement.dir="ltr",lr(i,n)},[r,s,o,t,n]),l.jsx(l.Fragment,{children:e})};function lr(e,r){const t="https://yaygara.mertskaplan.com",n=["en","tr"];document.querySelectorAll('link[rel="canonical"]').forEach(f=>f.remove()),document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(f=>f.remove());const s=document.createElement("link");s.setAttribute("rel","canonical"),s.setAttribute("href",`${t}${r}`),document.head.appendChild(s);const o={en:"Fun party game based on narration and guessing",tr:"Anlatma ve tahmine dayalı eğlenceli parti oyunu"},i={en:"Yaygara: Fun party game based on narration and guessing",tr:"Yaygara: Anlatma ve tahmine dayalı eğlenceli parti oyunu"},u={en:"Yaygara | Fun party game based on narration and guessing",tr:"Yaygara | Anlatma ve tahmine dayalı eğlenceli parti oyunu"};document.title=u[e];let a=document.querySelector('meta[name="description"]');a&&a.setAttribute("content",o[e]);let c=document.querySelector('meta[property="og:title"]');c&&c.setAttribute("content",i[e]);let d=document.querySelector('meta[property="og:description"]');d&&d.setAttribute("content",o[e]),n.forEach(f=>{const _=document.createElement("link");_.setAttribute("rel","alternate"),_.setAttribute("hreflang",f);const W=Te(r,f);_.setAttribute("href",`${t}${W}`),document.head.appendChild(_)});const m=document.createElement("link");m.setAttribute("rel","alternate"),m.setAttribute("hreflang","x-default"),m.setAttribute("href",`${t}${Te(r,"en")}`),document.head.appendChild(m)}const dr={setup:{en:"setup",tr:"kurulum"},kurulum:{en:"setup",tr:"kurulum"},play:{en:"play",tr:"oyun"},oyun:{en:"play",tr:"oyun"},score:{en:"score",tr:"skor"},skor:{en:"score",tr:"skor"}};function Te(e,r){const t=e.split("/").filter(Boolean);if(t.length===0)return`/${r}`;const s=t.slice(1).map(o=>{const i=dr[o];return i?i[r]:o});return`/${r}${s.length>0?"/"+s.join("/"):""}`}const fr=()=>{const e=Ae();return pe(r=>r.language),g.useEffect(()=>{const t=navigator.language.split("-")[0]==="tr"?"tr":"en";e(`/${t}`,{replace:!0})},[e]),null},hr=({children:e})=>{const r=pe(t=>t.theme);return g.useEffect(()=>{const t=window.document.documentElement;r==="dark"?t.classList.add("dark"):t.classList.remove("dark")},[r]),g.useEffect(()=>{const t=window.matchMedia("(prefers-color-scheme: dark)"),n=s=>{};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[]),l.jsx(l.Fragment,{children:e})},se={},mr=["en","tr"],D={},Ve=async e=>{if(se[e])return se[e];if(D[e])return D[e];const r=fetch(`/locales/${e}.json`).then(async t=>{if(!t.ok)throw new Error(`Failed to fetch ${e}.json`);const n=await t.json();return se[e]=n,delete D[e],n}).catch(t=>(console.error(`Could not load translations for language: ${e}`,t),delete D[e],e!=="en"?Ve("en"):{}));return D[e]=r,r};let oe=null;const pr=()=>(oe||(console.log("Preloading all translations..."),oe=Promise.all(mr.map(e=>Ve(e)))),oe);let A=null;const M={},gr=()=>A||(A=fetch("/decks-manifest.json").then(e=>{if(!e.ok)throw new Error("Failed to fetch decks-manifest.json");return e.json()}).catch(e=>{throw console.error("Error fetching decks manifest:",e),A=null,e}),A),yr=e=>(M[e]||(M[e]=fetch(`/decks/${e}`).then(r=>{if(!r.ok)throw new Error(`Failed to fetch deck: ${e}`);return r.json()}).catch(r=>{throw console.error(`Error fetching deck ${e}:`,r),delete M[e],r})),M[e]);Pt();pr();const _r=g.lazy(()=>C(()=>import("./HomePage-DNJJ9hGI.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(e=>({default:e.HomePage}))),Ne=g.lazy(()=>C(()=>import("./SetupPage-CtIsdYeN.js"),__vite__mapDeps([7,1,2,4,6,3,5])).then(e=>({default:e.SetupPage}))),Ie=g.lazy(()=>C(()=>import("./GamePage-Bi_Hl0qn.js"),__vite__mapDeps([8,1,2,5,6,4])).then(e=>({default:e.GamePage}))),Oe=g.lazy(()=>C(()=>import("./ScoreboardPage-CVU0QmOE.js"),__vite__mapDeps([9,1,2,6,5,4])).then(e=>({default:e.ScoreboardPage}))),wr=()=>{typeof window<"u"&&window.addEventListener("load",()=>{setTimeout(async()=>{C(()=>import("./SetupPage-CtIsdYeN.js"),__vite__mapDeps([7,1,2,4,6,3,5])),setTimeout(()=>C(()=>import("./GamePage-Bi_Hl0qn.js"),__vite__mapDeps([8,1,2,5,6,4])),1e3),setTimeout(()=>C(()=>import("./ScoreboardPage-CVU0QmOE.js"),__vite__mapDeps([9,1,2,6,5,4])),2e3);try{(await gr()).forEach((r,t)=>{setTimeout(()=>{yr(r.filename).catch(()=>{})},3e3+t*500)})}catch(e){console.error("Failed to preload decks",e)}},2e3)})};wr();const vr=()=>l.jsx("div",{className:"flex items-center justify-center h-screen-dvh bg-transparent",children:l.jsx("div",{className:"w-12 h-12 border-4 border-sky-500 border-t-transparent rounded-full animate-spin"})}),P=({children:e})=>l.jsx(g.Suspense,{fallback:l.jsx(vr,{}),children:e}),Er=ut([{path:"/",element:l.jsx(fr,{}),errorElement:l.jsx(k,{})},{path:"/:lang",element:l.jsx(P,{children:l.jsx(j,{children:l.jsx(_r,{})})}),errorElement:l.jsx(k,{})},{path:"/:lang/setup",element:l.jsx(P,{children:l.jsx(j,{children:l.jsx(Ne,{})})}),errorElement:l.jsx(k,{})},{path:"/:lang/kurulum",element:l.jsx(P,{children:l.jsx(j,{children:l.jsx(Ne,{})})}),errorElement:l.jsx(k,{})},{path:"/:lang/play",element:l.jsx(P,{children:l.jsx(j,{children:l.jsx(Ie,{})})}),errorElement:l.jsx(k,{})},{path:"/:lang/oyun",element:l.jsx(P,{children:l.jsx(j,{children:l.jsx(Ie,{})})}),errorElement:l.jsx(k,{})},{path:"/:lang/score",element:l.jsx(P,{children:l.jsx(j,{children:l.jsx(Oe,{})})}),errorElement:l.jsx(k,{})},{path:"/:lang/skor",element:l.jsx(P,{children:l.jsx(j,{children:l.jsx(Oe,{})})}),errorElement:l.jsx(k,{})}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}});It.createRoot(document.getElementById("root")).render(l.jsx(g.StrictMode,{children:l.jsx(Yt,{children:l.jsx(hr,{children:l.jsx(et,{features:tt,children:l.jsx(lt,{router:Er,future:{v7_startTransition:!0}})})})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});export{de as B,ke as T,ar as a,yr as b,N as c,qt as d,Ve as e,gr as f,kr as h,se as t,pe as u};


//# sourceMappingURL=data:application/json;base64,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QkEsQ0FBaUIsQ0FDM0QsQ0FBQyxDQUNILENBQUMiLCJuYW1lcyI6WyJOT1RISU5HIiwiRFJBRlRBQkxFIiwiRFJBRlRfU1RBVEUiLCJkaWUiLCJlcnJvciIsImFyZ3MiLCJnZXRQcm90b3R5cGVPZiIsImlzRHJhZnQiLCJ2YWx1ZSIsImlzRHJhZnRhYmxlIiwiaXNQbGFpbk9iamVjdCIsIl9hIiwiaXNNYXAiLCJpc1NldCIsIm9iamVjdEN0b3JTdHJpbmciLCJjYWNoZWRDdG9yU3RyaW5ncyIsInByb3RvIiwiQ3RvciIsImN0b3JTdHJpbmciLCJlYWNoIiwib2JqIiwiaXRlciIsInN0cmljdCIsImdldEFyY2h0eXBlIiwia2V5IiwiZW50cnkiLCJpbmRleCIsInRoaW5nIiwic3RhdGUiLCJoYXMiLCJwcm9wIiwic2V0IiwicHJvcE9yT2xkVmFsdWUiLCJ0IiwiaXMiLCJ4IiwieSIsInRhcmdldCIsImxhdGVzdCIsInNoYWxsb3dDb3B5IiwiYmFzZSIsImlzUGxhaW4iLCJkZXNjcmlwdG9ycyIsImtleXMiLCJpIiwiZGVzYyIsImZyZWV6ZSIsImRlZXAiLCJpc0Zyb3plbiIsImRvbnRNdXRhdGVNZXRob2RPdmVycmlkZSIsImRvbnRNdXRhdGVGcm96ZW5Db2xsZWN0aW9ucyIsInBsdWdpbnMiLCJnZXRQbHVnaW4iLCJwbHVnaW5LZXkiLCJwbHVnaW4iLCJsb2FkUGx1Z2luIiwiaW1wbGVtZW50YXRpb24iLCJjdXJyZW50U2NvcGUiLCJnZXRDdXJyZW50U2NvcGUiLCJjcmVhdGVTY29wZSIsInBhcmVudF8iLCJpbW1lcl8iLCJ1c2VQYXRjaGVzSW5TY29wZSIsInNjb3BlIiwicGF0Y2hMaXN0ZW5lciIsInJldm9rZVNjb3BlIiwibGVhdmVTY29wZSIsInJldm9rZURyYWZ0IiwiZW50ZXJTY29wZSIsImltbWVyMiIsImRyYWZ0IiwicHJvY2Vzc1Jlc3VsdCIsInJlc3VsdCIsImJhc2VEcmFmdCIsImZpbmFsaXplIiwibWF5YmVGcmVlemUiLCJyb290U2NvcGUiLCJwYXRoIiwidXNlU3RyaWN0SXRlcmF0aW9uIiwiY2hpbGRWYWx1ZSIsImZpbmFsaXplUHJvcGVydHkiLCJyZXN1bHRFYWNoIiwiaXNTZXQyIiwicGFyZW50U3RhdGUiLCJ0YXJnZXRPYmplY3QiLCJyb290UGF0aCIsInRhcmdldElzU2V0IiwiY2hpbGRJc0Zyb3plbiIsInJlcyIsImNyZWF0ZVByb3h5UHJveHkiLCJwYXJlbnQiLCJpc0FycmF5IiwidHJhcHMiLCJvYmplY3RUcmFwcyIsImFycmF5VHJhcHMiLCJyZXZva2UiLCJwcm94eSIsInNvdXJjZSIsInJlYWRQcm9wRnJvbVByb3RvIiwicGVlayIsInByZXBhcmVDb3B5IiwiY3JlYXRlUHJveHkiLCJnZXREZXNjcmlwdG9yRnJvbVByb3RvIiwiY3VycmVudDIiLCJjdXJyZW50U3RhdGUiLCJtYXJrQ2hhbmdlZCIsIm93bmVyIiwiZm4iLCJJbW1lcjIiLCJjb25maWciLCJyZWNpcGUiLCJkZWZhdWx0QmFzZSIsInNlbGYiLCJiYXNlMiIsImhhc0Vycm9yIiwicCIsImlwIiwicGF0Y2hlcyIsImludmVyc2VQYXRjaGVzIiwiY3VycmVudCIsInBhdGNoIiwiYXBwbHlQYXRjaGVzSW1wbCIsImN1cnJlbnRJbXBsIiwiY29weSIsImVuYWJsZU1hcFNldCIsIkRyYWZ0TWFwIiwiYXNzZXJ0VW5yZXZva2VkIiwicHJlcGFyZU1hcENvcHkiLCJjYiIsInRoaXNBcmciLCJfdmFsdWUiLCJfbWFwIiwiaXRlcmF0b3IiLCJyIiwicHJveHlNYXBfIiwiRHJhZnRTZXQiLCJwcmVwYXJlU2V0Q29weSIsInByb3h5U2V0XyIsImltbWVyIiwicHJvZHVjZSIsIm0iLCJyZXF1aXJlJCQwIiwiY2xpZW50IiwiY2F0ZWdvcml6ZSIsIm1lc3NhZ2UiLCJSRUFDVF9XQVJOSU5HX1BBVFRFUk4iLCJXQVJOSU5HX1BSRUZJWCIsIkNPTlNPTEVfRVJST1JfUFJFRklYIiwiU09VUkNFX0ZJTEVfUEFUVEVSTlMiLCJWRU5ET1JfUEFUVEVSTlMiLCJpc1JlYWN0Um91dGVyRnV0dXJlRmxhZ01lc3NhZ2UiLCJpc0RlcHJlY2F0ZWRSZWFjdFdhcm5pbmdNZXNzYWdlIiwiaGFzUmVsZXZhbnRTb3VyY2VJblN0YWNrIiwic3RhY2siLCJsaW5lcyIsImxpbmUiLCJwYXQiLCJHbG9iYWxFcnJvckRlZHVwbGljYXRpb24iLCJfX3B1YmxpY0ZpZWxkIiwiY29udGV4dCIsImhhc1NvdXJjZUNvZGUiLCJpc1dhcm5pbmciLCJzdGFja0RlcHRoIiwibmV3UHJlYyIsImV4aXN0aW5nUHJlYyIsIm1lc3NhZ2VDb3JlIiwiaW1tZWRpYXRlIiwic2lnbmF0dXJlIiwicHJlY2VkZW5jZSIsImV4aXN0aW5nIiwibm93IiwiY3V0b2ZmIiwiZGF0YSIsImdsb2JhbERlZHVwbGljYXRpb24iLCJFcnJvclJlcG9ydGVyIiwiZXJyIiwib3JpZ2luYWxIYW5kbGVyIiwibGluZW5vIiwiY29sbm8iLCJlcnJvck1lc3NhZ2UiLCJwYXlsb2FkIiwiZXZlbnQiLCJtZXRob2QiLCJvcmlnaW5hbCIsInByZWZpeCIsImZvcm1hdENvbnNvbGVBcmdzIiwibGV2ZWwiLCJjdXJyZW50V2FybiIsImN1cnJlbnRFcnJvciIsInBhdHRlcm4iLCJkZWR1cGxpY2F0aW9uUmVzdWx0IiwicGFyc2VkTGluZXMiLCJwYXJzZWRMaW5lIiwiY29tcG9uZW50TWF0Y2giLCJjb21wb25lbnROYW1lIiwiZmlsZVBhdGgiLCJsaW5lTnVtIiwiY29sTnVtIiwic3JjTWF0Y2giLCJlcnJvcnNUb1JlcG9ydCIsImFyZyIsImNyZWF0ZUltbWVkaWF0ZUVycm9yUGF5bG9hZCIsInNob3VsZFJlcG9ydEltbWVkaWF0ZSIsInNlbmRJbW1lZGlhdGVFcnJvciIsIm9yaWdpbmFsV2FybiIsIm9yaWdpbmFsRXJyb3IiLCJjcmVhdGVJbW1lZGlhdGVJbnRlcmNlcHRvciIsImRlZmF1bHRMZXZlbCIsImVycm9yUmVwb3J0ZXIiLCJmYWxzeVRvU3RyaW5nIiwiY3giLCJjbHN4IiwiY3ZhIiwicHJvcHMiLCJfY29uZmlnX2NvbXBvdW5kVmFyaWFudHMiLCJ2YXJpYW50cyIsImRlZmF1bHRWYXJpYW50cyIsImdldFZhcmlhbnRDbGFzc05hbWVzIiwidmFyaWFudCIsInZhcmlhbnRQcm9wIiwiZGVmYXVsdFZhcmlhbnRQcm9wIiwidmFyaWFudEtleSIsInByb3BzV2l0aG91dFVuZGVmaW5lZCIsImFjYyIsInBhcmFtIiwiZ2V0Q29tcG91bmRWYXJpYW50Q2xhc3NOYW1lcyIsImN2Q2xhc3MiLCJjdkNsYXNzTmFtZSIsImNvbXBvdW5kVmFyaWFudE9wdGlvbnMiLCJjbiIsImlucHV0cyIsInR3TWVyZ2UiLCJoZXhUb0hzbCIsImhleCIsImxpZ2h0bmVzcyIsImciLCJiIiwibWF4IiwibWluIiwiaCIsInMiLCJsIiwiYnV0dG9uVmFyaWFudHMiLCJCdXR0b24iLCJSZWFjdC5mb3J3YXJkUmVmIiwiY2xhc3NOYW1lIiwic2l6ZSIsImFzQ2hpbGQiLCJyZWYiLCJDb21wIiwiU2xvdCIsImpzeCIsIkNhcmQiLCJDYXJkSGVhZGVyIiwiQ2FyZFRpdGxlIiwiQ2FyZERlc2NyaXB0aW9uIiwiQ2FyZENvbnRlbnQiLCJDYXJkRm9vdGVyIiwiRXJyb3JGYWxsYmFjayIsInRpdGxlIiwib25SZXRyeSIsIm9uR29Ib21lIiwic2hvd0Vycm9yRGV0YWlscyIsInN0YXR1c01lc3NhZ2UiLCJoYW5kbGVSZXRyeSIsImhhbmRsZUdvSG9tZSIsImpzeHMiLCJBbGVydFRyaWFuZ2xlIiwiUmVmcmVzaEN3IiwiSG9tZSIsIkVycm9yQm91bmRhcnkiLCJDb21wb25lbnQiLCJlcnJvckluZm8iLCJyZXBvcnRSb3V0ZUVycm9yIiwiZXJyb3JTdGFjayIsImlzUm91dGVFcnJvclJlc3BvbnNlIiwiUm91dGVFcnJvckJvdW5kYXJ5VmlldyIsInVzZUVmZmVjdCIsIkRhdGFSb3V0ZXJSb3V0ZUVycm9yQm91bmRhcnkiLCJ1c2VSb3V0ZUVycm9yIiwiUm91dGVFcnJvckJvdW5kYXJ5IiwiaW5Sb3V0ZXIiLCJ1c2VJblJvdXRlckNvbnRleHQiLCJkYXRhUm91dGVyU3RhdGUiLCJ1c2VDb250ZXh0IiwiVU5TQUZFX0RhdGFSb3V0ZXJTdGF0ZUNvbnRleHQiLCJtaXNjb25maWd1cmVkIiwiY3JlYXRlSlNPTlN0b3JhZ2UiLCJnZXRTdG9yYWdlIiwib3B0aW9ucyIsInN0b3JhZ2UiLCJuYW1lIiwicGFyc2UiLCJzdHIyIiwic3RyIiwibmV3VmFsdWUiLCJ0b1RoZW5hYmxlIiwiaW5wdXQiLCJvbkZ1bGZpbGxlZCIsIl9vblJlamVjdGVkIiwiZSIsIl9vbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJwZXJzaXN0SW1wbCIsImJhc2VPcHRpb25zIiwiZ2V0IiwiYXBpIiwicGVyc2lzdGVkU3RhdGUiLCJoYXNIeWRyYXRlZCIsImh5ZHJhdGlvbkxpc3RlbmVycyIsImZpbmlzaEh5ZHJhdGlvbkxpc3RlbmVycyIsInNldEl0ZW0iLCJzYXZlZFNldFN0YXRlIiwicmVwbGFjZSIsImNvbmZpZ1Jlc3VsdCIsInN0YXRlRnJvbVN0b3JhZ2UiLCJoeWRyYXRlIiwiX2IiLCJfYTIiLCJwb3N0UmVoeWRyYXRpb25DYWxsYmFjayIsImRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZSIsIm1pZ3JhdGlvbiIsIm1pZ3JhdGlvblJlc3VsdCIsIm1pZ3JhdGVkIiwibWlncmF0ZWRTdGF0ZSIsIm5ld09wdGlvbnMiLCJwZXJzaXN0IiwiaW1tZXJJbXBsIiwiaW5pdGlhbGl6ZXIiLCJzdG9yZSIsInVwZGF0ZXIiLCJuZXh0U3RhdGUiLCJURUFNX0NPTE9SUyIsIkRFRkFVTFRfVFVSTl9EVVJBVElPTiIsInVzZUdhbWVTdG9yZSIsImNyZWF0ZSIsImxhbmciLCJ0aGVtZSIsImNvdW50IiwibmFtZVBhcnRzIiwidXNlZE5hbWVzIiwiXyIsImFkaiIsIm5vdW4iLCJpZCIsImNvbG9yIiwidGVhbSIsInRlYW1JZCIsInRlYW1Ub1VwZGF0ZSIsIm5ld05hbWUiLCJhdHRlbXB0cyIsInN0ZXAiLCJkZWNrIiwiZHVyYXRpb24iLCJ3b3JkcyIsImdhbWVXb3JkcyIsImV4cGlyZWRXb3JkIiwiaW5zZXJ0SW5kZXgiLCJ0ZWFtcyIsInJvdW5kIiwidW5zZWVuV29yZHMiLCJjdXJyZW50VGVhbUluZGV4IiwibmV4dFRlYW1JbmRleCIsInBhc3NlZFdvcmQiLCJ3b3JkIiwid29yZFRvUmVzdG9yZUFzQ3VycmVudCIsIndvcmRUb1JldHVyblRvRGVjayIsImlzSXRlcmFibGUiLCJoYXNJdGVyYWJsZUVudHJpZXMiLCJjb21wYXJlRW50cmllcyIsInZhbHVlQSIsInZhbHVlQiIsIm1hcEEiLCJtYXBCIiwiY29tcGFyZUl0ZXJhYmxlcyIsIml0ZXJhdG9yQSIsIml0ZXJhdG9yQiIsIm5leHRBIiwibmV4dEIiLCJzaGFsbG93IiwidXNlU2hhbGxvdyIsInNlbGVjdG9yIiwicHJldiIsIlJlYWN0IiwibmV4dCIsIlNVUFBPUlRFRF9MQU5HVUFHRVMiLCJERUZBVUxUX0xBTkdVQUdFIiwiTGFuZ3VhZ2VXcmFwcGVyIiwiY2hpbGRyZW4iLCJ1c2VQYXJhbXMiLCJuYXZpZ2F0ZSIsInVzZU5hdmlnYXRlIiwicGF0aG5hbWUiLCJ1c2VMb2NhdGlvbiIsImxhbmd1YWdlIiwic2V0TGFuZ3VhZ2UiLCJjdXJyZW50TGFuZyIsInVwZGF0ZVNFT1RhZ3MiLCJiYXNlVXJsIiwibGFuZ3VhZ2VzIiwiZWwiLCJjYW5vbmljYWwiLCJkZXNjcmlwdGlvbnMiLCJvZ1RpdGxlcyIsInRpdGxlcyIsIm1ldGFEZXNjIiwib2dUaXRsZSIsIm9nRGVzYyIsImxpbmsiLCJ0YXJnZXRQYXRoIiwiZ2V0TG9jYWxpemVkUGF0aCIsInhEZWZhdWx0IiwiU0xVR19NQVAiLCJ0YXJnZXRMYW5nIiwicGFydHMiLCJsb2NhbGl6ZWRQYXJ0cyIsInBhcnQiLCJtYXBwaW5nIiwiUm9vdFJlZGlyZWN0b3IiLCJUaGVtZU1hbmFnZXIiLCJyb290IiwibWVkaWFRdWVyeSIsImhhbmRsZUNoYW5nZSIsInRyYW5zbGF0aW9uc0NhY2hlIiwicGVuZGluZ0ZldGNoZXMiLCJmZXRjaFRyYW5zbGF0aW9ucyIsImZldGNoUHJvbWlzZSIsInJlc3BvbnNlIiwicHJlbG9hZFByb21pc2UiLCJwcmVsb2FkVHJhbnNsYXRpb25zIiwibWFuaWZlc3RQcm9taXNlIiwiZGVja0NhY2hlIiwiZmV0Y2hEZWNrc01hbmlmZXN0IiwiZmV0Y2hGdWxsRGVjayIsImZpbGVuYW1lIiwiSG9tZVBhZ2UiLCJsYXp5IiwiX192aXRlUHJlbG9hZCIsIlNldHVwUGFnZSIsIkdhbWVQYWdlIiwiU2NvcmVib2FyZFBhZ2UiLCJwcmVsb2FkQXNzZXRzIiwiTG9hZGluZ1BhZ2UiLCJTdXNwZW5zZUxheW91dCIsIlN1c3BlbnNlIiwicm91dGVyIiwiY3JlYXRlQnJvd3NlclJvdXRlciIsImNyZWF0ZVJvb3QiLCJTdHJpY3RNb2RlIiwiTGF6eU1vdGlvbiIsImRvbUFuaW1hdGlvbiIsIlJvdXRlclByb3ZpZGVyIiwicmVnaXN0cmF0aW9uIiwicmVnaXN0cmF0aW9uRXJyb3IiXSwiaWdub3JlTGlzdCI6WzAsMSwzLDEwLDExLDEzLDE0XSwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvaW1tZXIvZGlzdC9pbW1lci5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2NsaWVudC5qcyIsIi4uLy4uL3NyYy9saWIvZXJyb3JSZXBvcnRlci50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy9jbGFzcy12YXJpYW5jZS1hdXRob3JpdHkvZGlzdC9pbmRleC5tanMiLCIuLi8uLi9zcmMvbGliL3V0aWxzLnRzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvdWkvYnV0dG9uLnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL3VpL2NhcmQudHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvRXJyb3JGYWxsYmFjay50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5LnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL1JvdXRlRXJyb3JCb3VuZGFyeS50c3giLCIuLi8uLi9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vbWlkZGxld2FyZS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vbWlkZGxld2FyZS9pbW1lci5tanMiLCIuLi8uLi9zcmMvc3RvcmVzL3VzZUdhbWVTdG9yZS50cyIsIi4uLy4uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS92YW5pbGxhL3NoYWxsb3cubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3JlYWN0L3NoYWxsb3cubWpzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvTGFuZ3VhZ2VXcmFwcGVyLnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL1Jvb3RSZWRpcmVjdG9yLnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL1RoZW1lTWFuYWdlci50c3giLCIuLi8uLi9zcmMvbGliL2kxOG4udHMiLCIuLi8uLi9zcmMvbGliL2RlY2tzLnRzIiwiLi4vLi4vc3JjL21haW4udHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91dGlscy9lbnYudHNcbnZhciBOT1RISU5HID0gU3ltYm9sLmZvcihcImltbWVyLW5vdGhpbmdcIik7XG52YXIgRFJBRlRBQkxFID0gU3ltYm9sLmZvcihcImltbWVyLWRyYWZ0YWJsZVwiKTtcbnZhciBEUkFGVF9TVEFURSA9IFN5bWJvbC5mb3IoXCJpbW1lci1zdGF0ZVwiKTtcblxuLy8gc3JjL3V0aWxzL2Vycm9ycy50c1xudmFyIGVycm9ycyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFtcbiAgLy8gQWxsIGVycm9yIGNvZGVzLCBzdGFydGluZyBieSAwOlxuICBmdW5jdGlvbihwbHVnaW4pIHtcbiAgICByZXR1cm4gYFRoZSBwbHVnaW4gZm9yICcke3BsdWdpbn0nIGhhcyBub3QgYmVlbiBsb2FkZWQgaW50byBJbW1lci4gVG8gZW5hYmxlIHRoZSBwbHVnaW4sIGltcG9ydCBhbmQgY2FsbCBcXGBlbmFibGUke3BsdWdpbn0oKVxcYCB3aGVuIGluaXRpYWxpemluZyB5b3VyIGFwcGxpY2F0aW9uLmA7XG4gIH0sXG4gIGZ1bmN0aW9uKHRoaW5nKSB7XG4gICAgcmV0dXJuIGBwcm9kdWNlIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGluZ3MgdGhhdCBhcmUgZHJhZnRhYmxlOiBwbGFpbiBvYmplY3RzLCBhcnJheXMsIE1hcCwgU2V0IG9yIGNsYXNzZXMgdGhhdCBhcmUgbWFya2VkIHdpdGggJ1tpbW1lcmFibGVdOiB0cnVlJy4gR290ICcke3RoaW5nfSdgO1xuICB9LFxuICBcIlRoaXMgb2JqZWN0IGhhcyBiZWVuIGZyb3plbiBhbmQgc2hvdWxkIG5vdCBiZSBtdXRhdGVkXCIsXG4gIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICByZXR1cm4gXCJDYW5ub3QgdXNlIGEgcHJveHkgdGhhdCBoYXMgYmVlbiByZXZva2VkLiBEaWQgeW91IHBhc3MgYW4gb2JqZWN0IGZyb20gaW5zaWRlIGFuIGltbWVyIGZ1bmN0aW9uIHRvIGFuIGFzeW5jIHByb2Nlc3M/IFwiICsgZGF0YTtcbiAgfSxcbiAgXCJBbiBpbW1lciBwcm9kdWNlciByZXR1cm5lZCBhIG5ldyB2YWx1ZSAqYW5kKiBtb2RpZmllZCBpdHMgZHJhZnQuIEVpdGhlciByZXR1cm4gYSBuZXcgdmFsdWUgKm9yKiBtb2RpZnkgdGhlIGRyYWZ0LlwiLFxuICBcIkltbWVyIGZvcmJpZHMgY2lyY3VsYXIgcmVmZXJlbmNlc1wiLFxuICBcIlRoZSBmaXJzdCBvciBzZWNvbmQgYXJndW1lbnQgdG8gYHByb2R1Y2VgIG11c3QgYmUgYSBmdW5jdGlvblwiLFxuICBcIlRoZSB0aGlyZCBhcmd1bWVudCB0byBgcHJvZHVjZWAgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIHVuZGVmaW5lZFwiLFxuICBcIkZpcnN0IGFyZ3VtZW50IHRvIGBjcmVhdGVEcmFmdGAgbXVzdCBiZSBhIHBsYWluIG9iamVjdCwgYW4gYXJyYXksIG9yIGFuIGltbWVyYWJsZSBvYmplY3RcIixcbiAgXCJGaXJzdCBhcmd1bWVudCB0byBgZmluaXNoRHJhZnRgIG11c3QgYmUgYSBkcmFmdCByZXR1cm5lZCBieSBgY3JlYXRlRHJhZnRgXCIsXG4gIGZ1bmN0aW9uKHRoaW5nKSB7XG4gICAgcmV0dXJuIGAnY3VycmVudCcgZXhwZWN0cyBhIGRyYWZ0LCBnb3Q6ICR7dGhpbmd9YDtcbiAgfSxcbiAgXCJPYmplY3QuZGVmaW5lUHJvcGVydHkoKSBjYW5ub3QgYmUgdXNlZCBvbiBhbiBJbW1lciBkcmFmdFwiLFxuICBcIk9iamVjdC5zZXRQcm90b3R5cGVPZigpIGNhbm5vdCBiZSB1c2VkIG9uIGFuIEltbWVyIGRyYWZ0XCIsXG4gIFwiSW1tZXIgb25seSBzdXBwb3J0cyBkZWxldGluZyBhcnJheSBpbmRpY2VzXCIsXG4gIFwiSW1tZXIgb25seSBzdXBwb3J0cyBzZXR0aW5nIGFycmF5IGluZGljZXMgYW5kIHRoZSAnbGVuZ3RoJyBwcm9wZXJ0eVwiLFxuICBmdW5jdGlvbih0aGluZykge1xuICAgIHJldHVybiBgJ29yaWdpbmFsJyBleHBlY3RzIGEgZHJhZnQsIGdvdDogJHt0aGluZ31gO1xuICB9XG4gIC8vIE5vdGU6IGlmIG1vcmUgZXJyb3JzIGFyZSBhZGRlZCwgdGhlIGVycm9yT2Zmc2V0IGluIFBhdGNoZXMudHMgc2hvdWxkIGJlIGluY3JlYXNlZFxuICAvLyBTZWUgUGF0Y2hlcy50cyBmb3IgYWRkaXRpb25hbCBlcnJvcnNcbl0gOiBbXTtcbmZ1bmN0aW9uIGRpZShlcnJvciwgLi4uYXJncykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgY29uc3QgZSA9IGVycm9yc1tlcnJvcl07XG4gICAgY29uc3QgbXNnID0gdHlwZW9mIGUgPT09IFwiZnVuY3Rpb25cIiA/IGUuYXBwbHkobnVsbCwgYXJncykgOiBlO1xuICAgIHRocm93IG5ldyBFcnJvcihgW0ltbWVyXSAke21zZ31gKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgYFtJbW1lcl0gbWluaWZpZWQgZXJyb3IgbnI6ICR7ZXJyb3J9LiBGdWxsIGVycm9yIGF0OiBodHRwczovL2JpdC5seS8zY1hFS1dmYFxuICApO1xufVxuXG4vLyBzcmMvdXRpbHMvY29tbW9uLnRzXG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG5mdW5jdGlvbiBpc0RyYWZ0KHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmICEhdmFsdWVbRFJBRlRfU1RBVEVdO1xufVxuZnVuY3Rpb24gaXNEcmFmdGFibGUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSB8fCAhIXZhbHVlW0RSQUZUQUJMRV0gfHwgISF2YWx1ZS5jb25zdHJ1Y3Rvcj8uW0RSQUZUQUJMRV0gfHwgaXNNYXAodmFsdWUpIHx8IGlzU2V0KHZhbHVlKTtcbn1cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpO1xudmFyIGNhY2hlZEN0b3JTdHJpbmdzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKVxuICAgIHJldHVybiBmYWxzZTtcbiAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwgfHwgcHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUpXG4gICAgcmV0dXJuIHRydWU7XG4gIGNvbnN0IEN0b3IgPSBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgXCJjb25zdHJ1Y3RvclwiKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcbiAgaWYgKEN0b3IgPT09IE9iamVjdClcbiAgICByZXR1cm4gdHJ1ZTtcbiAgaWYgKHR5cGVvZiBDdG9yICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBsZXQgY3RvclN0cmluZyA9IGNhY2hlZEN0b3JTdHJpbmdzLmdldChDdG9yKTtcbiAgaWYgKGN0b3JTdHJpbmcgPT09IHZvaWQgMCkge1xuICAgIGN0b3JTdHJpbmcgPSBGdW5jdGlvbi50b1N0cmluZy5jYWxsKEN0b3IpO1xuICAgIGNhY2hlZEN0b3JTdHJpbmdzLnNldChDdG9yLCBjdG9yU3RyaW5nKTtcbiAgfVxuICByZXR1cm4gY3RvclN0cmluZyA9PT0gb2JqZWN0Q3RvclN0cmluZztcbn1cbmZ1bmN0aW9uIG9yaWdpbmFsKHZhbHVlKSB7XG4gIGlmICghaXNEcmFmdCh2YWx1ZSkpXG4gICAgZGllKDE1LCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZVtEUkFGVF9TVEFURV0uYmFzZV87XG59XG5mdW5jdGlvbiBlYWNoKG9iaiwgaXRlciwgc3RyaWN0ID0gdHJ1ZSkge1xuICBpZiAoZ2V0QXJjaHR5cGUob2JqKSA9PT0gMCAvKiBPYmplY3QgKi8pIHtcbiAgICBjb25zdCBrZXlzID0gc3RyaWN0ID8gUmVmbGVjdC5vd25LZXlzKG9iaikgOiBPYmplY3Qua2V5cyhvYmopO1xuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpdGVyKGtleSwgb2JqW2tleV0sIG9iaik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqLmZvckVhY2goKGVudHJ5LCBpbmRleCkgPT4gaXRlcihpbmRleCwgZW50cnksIG9iaikpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRBcmNodHlwZSh0aGluZykge1xuICBjb25zdCBzdGF0ZSA9IHRoaW5nW0RSQUZUX1NUQVRFXTtcbiAgcmV0dXJuIHN0YXRlID8gc3RhdGUudHlwZV8gOiBBcnJheS5pc0FycmF5KHRoaW5nKSA/IDEgLyogQXJyYXkgKi8gOiBpc01hcCh0aGluZykgPyAyIC8qIE1hcCAqLyA6IGlzU2V0KHRoaW5nKSA/IDMgLyogU2V0ICovIDogMCAvKiBPYmplY3QgKi87XG59XG5mdW5jdGlvbiBoYXModGhpbmcsIHByb3ApIHtcbiAgcmV0dXJuIGdldEFyY2h0eXBlKHRoaW5nKSA9PT0gMiAvKiBNYXAgKi8gPyB0aGluZy5oYXMocHJvcCkgOiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpbmcsIHByb3ApO1xufVxuZnVuY3Rpb24gZ2V0KHRoaW5nLCBwcm9wKSB7XG4gIHJldHVybiBnZXRBcmNodHlwZSh0aGluZykgPT09IDIgLyogTWFwICovID8gdGhpbmcuZ2V0KHByb3ApIDogdGhpbmdbcHJvcF07XG59XG5mdW5jdGlvbiBzZXQodGhpbmcsIHByb3BPck9sZFZhbHVlLCB2YWx1ZSkge1xuICBjb25zdCB0ID0gZ2V0QXJjaHR5cGUodGhpbmcpO1xuICBpZiAodCA9PT0gMiAvKiBNYXAgKi8pXG4gICAgdGhpbmcuc2V0KHByb3BPck9sZFZhbHVlLCB2YWx1ZSk7XG4gIGVsc2UgaWYgKHQgPT09IDMgLyogU2V0ICovKSB7XG4gICAgdGhpbmcuYWRkKHZhbHVlKTtcbiAgfSBlbHNlXG4gICAgdGhpbmdbcHJvcE9yT2xkVmFsdWVdID0gdmFsdWU7XG59XG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gIGlmICh4ID09PSB5KSB7XG4gICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzTWFwKHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgTWFwO1xufVxuZnVuY3Rpb24gaXNTZXQodGFyZ2V0KSB7XG4gIHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBTZXQ7XG59XG5mdW5jdGlvbiBsYXRlc3Qoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmNvcHlfIHx8IHN0YXRlLmJhc2VfO1xufVxuZnVuY3Rpb24gc2hhbGxvd0NvcHkoYmFzZSwgc3RyaWN0KSB7XG4gIGlmIChpc01hcChiYXNlKSkge1xuICAgIHJldHVybiBuZXcgTWFwKGJhc2UpO1xuICB9XG4gIGlmIChpc1NldChiYXNlKSkge1xuICAgIHJldHVybiBuZXcgU2V0KGJhc2UpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGJhc2UpKVxuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChiYXNlKTtcbiAgY29uc3QgaXNQbGFpbiA9IGlzUGxhaW5PYmplY3QoYmFzZSk7XG4gIGlmIChzdHJpY3QgPT09IHRydWUgfHwgc3RyaWN0ID09PSBcImNsYXNzX29ubHlcIiAmJiAhaXNQbGFpbikge1xuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoYmFzZSk7XG4gICAgZGVsZXRlIGRlc2NyaXB0b3JzW0RSQUZUX1NUQVRFXTtcbiAgICBsZXQga2V5cyA9IFJlZmxlY3Qub3duS2V5cyhkZXNjcmlwdG9ycyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgY29uc3QgZGVzYyA9IGRlc2NyaXB0b3JzW2tleV07XG4gICAgICBpZiAoZGVzYy53cml0YWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIGRlc2MuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChkZXNjLmdldCB8fCBkZXNjLnNldClcbiAgICAgICAgZGVzY3JpcHRvcnNba2V5XSA9IHtcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgLy8gY291bGQgbGl2ZSB3aXRoICEhZGVzYy5zZXQgYXMgd2VsbCBoZXJlLi4uXG4gICAgICAgICAgZW51bWVyYWJsZTogZGVzYy5lbnVtZXJhYmxlLFxuICAgICAgICAgIHZhbHVlOiBiYXNlW2tleV1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUoZ2V0UHJvdG90eXBlT2YoYmFzZSksIGRlc2NyaXB0b3JzKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwcm90byA9IGdldFByb3RvdHlwZU9mKGJhc2UpO1xuICAgIGlmIChwcm90byAhPT0gbnVsbCAmJiBpc1BsYWluKSB7XG4gICAgICByZXR1cm4geyAuLi5iYXNlIH07XG4gICAgfVxuICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUocHJvdG8pO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iaiwgYmFzZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGZyZWV6ZShvYmosIGRlZXAgPSBmYWxzZSkge1xuICBpZiAoaXNGcm96ZW4ob2JqKSB8fCBpc0RyYWZ0KG9iaikgfHwgIWlzRHJhZnRhYmxlKG9iaikpXG4gICAgcmV0dXJuIG9iajtcbiAgaWYgKGdldEFyY2h0eXBlKG9iaikgPiAxKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCB7XG4gICAgICBzZXQ6IGRvbnRNdXRhdGVNZXRob2RPdmVycmlkZSxcbiAgICAgIGFkZDogZG9udE11dGF0ZU1ldGhvZE92ZXJyaWRlLFxuICAgICAgY2xlYXI6IGRvbnRNdXRhdGVNZXRob2RPdmVycmlkZSxcbiAgICAgIGRlbGV0ZTogZG9udE11dGF0ZU1ldGhvZE92ZXJyaWRlXG4gICAgfSk7XG4gIH1cbiAgT2JqZWN0LmZyZWV6ZShvYmopO1xuICBpZiAoZGVlcClcbiAgICBPYmplY3QudmFsdWVzKG9iaikuZm9yRWFjaCgodmFsdWUpID0+IGZyZWV6ZSh2YWx1ZSwgdHJ1ZSkpO1xuICByZXR1cm4gb2JqO1xufVxuZnVuY3Rpb24gZG9udE11dGF0ZUZyb3plbkNvbGxlY3Rpb25zKCkge1xuICBkaWUoMik7XG59XG52YXIgZG9udE11dGF0ZU1ldGhvZE92ZXJyaWRlID0ge1xuICB2YWx1ZTogZG9udE11dGF0ZUZyb3plbkNvbGxlY3Rpb25zXG59O1xuZnVuY3Rpb24gaXNGcm96ZW4ob2JqKSB7XG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIilcbiAgICByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIE9iamVjdC5pc0Zyb3plbihvYmopO1xufVxuXG4vLyBzcmMvdXRpbHMvcGx1Z2lucy50c1xudmFyIHBsdWdpbnMgPSB7fTtcbmZ1bmN0aW9uIGdldFBsdWdpbihwbHVnaW5LZXkpIHtcbiAgY29uc3QgcGx1Z2luID0gcGx1Z2luc1twbHVnaW5LZXldO1xuICBpZiAoIXBsdWdpbikge1xuICAgIGRpZSgwLCBwbHVnaW5LZXkpO1xuICB9XG4gIHJldHVybiBwbHVnaW47XG59XG5mdW5jdGlvbiBsb2FkUGx1Z2luKHBsdWdpbktleSwgaW1wbGVtZW50YXRpb24pIHtcbiAgaWYgKCFwbHVnaW5zW3BsdWdpbktleV0pXG4gICAgcGx1Z2luc1twbHVnaW5LZXldID0gaW1wbGVtZW50YXRpb247XG59XG5cbi8vIHNyYy9jb3JlL3Njb3BlLnRzXG52YXIgY3VycmVudFNjb3BlO1xuZnVuY3Rpb24gZ2V0Q3VycmVudFNjb3BlKCkge1xuICByZXR1cm4gY3VycmVudFNjb3BlO1xufVxuZnVuY3Rpb24gY3JlYXRlU2NvcGUocGFyZW50XywgaW1tZXJfKSB7XG4gIHJldHVybiB7XG4gICAgZHJhZnRzXzogW10sXG4gICAgcGFyZW50XyxcbiAgICBpbW1lcl8sXG4gICAgLy8gV2hlbmV2ZXIgdGhlIG1vZGlmaWVkIGRyYWZ0IGNvbnRhaW5zIGEgZHJhZnQgZnJvbSBhbm90aGVyIHNjb3BlLCB3ZVxuICAgIC8vIG5lZWQgdG8gcHJldmVudCBhdXRvLWZyZWV6aW5nIHNvIHRoZSB1bm93bmVkIGRyYWZ0IGNhbiBiZSBmaW5hbGl6ZWQuXG4gICAgY2FuQXV0b0ZyZWV6ZV86IHRydWUsXG4gICAgdW5maW5hbGl6ZWREcmFmdHNfOiAwXG4gIH07XG59XG5mdW5jdGlvbiB1c2VQYXRjaGVzSW5TY29wZShzY29wZSwgcGF0Y2hMaXN0ZW5lcikge1xuICBpZiAocGF0Y2hMaXN0ZW5lcikge1xuICAgIGdldFBsdWdpbihcIlBhdGNoZXNcIik7XG4gICAgc2NvcGUucGF0Y2hlc18gPSBbXTtcbiAgICBzY29wZS5pbnZlcnNlUGF0Y2hlc18gPSBbXTtcbiAgICBzY29wZS5wYXRjaExpc3RlbmVyXyA9IHBhdGNoTGlzdGVuZXI7XG4gIH1cbn1cbmZ1bmN0aW9uIHJldm9rZVNjb3BlKHNjb3BlKSB7XG4gIGxlYXZlU2NvcGUoc2NvcGUpO1xuICBzY29wZS5kcmFmdHNfLmZvckVhY2gocmV2b2tlRHJhZnQpO1xuICBzY29wZS5kcmFmdHNfID0gbnVsbDtcbn1cbmZ1bmN0aW9uIGxlYXZlU2NvcGUoc2NvcGUpIHtcbiAgaWYgKHNjb3BlID09PSBjdXJyZW50U2NvcGUpIHtcbiAgICBjdXJyZW50U2NvcGUgPSBzY29wZS5wYXJlbnRfO1xuICB9XG59XG5mdW5jdGlvbiBlbnRlclNjb3BlKGltbWVyMikge1xuICByZXR1cm4gY3VycmVudFNjb3BlID0gY3JlYXRlU2NvcGUoY3VycmVudFNjb3BlLCBpbW1lcjIpO1xufVxuZnVuY3Rpb24gcmV2b2tlRHJhZnQoZHJhZnQpIHtcbiAgY29uc3Qgc3RhdGUgPSBkcmFmdFtEUkFGVF9TVEFURV07XG4gIGlmIChzdGF0ZS50eXBlXyA9PT0gMCAvKiBPYmplY3QgKi8gfHwgc3RhdGUudHlwZV8gPT09IDEgLyogQXJyYXkgKi8pXG4gICAgc3RhdGUucmV2b2tlXygpO1xuICBlbHNlXG4gICAgc3RhdGUucmV2b2tlZF8gPSB0cnVlO1xufVxuXG4vLyBzcmMvY29yZS9maW5hbGl6ZS50c1xuZnVuY3Rpb24gcHJvY2Vzc1Jlc3VsdChyZXN1bHQsIHNjb3BlKSB7XG4gIHNjb3BlLnVuZmluYWxpemVkRHJhZnRzXyA9IHNjb3BlLmRyYWZ0c18ubGVuZ3RoO1xuICBjb25zdCBiYXNlRHJhZnQgPSBzY29wZS5kcmFmdHNfWzBdO1xuICBjb25zdCBpc1JlcGxhY2VkID0gcmVzdWx0ICE9PSB2b2lkIDAgJiYgcmVzdWx0ICE9PSBiYXNlRHJhZnQ7XG4gIGlmIChpc1JlcGxhY2VkKSB7XG4gICAgaWYgKGJhc2VEcmFmdFtEUkFGVF9TVEFURV0ubW9kaWZpZWRfKSB7XG4gICAgICByZXZva2VTY29wZShzY29wZSk7XG4gICAgICBkaWUoNCk7XG4gICAgfVxuICAgIGlmIChpc0RyYWZ0YWJsZShyZXN1bHQpKSB7XG4gICAgICByZXN1bHQgPSBmaW5hbGl6ZShzY29wZSwgcmVzdWx0KTtcbiAgICAgIGlmICghc2NvcGUucGFyZW50XylcbiAgICAgICAgbWF5YmVGcmVlemUoc2NvcGUsIHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChzY29wZS5wYXRjaGVzXykge1xuICAgICAgZ2V0UGx1Z2luKFwiUGF0Y2hlc1wiKS5nZW5lcmF0ZVJlcGxhY2VtZW50UGF0Y2hlc18oXG4gICAgICAgIGJhc2VEcmFmdFtEUkFGVF9TVEFURV0uYmFzZV8sXG4gICAgICAgIHJlc3VsdCxcbiAgICAgICAgc2NvcGUucGF0Y2hlc18sXG4gICAgICAgIHNjb3BlLmludmVyc2VQYXRjaGVzX1xuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gZmluYWxpemUoc2NvcGUsIGJhc2VEcmFmdCwgW10pO1xuICB9XG4gIHJldm9rZVNjb3BlKHNjb3BlKTtcbiAgaWYgKHNjb3BlLnBhdGNoZXNfKSB7XG4gICAgc2NvcGUucGF0Y2hMaXN0ZW5lcl8oc2NvcGUucGF0Y2hlc18sIHNjb3BlLmludmVyc2VQYXRjaGVzXyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdCAhPT0gTk9USElORyA/IHJlc3VsdCA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGZpbmFsaXplKHJvb3RTY29wZSwgdmFsdWUsIHBhdGgpIHtcbiAgaWYgKGlzRnJvemVuKHZhbHVlKSlcbiAgICByZXR1cm4gdmFsdWU7XG4gIGNvbnN0IHVzZVN0cmljdEl0ZXJhdGlvbiA9IHJvb3RTY29wZS5pbW1lcl8uc2hvdWxkVXNlU3RyaWN0SXRlcmF0aW9uKCk7XG4gIGNvbnN0IHN0YXRlID0gdmFsdWVbRFJBRlRfU1RBVEVdO1xuICBpZiAoIXN0YXRlKSB7XG4gICAgZWFjaChcbiAgICAgIHZhbHVlLFxuICAgICAgKGtleSwgY2hpbGRWYWx1ZSkgPT4gZmluYWxpemVQcm9wZXJ0eShyb290U2NvcGUsIHN0YXRlLCB2YWx1ZSwga2V5LCBjaGlsZFZhbHVlLCBwYXRoKSxcbiAgICAgIHVzZVN0cmljdEl0ZXJhdGlvblxuICAgICk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChzdGF0ZS5zY29wZV8gIT09IHJvb3RTY29wZSlcbiAgICByZXR1cm4gdmFsdWU7XG4gIGlmICghc3RhdGUubW9kaWZpZWRfKSB7XG4gICAgbWF5YmVGcmVlemUocm9vdFNjb3BlLCBzdGF0ZS5iYXNlXywgdHJ1ZSk7XG4gICAgcmV0dXJuIHN0YXRlLmJhc2VfO1xuICB9XG4gIGlmICghc3RhdGUuZmluYWxpemVkXykge1xuICAgIHN0YXRlLmZpbmFsaXplZF8gPSB0cnVlO1xuICAgIHN0YXRlLnNjb3BlXy51bmZpbmFsaXplZERyYWZ0c18tLTtcbiAgICBjb25zdCByZXN1bHQgPSBzdGF0ZS5jb3B5XztcbiAgICBsZXQgcmVzdWx0RWFjaCA9IHJlc3VsdDtcbiAgICBsZXQgaXNTZXQyID0gZmFsc2U7XG4gICAgaWYgKHN0YXRlLnR5cGVfID09PSAzIC8qIFNldCAqLykge1xuICAgICAgcmVzdWx0RWFjaCA9IG5ldyBTZXQocmVzdWx0KTtcbiAgICAgIHJlc3VsdC5jbGVhcigpO1xuICAgICAgaXNTZXQyID0gdHJ1ZTtcbiAgICB9XG4gICAgZWFjaChcbiAgICAgIHJlc3VsdEVhY2gsXG4gICAgICAoa2V5LCBjaGlsZFZhbHVlKSA9PiBmaW5hbGl6ZVByb3BlcnR5KFxuICAgICAgICByb290U2NvcGUsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICByZXN1bHQsXG4gICAgICAgIGtleSxcbiAgICAgICAgY2hpbGRWYWx1ZSxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgaXNTZXQyXG4gICAgICApLFxuICAgICAgdXNlU3RyaWN0SXRlcmF0aW9uXG4gICAgKTtcbiAgICBtYXliZUZyZWV6ZShyb290U2NvcGUsIHJlc3VsdCwgZmFsc2UpO1xuICAgIGlmIChwYXRoICYmIHJvb3RTY29wZS5wYXRjaGVzXykge1xuICAgICAgZ2V0UGx1Z2luKFwiUGF0Y2hlc1wiKS5nZW5lcmF0ZVBhdGNoZXNfKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgcm9vdFNjb3BlLnBhdGNoZXNfLFxuICAgICAgICByb290U2NvcGUuaW52ZXJzZVBhdGNoZXNfXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhdGUuY29weV87XG59XG5mdW5jdGlvbiBmaW5hbGl6ZVByb3BlcnR5KHJvb3RTY29wZSwgcGFyZW50U3RhdGUsIHRhcmdldE9iamVjdCwgcHJvcCwgY2hpbGRWYWx1ZSwgcm9vdFBhdGgsIHRhcmdldElzU2V0KSB7XG4gIGlmIChjaGlsZFZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGVvZiBjaGlsZFZhbHVlICE9PSBcIm9iamVjdFwiICYmICF0YXJnZXRJc1NldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBjaGlsZElzRnJvemVuID0gaXNGcm96ZW4oY2hpbGRWYWx1ZSk7XG4gIGlmIChjaGlsZElzRnJvemVuICYmICF0YXJnZXRJc1NldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGNoaWxkVmFsdWUgPT09IHRhcmdldE9iamVjdClcbiAgICBkaWUoNSk7XG4gIGlmIChpc0RyYWZ0KGNoaWxkVmFsdWUpKSB7XG4gICAgY29uc3QgcGF0aCA9IHJvb3RQYXRoICYmIHBhcmVudFN0YXRlICYmIHBhcmVudFN0YXRlLnR5cGVfICE9PSAzIC8qIFNldCAqLyAmJiAvLyBTZXQgb2JqZWN0cyBhcmUgYXRvbWljIHNpbmNlIHRoZXkgaGF2ZSBubyBrZXlzLlxuICAgICFoYXMocGFyZW50U3RhdGUuYXNzaWduZWRfLCBwcm9wKSA/IHJvb3RQYXRoLmNvbmNhdChwcm9wKSA6IHZvaWQgMDtcbiAgICBjb25zdCByZXMgPSBmaW5hbGl6ZShyb290U2NvcGUsIGNoaWxkVmFsdWUsIHBhdGgpO1xuICAgIHNldCh0YXJnZXRPYmplY3QsIHByb3AsIHJlcyk7XG4gICAgaWYgKGlzRHJhZnQocmVzKSkge1xuICAgICAgcm9vdFNjb3BlLmNhbkF1dG9GcmVlemVfID0gZmFsc2U7XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAodGFyZ2V0SXNTZXQpIHtcbiAgICB0YXJnZXRPYmplY3QuYWRkKGNoaWxkVmFsdWUpO1xuICB9XG4gIGlmIChpc0RyYWZ0YWJsZShjaGlsZFZhbHVlKSAmJiAhY2hpbGRJc0Zyb3plbikge1xuICAgIGlmICghcm9vdFNjb3BlLmltbWVyXy5hdXRvRnJlZXplXyAmJiByb290U2NvcGUudW5maW5hbGl6ZWREcmFmdHNfIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocGFyZW50U3RhdGUgJiYgcGFyZW50U3RhdGUuYmFzZV8gJiYgcGFyZW50U3RhdGUuYmFzZV9bcHJvcF0gPT09IGNoaWxkVmFsdWUgJiYgY2hpbGRJc0Zyb3plbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaW5hbGl6ZShyb290U2NvcGUsIGNoaWxkVmFsdWUpO1xuICAgIGlmICgoIXBhcmVudFN0YXRlIHx8ICFwYXJlbnRTdGF0ZS5zY29wZV8ucGFyZW50XykgJiYgdHlwZW9mIHByb3AgIT09IFwic3ltYm9sXCIgJiYgKGlzTWFwKHRhcmdldE9iamVjdCkgPyB0YXJnZXRPYmplY3QuaGFzKHByb3ApIDogT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHRhcmdldE9iamVjdCwgcHJvcCkpKVxuICAgICAgbWF5YmVGcmVlemUocm9vdFNjb3BlLCBjaGlsZFZhbHVlKTtcbiAgfVxufVxuZnVuY3Rpb24gbWF5YmVGcmVlemUoc2NvcGUsIHZhbHVlLCBkZWVwID0gZmFsc2UpIHtcbiAgaWYgKCFzY29wZS5wYXJlbnRfICYmIHNjb3BlLmltbWVyXy5hdXRvRnJlZXplXyAmJiBzY29wZS5jYW5BdXRvRnJlZXplXykge1xuICAgIGZyZWV6ZSh2YWx1ZSwgZGVlcCk7XG4gIH1cbn1cblxuLy8gc3JjL2NvcmUvcHJveHkudHNcbmZ1bmN0aW9uIGNyZWF0ZVByb3h5UHJveHkoYmFzZSwgcGFyZW50KSB7XG4gIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGJhc2UpO1xuICBjb25zdCBzdGF0ZSA9IHtcbiAgICB0eXBlXzogaXNBcnJheSA/IDEgLyogQXJyYXkgKi8gOiAwIC8qIE9iamVjdCAqLyxcbiAgICAvLyBUcmFjayB3aGljaCBwcm9kdWNlIGNhbGwgdGhpcyBpcyBhc3NvY2lhdGVkIHdpdGguXG4gICAgc2NvcGVfOiBwYXJlbnQgPyBwYXJlbnQuc2NvcGVfIDogZ2V0Q3VycmVudFNjb3BlKCksXG4gICAgLy8gVHJ1ZSBmb3IgYm90aCBzaGFsbG93IGFuZCBkZWVwIGNoYW5nZXMuXG4gICAgbW9kaWZpZWRfOiBmYWxzZSxcbiAgICAvLyBVc2VkIGR1cmluZyBmaW5hbGl6YXRpb24uXG4gICAgZmluYWxpemVkXzogZmFsc2UsXG4gICAgLy8gVHJhY2sgd2hpY2ggcHJvcGVydGllcyBoYXZlIGJlZW4gYXNzaWduZWQgKHRydWUpIG9yIGRlbGV0ZWQgKGZhbHNlKS5cbiAgICBhc3NpZ25lZF86IHt9LFxuICAgIC8vIFRoZSBwYXJlbnQgZHJhZnQgc3RhdGUuXG4gICAgcGFyZW50XzogcGFyZW50LFxuICAgIC8vIFRoZSBiYXNlIHN0YXRlLlxuICAgIGJhc2VfOiBiYXNlLFxuICAgIC8vIFRoZSBiYXNlIHByb3h5LlxuICAgIGRyYWZ0XzogbnVsbCxcbiAgICAvLyBzZXQgYmVsb3dcbiAgICAvLyBUaGUgYmFzZSBjb3B5IHdpdGggYW55IHVwZGF0ZWQgdmFsdWVzLlxuICAgIGNvcHlfOiBudWxsLFxuICAgIC8vIENhbGxlZCBieSB0aGUgYHByb2R1Y2VgIGZ1bmN0aW9uLlxuICAgIHJldm9rZV86IG51bGwsXG4gICAgaXNNYW51YWxfOiBmYWxzZVxuICB9O1xuICBsZXQgdGFyZ2V0ID0gc3RhdGU7XG4gIGxldCB0cmFwcyA9IG9iamVjdFRyYXBzO1xuICBpZiAoaXNBcnJheSkge1xuICAgIHRhcmdldCA9IFtzdGF0ZV07XG4gICAgdHJhcHMgPSBhcnJheVRyYXBzO1xuICB9XG4gIGNvbnN0IHsgcmV2b2tlLCBwcm94eSB9ID0gUHJveHkucmV2b2NhYmxlKHRhcmdldCwgdHJhcHMpO1xuICBzdGF0ZS5kcmFmdF8gPSBwcm94eTtcbiAgc3RhdGUucmV2b2tlXyA9IHJldm9rZTtcbiAgcmV0dXJuIHByb3h5O1xufVxudmFyIG9iamVjdFRyYXBzID0ge1xuICBnZXQoc3RhdGUsIHByb3ApIHtcbiAgICBpZiAocHJvcCA9PT0gRFJBRlRfU1RBVEUpXG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgY29uc3Qgc291cmNlID0gbGF0ZXN0KHN0YXRlKTtcbiAgICBpZiAoIWhhcyhzb3VyY2UsIHByb3ApKSB7XG4gICAgICByZXR1cm4gcmVhZFByb3BGcm9tUHJvdG8oc3RhdGUsIHNvdXJjZSwgcHJvcCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gc291cmNlW3Byb3BdO1xuICAgIGlmIChzdGF0ZS5maW5hbGl6ZWRfIHx8ICFpc0RyYWZ0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSBwZWVrKHN0YXRlLmJhc2VfLCBwcm9wKSkge1xuICAgICAgcHJlcGFyZUNvcHkoc3RhdGUpO1xuICAgICAgcmV0dXJuIHN0YXRlLmNvcHlfW3Byb3BdID0gY3JlYXRlUHJveHkodmFsdWUsIHN0YXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9LFxuICBoYXMoc3RhdGUsIHByb3ApIHtcbiAgICByZXR1cm4gcHJvcCBpbiBsYXRlc3Qoc3RhdGUpO1xuICB9LFxuICBvd25LZXlzKHN0YXRlKSB7XG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyhsYXRlc3Qoc3RhdGUpKTtcbiAgfSxcbiAgc2V0KHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRlc2MgPSBnZXREZXNjcmlwdG9yRnJvbVByb3RvKGxhdGVzdChzdGF0ZSksIHByb3ApO1xuICAgIGlmIChkZXNjPy5zZXQpIHtcbiAgICAgIGRlc2Muc2V0LmNhbGwoc3RhdGUuZHJhZnRfLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFzdGF0ZS5tb2RpZmllZF8pIHtcbiAgICAgIGNvbnN0IGN1cnJlbnQyID0gcGVlayhsYXRlc3Qoc3RhdGUpLCBwcm9wKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnQyPy5bRFJBRlRfU1RBVEVdO1xuICAgICAgaWYgKGN1cnJlbnRTdGF0ZSAmJiBjdXJyZW50U3RhdGUuYmFzZV8gPT09IHZhbHVlKSB7XG4gICAgICAgIHN0YXRlLmNvcHlfW3Byb3BdID0gdmFsdWU7XG4gICAgICAgIHN0YXRlLmFzc2lnbmVkX1twcm9wXSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpcyh2YWx1ZSwgY3VycmVudDIpICYmICh2YWx1ZSAhPT0gdm9pZCAwIHx8IGhhcyhzdGF0ZS5iYXNlXywgcHJvcCkpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIHByZXBhcmVDb3B5KHN0YXRlKTtcbiAgICAgIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmNvcHlfW3Byb3BdID09PSB2YWx1ZSAmJiAvLyBzcGVjaWFsIGNhc2U6IGhhbmRsZSBuZXcgcHJvcHMgd2l0aCB2YWx1ZSAndW5kZWZpbmVkJ1xuICAgICh2YWx1ZSAhPT0gdm9pZCAwIHx8IHByb3AgaW4gc3RhdGUuY29weV8pIHx8IC8vIHNwZWNpYWwgY2FzZTogTmFOXG4gICAgTnVtYmVyLmlzTmFOKHZhbHVlKSAmJiBOdW1iZXIuaXNOYU4oc3RhdGUuY29weV9bcHJvcF0pKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgc3RhdGUuY29weV9bcHJvcF0gPSB2YWx1ZTtcbiAgICBzdGF0ZS5hc3NpZ25lZF9bcHJvcF0gPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBkZWxldGVQcm9wZXJ0eShzdGF0ZSwgcHJvcCkge1xuICAgIGlmIChwZWVrKHN0YXRlLmJhc2VfLCBwcm9wKSAhPT0gdm9pZCAwIHx8IHByb3AgaW4gc3RhdGUuYmFzZV8pIHtcbiAgICAgIHN0YXRlLmFzc2lnbmVkX1twcm9wXSA9IGZhbHNlO1xuICAgICAgcHJlcGFyZUNvcHkoc3RhdGUpO1xuICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgc3RhdGUuYXNzaWduZWRfW3Byb3BdO1xuICAgIH1cbiAgICBpZiAoc3RhdGUuY29weV8pIHtcbiAgICAgIGRlbGV0ZSBzdGF0ZS5jb3B5X1twcm9wXTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIC8vIE5vdGU6IFdlIG5ldmVyIGNvZXJjZSBgZGVzYy52YWx1ZWAgaW50byBhbiBJbW1lciBkcmFmdCwgYmVjYXVzZSB3ZSBjYW4ndCBtYWtlXG4gIC8vIHRoZSBzYW1lIGd1YXJhbnRlZSBpbiBFUzUgbW9kZS5cbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHN0YXRlLCBwcm9wKSB7XG4gICAgY29uc3Qgb3duZXIgPSBsYXRlc3Qoc3RhdGUpO1xuICAgIGNvbnN0IGRlc2MgPSBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvd25lciwgcHJvcCk7XG4gICAgaWYgKCFkZXNjKVxuICAgICAgcmV0dXJuIGRlc2M7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiBzdGF0ZS50eXBlXyAhPT0gMSAvKiBBcnJheSAqLyB8fCBwcm9wICE9PSBcImxlbmd0aFwiLFxuICAgICAgZW51bWVyYWJsZTogZGVzYy5lbnVtZXJhYmxlLFxuICAgICAgdmFsdWU6IG93bmVyW3Byb3BdXG4gICAgfTtcbiAgfSxcbiAgZGVmaW5lUHJvcGVydHkoKSB7XG4gICAgZGllKDExKTtcbiAgfSxcbiAgZ2V0UHJvdG90eXBlT2Yoc3RhdGUpIHtcbiAgICByZXR1cm4gZ2V0UHJvdG90eXBlT2Yoc3RhdGUuYmFzZV8pO1xuICB9LFxuICBzZXRQcm90b3R5cGVPZigpIHtcbiAgICBkaWUoMTIpO1xuICB9XG59O1xudmFyIGFycmF5VHJhcHMgPSB7fTtcbmVhY2gob2JqZWN0VHJhcHMsIChrZXksIGZuKSA9PiB7XG4gIGFycmF5VHJhcHNba2V5XSA9IGZ1bmN0aW9uKCkge1xuICAgIGFyZ3VtZW50c1swXSA9IGFyZ3VtZW50c1swXVswXTtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn0pO1xuYXJyYXlUcmFwcy5kZWxldGVQcm9wZXJ0eSA9IGZ1bmN0aW9uKHN0YXRlLCBwcm9wKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgaXNOYU4ocGFyc2VJbnQocHJvcCkpKVxuICAgIGRpZSgxMyk7XG4gIHJldHVybiBhcnJheVRyYXBzLnNldC5jYWxsKHRoaXMsIHN0YXRlLCBwcm9wLCB2b2lkIDApO1xufTtcbmFycmF5VHJhcHMuc2V0ID0gZnVuY3Rpb24oc3RhdGUsIHByb3AsIHZhbHVlKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgcHJvcCAhPT0gXCJsZW5ndGhcIiAmJiBpc05hTihwYXJzZUludChwcm9wKSkpXG4gICAgZGllKDE0KTtcbiAgcmV0dXJuIG9iamVjdFRyYXBzLnNldC5jYWxsKHRoaXMsIHN0YXRlWzBdLCBwcm9wLCB2YWx1ZSwgc3RhdGVbMF0pO1xufTtcbmZ1bmN0aW9uIHBlZWsoZHJhZnQsIHByb3ApIHtcbiAgY29uc3Qgc3RhdGUgPSBkcmFmdFtEUkFGVF9TVEFURV07XG4gIGNvbnN0IHNvdXJjZSA9IHN0YXRlID8gbGF0ZXN0KHN0YXRlKSA6IGRyYWZ0O1xuICByZXR1cm4gc291cmNlW3Byb3BdO1xufVxuZnVuY3Rpb24gcmVhZFByb3BGcm9tUHJvdG8oc3RhdGUsIHNvdXJjZSwgcHJvcCkge1xuICBjb25zdCBkZXNjID0gZ2V0RGVzY3JpcHRvckZyb21Qcm90byhzb3VyY2UsIHByb3ApO1xuICByZXR1cm4gZGVzYyA/IGB2YWx1ZWAgaW4gZGVzYyA/IGRlc2MudmFsdWUgOiAoXG4gICAgLy8gVGhpcyBpcyBhIHZlcnkgc3BlY2lhbCBjYXNlLCBpZiB0aGUgcHJvcCBpcyBhIGdldHRlciBkZWZpbmVkIGJ5IHRoZVxuICAgIC8vIHByb3RvdHlwZSwgd2Ugc2hvdWxkIGludm9rZSBpdCB3aXRoIHRoZSBkcmFmdCBhcyBjb250ZXh0IVxuICAgIGRlc2MuZ2V0Py5jYWxsKHN0YXRlLmRyYWZ0XylcbiAgKSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGdldERlc2NyaXB0b3JGcm9tUHJvdG8oc291cmNlLCBwcm9wKSB7XG4gIGlmICghKHByb3AgaW4gc291cmNlKSlcbiAgICByZXR1cm4gdm9pZCAwO1xuICBsZXQgcHJvdG8gPSBnZXRQcm90b3R5cGVPZihzb3VyY2UpO1xuICB3aGlsZSAocHJvdG8pIHtcbiAgICBjb25zdCBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgcHJvcCk7XG4gICAgaWYgKGRlc2MpXG4gICAgICByZXR1cm4gZGVzYztcbiAgICBwcm90byA9IGdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gbWFya0NoYW5nZWQoc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5tb2RpZmllZF8pIHtcbiAgICBzdGF0ZS5tb2RpZmllZF8gPSB0cnVlO1xuICAgIGlmIChzdGF0ZS5wYXJlbnRfKSB7XG4gICAgICBtYXJrQ2hhbmdlZChzdGF0ZS5wYXJlbnRfKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHByZXBhcmVDb3B5KHN0YXRlKSB7XG4gIGlmICghc3RhdGUuY29weV8pIHtcbiAgICBzdGF0ZS5jb3B5XyA9IHNoYWxsb3dDb3B5KFxuICAgICAgc3RhdGUuYmFzZV8sXG4gICAgICBzdGF0ZS5zY29wZV8uaW1tZXJfLnVzZVN0cmljdFNoYWxsb3dDb3B5X1xuICAgICk7XG4gIH1cbn1cblxuLy8gc3JjL2NvcmUvaW1tZXJDbGFzcy50c1xudmFyIEltbWVyMiA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5hdXRvRnJlZXplXyA9IHRydWU7XG4gICAgdGhpcy51c2VTdHJpY3RTaGFsbG93Q29weV8gPSBmYWxzZTtcbiAgICB0aGlzLnVzZVN0cmljdEl0ZXJhdGlvbl8gPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBgcHJvZHVjZWAgZnVuY3Rpb24gdGFrZXMgYSB2YWx1ZSBhbmQgYSBcInJlY2lwZSBmdW5jdGlvblwiICh3aG9zZVxuICAgICAqIHJldHVybiB2YWx1ZSBvZnRlbiBkZXBlbmRzIG9uIHRoZSBiYXNlIHN0YXRlKS4gVGhlIHJlY2lwZSBmdW5jdGlvbiBpc1xuICAgICAqIGZyZWUgdG8gbXV0YXRlIGl0cyBmaXJzdCBhcmd1bWVudCBob3dldmVyIGl0IHdhbnRzLiBBbGwgbXV0YXRpb25zIGFyZVxuICAgICAqIG9ubHkgZXZlciBhcHBsaWVkIHRvIGEgX19jb3B5X18gb2YgdGhlIGJhc2Ugc3RhdGUuXG4gICAgICpcbiAgICAgKiBQYXNzIG9ubHkgYSBmdW5jdGlvbiB0byBjcmVhdGUgYSBcImN1cnJpZWQgcHJvZHVjZXJcIiB3aGljaCByZWxpZXZlcyB5b3VcbiAgICAgKiBmcm9tIHBhc3NpbmcgdGhlIHJlY2lwZSBmdW5jdGlvbiBldmVyeSB0aW1lLlxuICAgICAqXG4gICAgICogT25seSBwbGFpbiBvYmplY3RzIGFuZCBhcnJheXMgYXJlIG1hZGUgbXV0YWJsZS4gQWxsIG90aGVyIG9iamVjdHMgYXJlXG4gICAgICogY29uc2lkZXJlZCB1bmNvcHlhYmxlLlxuICAgICAqXG4gICAgICogTm90ZTogVGhpcyBmdW5jdGlvbiBpcyBfX2JvdW5kX18gdG8gaXRzIGBJbW1lcmAgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gYmFzZSAtIHRoZSBpbml0aWFsIHN0YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVjaXBlIC0gZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhIHByb3h5IG9mIHRoZSBiYXNlIHN0YXRlIGFzIGZpcnN0IGFyZ3VtZW50IGFuZCB3aGljaCBjYW4gYmUgZnJlZWx5IG1vZGlmaWVkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcGF0Y2hMaXN0ZW5lciAtIG9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2l0aCBhbGwgdGhlIHBhdGNoZXMgcHJvZHVjZWQgaGVyZVxuICAgICAqIEByZXR1cm5zIHthbnl9IGEgbmV3IHN0YXRlLCBvciB0aGUgaW5pdGlhbCBzdGF0ZSBpZiBub3RoaW5nIHdhcyBtb2RpZmllZFxuICAgICAqL1xuICAgIHRoaXMucHJvZHVjZSA9IChiYXNlLCByZWNpcGUsIHBhdGNoTGlzdGVuZXIpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgYmFzZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiByZWNpcGUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25zdCBkZWZhdWx0QmFzZSA9IHJlY2lwZTtcbiAgICAgICAgcmVjaXBlID0gYmFzZTtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjdXJyaWVkUHJvZHVjZShiYXNlMiA9IGRlZmF1bHRCYXNlLCAuLi5hcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYucHJvZHVjZShiYXNlMiwgKGRyYWZ0KSA9PiByZWNpcGUuY2FsbCh0aGlzLCBkcmFmdCwgLi4uYXJncykpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiByZWNpcGUgIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZGllKDYpO1xuICAgICAgaWYgKHBhdGNoTGlzdGVuZXIgIT09IHZvaWQgMCAmJiB0eXBlb2YgcGF0Y2hMaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBkaWUoNyk7XG4gICAgICBsZXQgcmVzdWx0O1xuICAgICAgaWYgKGlzRHJhZnRhYmxlKGJhc2UpKSB7XG4gICAgICAgIGNvbnN0IHNjb3BlID0gZW50ZXJTY29wZSh0aGlzKTtcbiAgICAgICAgY29uc3QgcHJveHkgPSBjcmVhdGVQcm94eShiYXNlLCB2b2lkIDApO1xuICAgICAgICBsZXQgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlY2lwZShwcm94eSk7XG4gICAgICAgICAgaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoaGFzRXJyb3IpXG4gICAgICAgICAgICByZXZva2VTY29wZShzY29wZSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgbGVhdmVTY29wZShzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgdXNlUGF0Y2hlc0luU2NvcGUoc2NvcGUsIHBhdGNoTGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gcHJvY2Vzc1Jlc3VsdChyZXN1bHQsIHNjb3BlKTtcbiAgICAgIH0gZWxzZSBpZiAoIWJhc2UgfHwgdHlwZW9mIGJhc2UgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVjaXBlKGJhc2UpO1xuICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gTk9USElORylcbiAgICAgICAgICByZXN1bHQgPSB2b2lkIDA7XG4gICAgICAgIGlmICh0aGlzLmF1dG9GcmVlemVfKVxuICAgICAgICAgIGZyZWV6ZShyZXN1bHQsIHRydWUpO1xuICAgICAgICBpZiAocGF0Y2hMaXN0ZW5lcikge1xuICAgICAgICAgIGNvbnN0IHAgPSBbXTtcbiAgICAgICAgICBjb25zdCBpcCA9IFtdO1xuICAgICAgICAgIGdldFBsdWdpbihcIlBhdGNoZXNcIikuZ2VuZXJhdGVSZXBsYWNlbWVudFBhdGNoZXNfKGJhc2UsIHJlc3VsdCwgcCwgaXApO1xuICAgICAgICAgIHBhdGNoTGlzdGVuZXIocCwgaXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGVsc2VcbiAgICAgICAgZGllKDEsIGJhc2UpO1xuICAgIH07XG4gICAgdGhpcy5wcm9kdWNlV2l0aFBhdGNoZXMgPSAoYmFzZSwgcmVjaXBlKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGJhc2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gKHN0YXRlLCAuLi5hcmdzKSA9PiB0aGlzLnByb2R1Y2VXaXRoUGF0Y2hlcyhzdGF0ZSwgKGRyYWZ0KSA9PiBiYXNlKGRyYWZ0LCAuLi5hcmdzKSk7XG4gICAgICB9XG4gICAgICBsZXQgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXM7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnByb2R1Y2UoYmFzZSwgcmVjaXBlLCAocCwgaXApID0+IHtcbiAgICAgICAgcGF0Y2hlcyA9IHA7XG4gICAgICAgIGludmVyc2VQYXRjaGVzID0gaXA7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBbcmVzdWx0LCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlc107XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIGNvbmZpZz8uYXV0b0ZyZWV6ZSA9PT0gXCJib29sZWFuXCIpXG4gICAgICB0aGlzLnNldEF1dG9GcmVlemUoY29uZmlnLmF1dG9GcmVlemUpO1xuICAgIGlmICh0eXBlb2YgY29uZmlnPy51c2VTdHJpY3RTaGFsbG93Q29weSA9PT0gXCJib29sZWFuXCIpXG4gICAgICB0aGlzLnNldFVzZVN0cmljdFNoYWxsb3dDb3B5KGNvbmZpZy51c2VTdHJpY3RTaGFsbG93Q29weSk7XG4gICAgaWYgKHR5cGVvZiBjb25maWc/LnVzZVN0cmljdEl0ZXJhdGlvbiA9PT0gXCJib29sZWFuXCIpXG4gICAgICB0aGlzLnNldFVzZVN0cmljdEl0ZXJhdGlvbihjb25maWcudXNlU3RyaWN0SXRlcmF0aW9uKTtcbiAgfVxuICBjcmVhdGVEcmFmdChiYXNlKSB7XG4gICAgaWYgKCFpc0RyYWZ0YWJsZShiYXNlKSlcbiAgICAgIGRpZSg4KTtcbiAgICBpZiAoaXNEcmFmdChiYXNlKSlcbiAgICAgIGJhc2UgPSBjdXJyZW50KGJhc2UpO1xuICAgIGNvbnN0IHNjb3BlID0gZW50ZXJTY29wZSh0aGlzKTtcbiAgICBjb25zdCBwcm94eSA9IGNyZWF0ZVByb3h5KGJhc2UsIHZvaWQgMCk7XG4gICAgcHJveHlbRFJBRlRfU1RBVEVdLmlzTWFudWFsXyA9IHRydWU7XG4gICAgbGVhdmVTY29wZShzY29wZSk7XG4gICAgcmV0dXJuIHByb3h5O1xuICB9XG4gIGZpbmlzaERyYWZ0KGRyYWZ0LCBwYXRjaExpc3RlbmVyKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBkcmFmdCAmJiBkcmFmdFtEUkFGVF9TVEFURV07XG4gICAgaWYgKCFzdGF0ZSB8fCAhc3RhdGUuaXNNYW51YWxfKVxuICAgICAgZGllKDkpO1xuICAgIGNvbnN0IHsgc2NvcGVfOiBzY29wZSB9ID0gc3RhdGU7XG4gICAgdXNlUGF0Y2hlc0luU2NvcGUoc2NvcGUsIHBhdGNoTGlzdGVuZXIpO1xuICAgIHJldHVybiBwcm9jZXNzUmVzdWx0KHZvaWQgMCwgc2NvcGUpO1xuICB9XG4gIC8qKlxuICAgKiBQYXNzIHRydWUgdG8gYXV0b21hdGljYWxseSBmcmVlemUgYWxsIGNvcGllcyBjcmVhdGVkIGJ5IEltbWVyLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCBhdXRvLWZyZWV6aW5nIGlzIGVuYWJsZWQuXG4gICAqL1xuICBzZXRBdXRvRnJlZXplKHZhbHVlKSB7XG4gICAgdGhpcy5hdXRvRnJlZXplXyA9IHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBQYXNzIHRydWUgdG8gZW5hYmxlIHN0cmljdCBzaGFsbG93IGNvcHkuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIGltbWVyIGRvZXMgbm90IGNvcHkgdGhlIG9iamVjdCBkZXNjcmlwdG9ycyBzdWNoIGFzIGdldHRlciwgc2V0dGVyIGFuZCBub24tZW51bXJhYmxlIHByb3BlcnRpZXMuXG4gICAqL1xuICBzZXRVc2VTdHJpY3RTaGFsbG93Q29weSh2YWx1ZSkge1xuICAgIHRoaXMudXNlU3RyaWN0U2hhbGxvd0NvcHlfID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIFBhc3MgZmFsc2UgdG8gdXNlIGZhc3RlciBpdGVyYXRpb24gdGhhdCBza2lwcyBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAqIGJ1dCBzdGlsbCBoYW5kbGVzIHN5bWJvbHMgZm9yIGNvbXBhdGliaWxpdHkuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHN0cmljdCBpdGVyYXRpb24gaXMgZW5hYmxlZCAoaW5jbHVkZXMgYWxsIG93biBwcm9wZXJ0aWVzKS5cbiAgICovXG4gIHNldFVzZVN0cmljdEl0ZXJhdGlvbih2YWx1ZSkge1xuICAgIHRoaXMudXNlU3RyaWN0SXRlcmF0aW9uXyA9IHZhbHVlO1xuICB9XG4gIHNob3VsZFVzZVN0cmljdEl0ZXJhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy51c2VTdHJpY3RJdGVyYXRpb25fO1xuICB9XG4gIGFwcGx5UGF0Y2hlcyhiYXNlLCBwYXRjaGVzKSB7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gcGF0Y2hlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgcGF0Y2ggPSBwYXRjaGVzW2ldO1xuICAgICAgaWYgKHBhdGNoLnBhdGgubGVuZ3RoID09PSAwICYmIHBhdGNoLm9wID09PSBcInJlcGxhY2VcIikge1xuICAgICAgICBiYXNlID0gcGF0Y2gudmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaSA+IC0xKSB7XG4gICAgICBwYXRjaGVzID0gcGF0Y2hlcy5zbGljZShpICsgMSk7XG4gICAgfVxuICAgIGNvbnN0IGFwcGx5UGF0Y2hlc0ltcGwgPSBnZXRQbHVnaW4oXCJQYXRjaGVzXCIpLmFwcGx5UGF0Y2hlc187XG4gICAgaWYgKGlzRHJhZnQoYmFzZSkpIHtcbiAgICAgIHJldHVybiBhcHBseVBhdGNoZXNJbXBsKGJhc2UsIHBhdGNoZXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9kdWNlKFxuICAgICAgYmFzZSxcbiAgICAgIChkcmFmdCkgPT4gYXBwbHlQYXRjaGVzSW1wbChkcmFmdCwgcGF0Y2hlcylcbiAgICApO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlUHJveHkodmFsdWUsIHBhcmVudCkge1xuICBjb25zdCBkcmFmdCA9IGlzTWFwKHZhbHVlKSA/IGdldFBsdWdpbihcIk1hcFNldFwiKS5wcm94eU1hcF8odmFsdWUsIHBhcmVudCkgOiBpc1NldCh2YWx1ZSkgPyBnZXRQbHVnaW4oXCJNYXBTZXRcIikucHJveHlTZXRfKHZhbHVlLCBwYXJlbnQpIDogY3JlYXRlUHJveHlQcm94eSh2YWx1ZSwgcGFyZW50KTtcbiAgY29uc3Qgc2NvcGUgPSBwYXJlbnQgPyBwYXJlbnQuc2NvcGVfIDogZ2V0Q3VycmVudFNjb3BlKCk7XG4gIHNjb3BlLmRyYWZ0c18ucHVzaChkcmFmdCk7XG4gIHJldHVybiBkcmFmdDtcbn1cblxuLy8gc3JjL2NvcmUvY3VycmVudC50c1xuZnVuY3Rpb24gY3VycmVudCh2YWx1ZSkge1xuICBpZiAoIWlzRHJhZnQodmFsdWUpKVxuICAgIGRpZSgxMCwgdmFsdWUpO1xuICByZXR1cm4gY3VycmVudEltcGwodmFsdWUpO1xufVxuZnVuY3Rpb24gY3VycmVudEltcGwodmFsdWUpIHtcbiAgaWYgKCFpc0RyYWZ0YWJsZSh2YWx1ZSkgfHwgaXNGcm96ZW4odmFsdWUpKVxuICAgIHJldHVybiB2YWx1ZTtcbiAgY29uc3Qgc3RhdGUgPSB2YWx1ZVtEUkFGVF9TVEFURV07XG4gIGxldCBjb3B5O1xuICBsZXQgc3RyaWN0ID0gdHJ1ZTtcbiAgaWYgKHN0YXRlKSB7XG4gICAgaWYgKCFzdGF0ZS5tb2RpZmllZF8pXG4gICAgICByZXR1cm4gc3RhdGUuYmFzZV87XG4gICAgc3RhdGUuZmluYWxpemVkXyA9IHRydWU7XG4gICAgY29weSA9IHNoYWxsb3dDb3B5KHZhbHVlLCBzdGF0ZS5zY29wZV8uaW1tZXJfLnVzZVN0cmljdFNoYWxsb3dDb3B5Xyk7XG4gICAgc3RyaWN0ID0gc3RhdGUuc2NvcGVfLmltbWVyXy5zaG91bGRVc2VTdHJpY3RJdGVyYXRpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBjb3B5ID0gc2hhbGxvd0NvcHkodmFsdWUsIHRydWUpO1xuICB9XG4gIGVhY2goXG4gICAgY29weSxcbiAgICAoa2V5LCBjaGlsZFZhbHVlKSA9PiB7XG4gICAgICBzZXQoY29weSwga2V5LCBjdXJyZW50SW1wbChjaGlsZFZhbHVlKSk7XG4gICAgfSxcbiAgICBzdHJpY3RcbiAgKTtcbiAgaWYgKHN0YXRlKSB7XG4gICAgc3RhdGUuZmluYWxpemVkXyA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBjb3B5O1xufVxuXG4vLyBzcmMvcGx1Z2lucy9wYXRjaGVzLnRzXG5mdW5jdGlvbiBlbmFibGVQYXRjaGVzKCkge1xuICBjb25zdCBlcnJvck9mZnNldCA9IDE2O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgZXJyb3JzLnB1c2goXG4gICAgICAnU2V0cyBjYW5ub3QgaGF2ZSBcInJlcGxhY2VcIiBwYXRjaGVzLicsXG4gICAgICBmdW5jdGlvbihvcCkge1xuICAgICAgICByZXR1cm4gXCJVbnN1cHBvcnRlZCBwYXRjaCBvcGVyYXRpb246IFwiICsgb3A7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gXCJDYW5ub3QgYXBwbHkgcGF0Y2gsIHBhdGggZG9lc24ndCByZXNvbHZlOiBcIiArIHBhdGg7XG4gICAgICB9LFxuICAgICAgXCJQYXRjaGluZyByZXNlcnZlZCBhdHRyaWJ1dGVzIGxpa2UgX19wcm90b19fLCBwcm90b3R5cGUgYW5kIGNvbnN0cnVjdG9yIGlzIG5vdCBhbGxvd2VkXCJcbiAgICApO1xuICB9XG4gIGNvbnN0IFJFUExBQ0UgPSBcInJlcGxhY2VcIjtcbiAgY29uc3QgQUREID0gXCJhZGRcIjtcbiAgY29uc3QgUkVNT1ZFID0gXCJyZW1vdmVcIjtcbiAgZnVuY3Rpb24gZ2VuZXJhdGVQYXRjaGVzXyhzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgc3dpdGNoIChzdGF0ZS50eXBlXykge1xuICAgICAgY2FzZSAwIC8qIE9iamVjdCAqLzpcbiAgICAgIGNhc2UgMiAvKiBNYXAgKi86XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZVBhdGNoZXNGcm9tQXNzaWduZWQoXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgYmFzZVBhdGgsXG4gICAgICAgICAgcGF0Y2hlcyxcbiAgICAgICAgICBpbnZlcnNlUGF0Y2hlc1xuICAgICAgICApO1xuICAgICAgY2FzZSAxIC8qIEFycmF5ICovOlxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVBcnJheVBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcyk7XG4gICAgICBjYXNlIDMgLyogU2V0ICovOlxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVTZXRQYXRjaGVzKFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIGJhc2VQYXRoLFxuICAgICAgICAgIHBhdGNoZXMsXG4gICAgICAgICAgaW52ZXJzZVBhdGNoZXNcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2VuZXJhdGVBcnJheVBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIGxldCB7IGJhc2VfLCBhc3NpZ25lZF8gfSA9IHN0YXRlO1xuICAgIGxldCBjb3B5XyA9IHN0YXRlLmNvcHlfO1xuICAgIGlmIChjb3B5Xy5sZW5ndGggPCBiYXNlXy5sZW5ndGgpIHtcbiAgICAgIDtcbiAgICAgIFtiYXNlXywgY29weV9dID0gW2NvcHlfLCBiYXNlX107XG4gICAgICBbcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXNdID0gW2ludmVyc2VQYXRjaGVzLCBwYXRjaGVzXTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXNlXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFzc2lnbmVkX1tpXSAmJiBjb3B5X1tpXSAhPT0gYmFzZV9baV0pIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGJhc2VQYXRoLmNvbmNhdChbaV0pO1xuICAgICAgICBwYXRjaGVzLnB1c2goe1xuICAgICAgICAgIG9wOiBSRVBMQUNFLFxuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgLy8gTmVlZCB0byBtYXliZSBjbG9uZSBpdCwgYXMgaXQgY2FuIGluIGZhY3QgYmUgdGhlIG9yaWdpbmFsIHZhbHVlXG4gICAgICAgICAgLy8gZHVlIHRvIHRoZSBiYXNlL2NvcHkgaW52ZXJzaW9uIGF0IHRoZSBzdGFydCBvZiB0aGlzIGZ1bmN0aW9uXG4gICAgICAgICAgdmFsdWU6IGNsb25lUGF0Y2hWYWx1ZUlmTmVlZGVkKGNvcHlfW2ldKVxuICAgICAgICB9KTtcbiAgICAgICAgaW52ZXJzZVBhdGNoZXMucHVzaCh7XG4gICAgICAgICAgb3A6IFJFUExBQ0UsXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICB2YWx1ZTogY2xvbmVQYXRjaFZhbHVlSWZOZWVkZWQoYmFzZV9baV0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gYmFzZV8ubGVuZ3RoOyBpIDwgY29weV8ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhdGggPSBiYXNlUGF0aC5jb25jYXQoW2ldKTtcbiAgICAgIHBhdGNoZXMucHVzaCh7XG4gICAgICAgIG9wOiBBREQsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIC8vIE5lZWQgdG8gbWF5YmUgY2xvbmUgaXQsIGFzIGl0IGNhbiBpbiBmYWN0IGJlIHRoZSBvcmlnaW5hbCB2YWx1ZVxuICAgICAgICAvLyBkdWUgdG8gdGhlIGJhc2UvY29weSBpbnZlcnNpb24gYXQgdGhlIHN0YXJ0IG9mIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgdmFsdWU6IGNsb25lUGF0Y2hWYWx1ZUlmTmVlZGVkKGNvcHlfW2ldKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBjb3B5Xy5sZW5ndGggLSAxOyBiYXNlXy5sZW5ndGggPD0gaTsgLS1pKSB7XG4gICAgICBjb25zdCBwYXRoID0gYmFzZVBhdGguY29uY2F0KFtpXSk7XG4gICAgICBpbnZlcnNlUGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgb3A6IFJFTU9WRSxcbiAgICAgICAgcGF0aFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdlbmVyYXRlUGF0Y2hlc0Zyb21Bc3NpZ25lZChzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgY29uc3QgeyBiYXNlXywgY29weV8gfSA9IHN0YXRlO1xuICAgIGVhY2goc3RhdGUuYXNzaWduZWRfLCAoa2V5LCBhc3NpZ25lZFZhbHVlKSA9PiB7XG4gICAgICBjb25zdCBvcmlnVmFsdWUgPSBnZXQoYmFzZV8sIGtleSk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGdldChjb3B5Xywga2V5KTtcbiAgICAgIGNvbnN0IG9wID0gIWFzc2lnbmVkVmFsdWUgPyBSRU1PVkUgOiBoYXMoYmFzZV8sIGtleSkgPyBSRVBMQUNFIDogQUREO1xuICAgICAgaWYgKG9yaWdWYWx1ZSA9PT0gdmFsdWUgJiYgb3AgPT09IFJFUExBQ0UpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHBhdGggPSBiYXNlUGF0aC5jb25jYXQoa2V5KTtcbiAgICAgIHBhdGNoZXMucHVzaChvcCA9PT0gUkVNT1ZFID8geyBvcCwgcGF0aCB9IDogeyBvcCwgcGF0aCwgdmFsdWUgfSk7XG4gICAgICBpbnZlcnNlUGF0Y2hlcy5wdXNoKFxuICAgICAgICBvcCA9PT0gQUREID8geyBvcDogUkVNT1ZFLCBwYXRoIH0gOiBvcCA9PT0gUkVNT1ZFID8geyBvcDogQURELCBwYXRoLCB2YWx1ZTogY2xvbmVQYXRjaFZhbHVlSWZOZWVkZWQob3JpZ1ZhbHVlKSB9IDogeyBvcDogUkVQTEFDRSwgcGF0aCwgdmFsdWU6IGNsb25lUGF0Y2hWYWx1ZUlmTmVlZGVkKG9yaWdWYWx1ZSkgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBnZW5lcmF0ZVNldFBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIGxldCB7IGJhc2VfLCBjb3B5XyB9ID0gc3RhdGU7XG4gICAgbGV0IGkgPSAwO1xuICAgIGJhc2VfLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWNvcHlfLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGJhc2VQYXRoLmNvbmNhdChbaV0pO1xuICAgICAgICBwYXRjaGVzLnB1c2goe1xuICAgICAgICAgIG9wOiBSRU1PVkUsXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaW52ZXJzZVBhdGNoZXMudW5zaGlmdCh7XG4gICAgICAgICAgb3A6IEFERCxcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH0pO1xuICAgIGkgPSAwO1xuICAgIGNvcHlfLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIWJhc2VfLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGJhc2VQYXRoLmNvbmNhdChbaV0pO1xuICAgICAgICBwYXRjaGVzLnB1c2goe1xuICAgICAgICAgIG9wOiBBREQsXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaW52ZXJzZVBhdGNoZXMudW5zaGlmdCh7XG4gICAgICAgICAgb3A6IFJFTU9WRSxcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGdlbmVyYXRlUmVwbGFjZW1lbnRQYXRjaGVzXyhiYXNlVmFsdWUsIHJlcGxhY2VtZW50LCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIHBhdGNoZXMucHVzaCh7XG4gICAgICBvcDogUkVQTEFDRSxcbiAgICAgIHBhdGg6IFtdLFxuICAgICAgdmFsdWU6IHJlcGxhY2VtZW50ID09PSBOT1RISU5HID8gdm9pZCAwIDogcmVwbGFjZW1lbnRcbiAgICB9KTtcbiAgICBpbnZlcnNlUGF0Y2hlcy5wdXNoKHtcbiAgICAgIG9wOiBSRVBMQUNFLFxuICAgICAgcGF0aDogW10sXG4gICAgICB2YWx1ZTogYmFzZVZhbHVlXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYXBwbHlQYXRjaGVzXyhkcmFmdCwgcGF0Y2hlcykge1xuICAgIHBhdGNoZXMuZm9yRWFjaCgocGF0Y2gpID0+IHtcbiAgICAgIGNvbnN0IHsgcGF0aCwgb3AgfSA9IHBhdGNoO1xuICAgICAgbGV0IGJhc2UgPSBkcmFmdDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFyZW50VHlwZSA9IGdldEFyY2h0eXBlKGJhc2UpO1xuICAgICAgICBsZXQgcCA9IHBhdGhbaV07XG4gICAgICAgIGlmICh0eXBlb2YgcCAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgcCAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIHAgPSBcIlwiICsgcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHBhcmVudFR5cGUgPT09IDAgLyogT2JqZWN0ICovIHx8IHBhcmVudFR5cGUgPT09IDEgLyogQXJyYXkgKi8pICYmIChwID09PSBcIl9fcHJvdG9fX1wiIHx8IHAgPT09IFwiY29uc3RydWN0b3JcIikpXG4gICAgICAgICAgZGllKGVycm9yT2Zmc2V0ICsgMyk7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZSA9PT0gXCJmdW5jdGlvblwiICYmIHAgPT09IFwicHJvdG90eXBlXCIpXG4gICAgICAgICAgZGllKGVycm9yT2Zmc2V0ICsgMyk7XG4gICAgICAgIGJhc2UgPSBnZXQoYmFzZSwgcCk7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZSAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICBkaWUoZXJyb3JPZmZzZXQgKyAyLCBwYXRoLmpvaW4oXCIvXCIpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHR5cGUgPSBnZXRBcmNodHlwZShiYXNlKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gZGVlcENsb25lUGF0Y2hWYWx1ZShwYXRjaC52YWx1ZSk7XG4gICAgICBjb25zdCBrZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICAgIGNhc2UgUkVQTEFDRTpcbiAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMiAvKiBNYXAgKi86XG4gICAgICAgICAgICAgIHJldHVybiBiYXNlLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgMyAvKiBTZXQgKi86XG4gICAgICAgICAgICAgIGRpZShlcnJvck9mZnNldCk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gYmFzZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIEFERDpcbiAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgMSAvKiBBcnJheSAqLzpcbiAgICAgICAgICAgICAgcmV0dXJuIGtleSA9PT0gXCItXCIgPyBiYXNlLnB1c2godmFsdWUpIDogYmFzZS5zcGxpY2Uoa2V5LCAwLCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlIDIgLyogTWFwICovOlxuICAgICAgICAgICAgICByZXR1cm4gYmFzZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlIDMgLyogU2V0ICovOlxuICAgICAgICAgICAgICByZXR1cm4gYmFzZS5hZGQodmFsdWUpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2Vba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBSRU1PVkU6XG4gICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogQXJyYXkgKi86XG4gICAgICAgICAgICAgIHJldHVybiBiYXNlLnNwbGljZShrZXksIDEpO1xuICAgICAgICAgICAgY2FzZSAyIC8qIE1hcCAqLzpcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2UuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICBjYXNlIDMgLyogU2V0ICovOlxuICAgICAgICAgICAgICByZXR1cm4gYmFzZS5kZWxldGUocGF0Y2gudmFsdWUpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZSBiYXNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGRpZShlcnJvck9mZnNldCArIDEsIG9wKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZHJhZnQ7XG4gIH1cbiAgZnVuY3Rpb24gZGVlcENsb25lUGF0Y2hWYWx1ZShvYmopIHtcbiAgICBpZiAoIWlzRHJhZnRhYmxlKG9iaikpXG4gICAgICByZXR1cm4gb2JqO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpXG4gICAgICByZXR1cm4gb2JqLm1hcChkZWVwQ2xvbmVQYXRjaFZhbHVlKTtcbiAgICBpZiAoaXNNYXAob2JqKSlcbiAgICAgIHJldHVybiBuZXcgTWFwKFxuICAgICAgICBBcnJheS5mcm9tKG9iai5lbnRyaWVzKCkpLm1hcCgoW2ssIHZdKSA9PiBbaywgZGVlcENsb25lUGF0Y2hWYWx1ZSh2KV0pXG4gICAgICApO1xuICAgIGlmIChpc1NldChvYmopKVxuICAgICAgcmV0dXJuIG5ldyBTZXQoQXJyYXkuZnJvbShvYmopLm1hcChkZWVwQ2xvbmVQYXRjaFZhbHVlKSk7XG4gICAgY29uc3QgY2xvbmVkID0gT2JqZWN0LmNyZWF0ZShnZXRQcm90b3R5cGVPZihvYmopKTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopXG4gICAgICBjbG9uZWRba2V5XSA9IGRlZXBDbG9uZVBhdGNoVmFsdWUob2JqW2tleV0pO1xuICAgIGlmIChoYXMob2JqLCBEUkFGVEFCTEUpKVxuICAgICAgY2xvbmVkW0RSQUZUQUJMRV0gPSBvYmpbRFJBRlRBQkxFXTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG4gIGZ1bmN0aW9uIGNsb25lUGF0Y2hWYWx1ZUlmTmVlZGVkKG9iaikge1xuICAgIGlmIChpc0RyYWZ0KG9iaikpIHtcbiAgICAgIHJldHVybiBkZWVwQ2xvbmVQYXRjaFZhbHVlKG9iaik7XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm4gb2JqO1xuICB9XG4gIGxvYWRQbHVnaW4oXCJQYXRjaGVzXCIsIHtcbiAgICBhcHBseVBhdGNoZXNfLFxuICAgIGdlbmVyYXRlUGF0Y2hlc18sXG4gICAgZ2VuZXJhdGVSZXBsYWNlbWVudFBhdGNoZXNfXG4gIH0pO1xufVxuXG4vLyBzcmMvcGx1Z2lucy9tYXBzZXQudHNcbmZ1bmN0aW9uIGVuYWJsZU1hcFNldCgpIHtcbiAgY2xhc3MgRHJhZnRNYXAgZXh0ZW5kcyBNYXAge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpc1tEUkFGVF9TVEFURV0gPSB7XG4gICAgICAgIHR5cGVfOiAyIC8qIE1hcCAqLyxcbiAgICAgICAgcGFyZW50XzogcGFyZW50LFxuICAgICAgICBzY29wZV86IHBhcmVudCA/IHBhcmVudC5zY29wZV8gOiBnZXRDdXJyZW50U2NvcGUoKSxcbiAgICAgICAgbW9kaWZpZWRfOiBmYWxzZSxcbiAgICAgICAgZmluYWxpemVkXzogZmFsc2UsXG4gICAgICAgIGNvcHlfOiB2b2lkIDAsXG4gICAgICAgIGFzc2lnbmVkXzogdm9pZCAwLFxuICAgICAgICBiYXNlXzogdGFyZ2V0LFxuICAgICAgICBkcmFmdF86IHRoaXMsXG4gICAgICAgIGlzTWFudWFsXzogZmFsc2UsXG4gICAgICAgIHJldm9rZWRfOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICByZXR1cm4gbGF0ZXN0KHRoaXNbRFJBRlRfU1RBVEVdKS5zaXplO1xuICAgIH1cbiAgICBoYXMoa2V5KSB7XG4gICAgICByZXR1cm4gbGF0ZXN0KHRoaXNbRFJBRlRfU1RBVEVdKS5oYXMoa2V5KTtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV07XG4gICAgICBhc3NlcnRVbnJldm9rZWQoc3RhdGUpO1xuICAgICAgaWYgKCFsYXRlc3Qoc3RhdGUpLmhhcyhrZXkpIHx8IGxhdGVzdChzdGF0ZSkuZ2V0KGtleSkgIT09IHZhbHVlKSB7XG4gICAgICAgIHByZXBhcmVNYXBDb3B5KHN0YXRlKTtcbiAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICBzdGF0ZS5hc3NpZ25lZF8uc2V0KGtleSwgdHJ1ZSk7XG4gICAgICAgIHN0YXRlLmNvcHlfLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgc3RhdGUuYXNzaWduZWRfLnNldChrZXksIHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgIHByZXBhcmVNYXBDb3B5KHN0YXRlKTtcbiAgICAgIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgIGlmIChzdGF0ZS5iYXNlXy5oYXMoa2V5KSkge1xuICAgICAgICBzdGF0ZS5hc3NpZ25lZF8uc2V0KGtleSwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUuYXNzaWduZWRfLmRlbGV0ZShrZXkpO1xuICAgICAgfVxuICAgICAgc3RhdGUuY29weV8uZGVsZXRlKGtleSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgIGlmIChsYXRlc3Qoc3RhdGUpLnNpemUpIHtcbiAgICAgICAgcHJlcGFyZU1hcENvcHkoc3RhdGUpO1xuICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLmFzc2lnbmVkXyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICAgIGVhY2goc3RhdGUuYmFzZV8sIChrZXkpID0+IHtcbiAgICAgICAgICBzdGF0ZS5hc3NpZ25lZF8uc2V0KGtleSwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgc3RhdGUuY29weV8uY2xlYXIoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yRWFjaChjYiwgdGhpc0FyZykge1xuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgIGxhdGVzdChzdGF0ZSkuZm9yRWFjaCgoX3ZhbHVlLCBrZXksIF9tYXApID0+IHtcbiAgICAgICAgY2IuY2FsbCh0aGlzQXJnLCB0aGlzLmdldChrZXkpLCBrZXksIHRoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV07XG4gICAgICBhc3NlcnRVbnJldm9rZWQoc3RhdGUpO1xuICAgICAgY29uc3QgdmFsdWUgPSBsYXRlc3Qoc3RhdGUpLmdldChrZXkpO1xuICAgICAgaWYgKHN0YXRlLmZpbmFsaXplZF8gfHwgIWlzRHJhZnRhYmxlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT09IHN0YXRlLmJhc2VfLmdldChrZXkpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRyYWZ0ID0gY3JlYXRlUHJveHkodmFsdWUsIHN0YXRlKTtcbiAgICAgIHByZXBhcmVNYXBDb3B5KHN0YXRlKTtcbiAgICAgIHN0YXRlLmNvcHlfLnNldChrZXksIGRyYWZ0KTtcbiAgICAgIHJldHVybiBkcmFmdDtcbiAgICB9XG4gICAga2V5cygpIHtcbiAgICAgIHJldHVybiBsYXRlc3QodGhpc1tEUkFGVF9TVEFURV0pLmtleXMoKTtcbiAgICB9XG4gICAgdmFsdWVzKCkge1xuICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLmtleXMoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PiB0aGlzLnZhbHVlcygpLFxuICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgciA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoci5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldChyLnZhbHVlKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGVudHJpZXMoKSB7XG4gICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMua2V5cygpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl06ICgpID0+IHRoaXMuZW50cmllcygpLFxuICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgciA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoci5kb25lKVxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldChyLnZhbHVlKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogW3IudmFsdWUsIHZhbHVlXVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIFsoRFJBRlRfU1RBVEUsIFN5bWJvbC5pdGVyYXRvcildKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW50cmllcygpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm94eU1hcF8odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICByZXR1cm4gbmV3IERyYWZ0TWFwKHRhcmdldCwgcGFyZW50KTtcbiAgfVxuICBmdW5jdGlvbiBwcmVwYXJlTWFwQ29weShzdGF0ZSkge1xuICAgIGlmICghc3RhdGUuY29weV8pIHtcbiAgICAgIHN0YXRlLmFzc2lnbmVkXyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICBzdGF0ZS5jb3B5XyA9IG5ldyBNYXAoc3RhdGUuYmFzZV8pO1xuICAgIH1cbiAgfVxuICBjbGFzcyBEcmFmdFNldCBleHRlbmRzIFNldCB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzW0RSQUZUX1NUQVRFXSA9IHtcbiAgICAgICAgdHlwZV86IDMgLyogU2V0ICovLFxuICAgICAgICBwYXJlbnRfOiBwYXJlbnQsXG4gICAgICAgIHNjb3BlXzogcGFyZW50ID8gcGFyZW50LnNjb3BlXyA6IGdldEN1cnJlbnRTY29wZSgpLFxuICAgICAgICBtb2RpZmllZF86IGZhbHNlLFxuICAgICAgICBmaW5hbGl6ZWRfOiBmYWxzZSxcbiAgICAgICAgY29weV86IHZvaWQgMCxcbiAgICAgICAgYmFzZV86IHRhcmdldCxcbiAgICAgICAgZHJhZnRfOiB0aGlzLFxuICAgICAgICBkcmFmdHNfOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgICAgICByZXZva2VkXzogZmFsc2UsXG4gICAgICAgIGlzTWFudWFsXzogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgcmV0dXJuIGxhdGVzdCh0aGlzW0RSQUZUX1NUQVRFXSkuc2l6ZTtcbiAgICB9XG4gICAgaGFzKHZhbHVlKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgIGlmICghc3RhdGUuY29weV8pIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmJhc2VfLmhhcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuY29weV8uaGFzKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoc3RhdGUuZHJhZnRzXy5oYXModmFsdWUpICYmIHN0YXRlLmNvcHlfLmhhcyhzdGF0ZS5kcmFmdHNfLmdldCh2YWx1ZSkpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYWRkKHZhbHVlKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgIGlmICghdGhpcy5oYXModmFsdWUpKSB7XG4gICAgICAgIHByZXBhcmVTZXRDb3B5KHN0YXRlKTtcbiAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICBzdGF0ZS5jb3B5Xy5hZGQodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRlbGV0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgICBwcmVwYXJlU2V0Q29weShzdGF0ZSk7XG4gICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICByZXR1cm4gc3RhdGUuY29weV8uZGVsZXRlKHZhbHVlKSB8fCAoc3RhdGUuZHJhZnRzXy5oYXModmFsdWUpID8gc3RhdGUuY29weV8uZGVsZXRlKHN0YXRlLmRyYWZ0c18uZ2V0KHZhbHVlKSkgOiAoXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGZhbHNlXG4gICAgICApKTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgIGlmIChsYXRlc3Qoc3RhdGUpLnNpemUpIHtcbiAgICAgICAgcHJlcGFyZVNldENvcHkoc3RhdGUpO1xuICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgIHN0YXRlLmNvcHlfLmNsZWFyKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhbHVlcygpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV07XG4gICAgICBhc3NlcnRVbnJldm9rZWQoc3RhdGUpO1xuICAgICAgcHJlcGFyZVNldENvcHkoc3RhdGUpO1xuICAgICAgcmV0dXJuIHN0YXRlLmNvcHlfLnZhbHVlcygpO1xuICAgIH1cbiAgICBlbnRyaWVzKCkge1xuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgICBwcmVwYXJlU2V0Q29weShzdGF0ZSk7XG4gICAgICByZXR1cm4gc3RhdGUuY29weV8uZW50cmllcygpO1xuICAgIH1cbiAgICBrZXlzKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWVzKCk7XG4gICAgfVxuICAgIFsoRFJBRlRfU1RBVEUsIFN5bWJvbC5pdGVyYXRvcildKCkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsdWVzKCk7XG4gICAgfVxuICAgIGZvckVhY2goY2IsIHRoaXNBcmcpIHtcbiAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy52YWx1ZXMoKTtcbiAgICAgIGxldCByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICB3aGlsZSAoIXJlc3VsdC5kb25lKSB7XG4gICAgICAgIGNiLmNhbGwodGhpc0FyZywgcmVzdWx0LnZhbHVlLCByZXN1bHQudmFsdWUsIHRoaXMpO1xuICAgICAgICByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHByb3h5U2V0Xyh0YXJnZXQsIHBhcmVudCkge1xuICAgIHJldHVybiBuZXcgRHJhZnRTZXQodGFyZ2V0LCBwYXJlbnQpO1xuICB9XG4gIGZ1bmN0aW9uIHByZXBhcmVTZXRDb3B5KHN0YXRlKSB7XG4gICAgaWYgKCFzdGF0ZS5jb3B5Xykge1xuICAgICAgc3RhdGUuY29weV8gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgc3RhdGUuYmFzZV8uZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGlzRHJhZnRhYmxlKHZhbHVlKSkge1xuICAgICAgICAgIGNvbnN0IGRyYWZ0ID0gY3JlYXRlUHJveHkodmFsdWUsIHN0YXRlKTtcbiAgICAgICAgICBzdGF0ZS5kcmFmdHNfLnNldCh2YWx1ZSwgZHJhZnQpO1xuICAgICAgICAgIHN0YXRlLmNvcHlfLmFkZChkcmFmdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdGUuY29weV8uYWRkKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFzc2VydFVucmV2b2tlZChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5yZXZva2VkXylcbiAgICAgIGRpZSgzLCBKU09OLnN0cmluZ2lmeShsYXRlc3Qoc3RhdGUpKSk7XG4gIH1cbiAgbG9hZFBsdWdpbihcIk1hcFNldFwiLCB7IHByb3h5TWFwXywgcHJveHlTZXRfIH0pO1xufVxuXG4vLyBzcmMvaW1tZXIudHNcbnZhciBpbW1lciA9IG5ldyBJbW1lcjIoKTtcbnZhciBwcm9kdWNlID0gaW1tZXIucHJvZHVjZTtcbnZhciBwcm9kdWNlV2l0aFBhdGNoZXMgPSAvKiBAX19QVVJFX18gKi8gaW1tZXIucHJvZHVjZVdpdGhQYXRjaGVzLmJpbmQoXG4gIGltbWVyXG4pO1xudmFyIHNldEF1dG9GcmVlemUgPSAvKiBAX19QVVJFX18gKi8gaW1tZXIuc2V0QXV0b0ZyZWV6ZS5iaW5kKGltbWVyKTtcbnZhciBzZXRVc2VTdHJpY3RTaGFsbG93Q29weSA9IC8qIEBfX1BVUkVfXyAqLyBpbW1lci5zZXRVc2VTdHJpY3RTaGFsbG93Q29weS5iaW5kKFxuICBpbW1lclxuKTtcbnZhciBzZXRVc2VTdHJpY3RJdGVyYXRpb24gPSAvKiBAX19QVVJFX18gKi8gaW1tZXIuc2V0VXNlU3RyaWN0SXRlcmF0aW9uLmJpbmQoXG4gIGltbWVyXG4pO1xudmFyIGFwcGx5UGF0Y2hlcyA9IC8qIEBfX1BVUkVfXyAqLyBpbW1lci5hcHBseVBhdGNoZXMuYmluZChpbW1lcik7XG52YXIgY3JlYXRlRHJhZnQgPSAvKiBAX19QVVJFX18gKi8gaW1tZXIuY3JlYXRlRHJhZnQuYmluZChpbW1lcik7XG52YXIgZmluaXNoRHJhZnQgPSAvKiBAX19QVVJFX18gKi8gaW1tZXIuZmluaXNoRHJhZnQuYmluZChpbW1lcik7XG5mdW5jdGlvbiBjYXN0RHJhZnQodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gY2FzdEltbXV0YWJsZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQge1xuICBJbW1lcjIgYXMgSW1tZXIsXG4gIGFwcGx5UGF0Y2hlcyxcbiAgY2FzdERyYWZ0LFxuICBjYXN0SW1tdXRhYmxlLFxuICBjcmVhdGVEcmFmdCxcbiAgY3VycmVudCxcbiAgZW5hYmxlTWFwU2V0LFxuICBlbmFibGVQYXRjaGVzLFxuICBmaW5pc2hEcmFmdCxcbiAgZnJlZXplLFxuICBEUkFGVEFCTEUgYXMgaW1tZXJhYmxlLFxuICBpc0RyYWZ0LFxuICBpc0RyYWZ0YWJsZSxcbiAgTk9USElORyBhcyBub3RoaW5nLFxuICBvcmlnaW5hbCxcbiAgcHJvZHVjZSxcbiAgcHJvZHVjZVdpdGhQYXRjaGVzLFxuICBzZXRBdXRvRnJlZXplLFxuICBzZXRVc2VTdHJpY3RJdGVyYXRpb24sXG4gIHNldFVzZVN0cmljdFNoYWxsb3dDb3B5XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1tZXIubWpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIG0gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGV4cG9ydHMuY3JlYXRlUm9vdCA9IG0uY3JlYXRlUm9vdDtcbiAgZXhwb3J0cy5oeWRyYXRlUm9vdCA9IG0uaHlkcmF0ZVJvb3Q7XG59IGVsc2Uge1xuICB2YXIgaSA9IG0uX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG4gIGV4cG9ydHMuY3JlYXRlUm9vdCA9IGZ1bmN0aW9uKGMsIG8pIHtcbiAgICBpLnVzaW5nQ2xpZW50RW50cnlQb2ludCA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBtLmNyZWF0ZVJvb3QoYywgbyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gZmFsc2U7XG4gICAgfVxuICB9O1xuICBleHBvcnRzLmh5ZHJhdGVSb290ID0gZnVuY3Rpb24oYywgaCwgbykge1xuICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG0uaHlkcmF0ZVJvb3QoYywgaCwgbyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gZmFsc2U7XG4gICAgfVxuICB9O1xufVxuIiwiaW50ZXJmYWNlIEJhc2VFcnJvckRhdGEge1xuICB1cmw6IHN0cmluZztcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBFcnJvclJlcG9ydCBleHRlbmRzIEJhc2VFcnJvckRhdGEge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHN0YWNrPzogc3RyaW5nO1xuICBjb21wb25lbnRTdGFjaz86IHN0cmluZztcbiAgZXJyb3JCb3VuZGFyeT86IGJvb2xlYW47XG4gIGVycm9yQm91bmRhcnlQcm9wcz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBzb3VyY2U/OiBzdHJpbmc7XG4gIGxpbmVubz86IG51bWJlcjtcbiAgY29sbm8/OiBudW1iZXI7XG4gIGVycm9yPzogdW5rbm93bjtcbiAgbGV2ZWw6IFwiZXJyb3JcIiB8IFwid2FybmluZ1wiIHwgXCJpbmZvXCI7XG4gIHBhcnNlZFN0YWNrPzogc3RyaW5nO1xuICBjYXRlZ29yeT86IFwicmVhY3RcIiB8IFwiamF2YXNjcmlwdFwiIHwgXCJuZXR3b3JrXCIgfCBcInVzZXJcIiB8IFwidW5rbm93blwiO1xufVxuXG4vLyBSZW1vdmVkIGxlZ2FjeSBFcnJvclNpZ25hdHVyZSBhbmQgcmVsYXRlZCBpbnRlcm5hbCBkZWR1cCBsb2dpYyBpbiBmYXZvciBvZiBHbG9iYWxFcnJvckRlZHVwbGljYXRpb25cblxudHlwZSBDb25zb2xlTWV0aG9kID0gXCJ3YXJuXCIgfCBcImVycm9yXCI7XG50eXBlIENvbnNvbGVBcmdzID0gdW5rbm93bltdO1xuXG5pbnRlcmZhY2UgRXJyb3JGaWx0ZXJSZXN1bHQge1xuICBzaG91bGRSZXBvcnQ6IGJvb2xlYW47XG4gIHJlYXNvbj86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEVycm9yQ29udGV4dCB7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgc3RhY2s/OiBzdHJpbmc7XG4gIHNvdXJjZT86IHN0cmluZztcbiAgdXJsPzogc3RyaW5nO1xuICBsZXZlbDogXCJlcnJvclwiIHwgXCJ3YXJuaW5nXCIgfCBcImluZm9cIjtcbn1cblxuLy8gU2hhcmVkIGNhdGVnb3JpemF0aW9uIHV0aWxpdHkgKHVzZWQgYnkgYm90aCBjbGFzcyBhbmQgaW1tZWRpYXRlIGludGVyY2VwdG9ycylcbmNvbnN0IGNhdGVnb3JpemUgPSAobWVzc2FnZTogc3RyaW5nKTogRXJyb3JSZXBvcnRbXCJjYXRlZ29yeVwiXSA9PiB7XG4gIGlmIChtZXNzYWdlLmluY2x1ZGVzKFwiV2FybmluZzpcIikgfHwgbWVzc2FnZS5pbmNsdWRlcyhcIlJlYWN0XCIpKSByZXR1cm4gXCJyZWFjdFwiO1xuICBpZiAoXG4gICAgbWVzc2FnZS5pbmNsdWRlcyhcImZldGNoXCIpIHx8XG4gICAgbWVzc2FnZS5pbmNsdWRlcyhcIm5ldHdvcmtcIikgfHxcbiAgICBtZXNzYWdlLmluY2x1ZGVzKFwiRmFpbGVkIHRvIGxvYWRcIilcbiAgKVxuICAgIHJldHVybiBcIm5ldHdvcmtcIjtcbiAgaWYgKFxuICAgIG1lc3NhZ2UuaW5jbHVkZXMoXCJUeXBlRXJyb3JcIikgfHxcbiAgICBtZXNzYWdlLmluY2x1ZGVzKFwiUmVmZXJlbmNlRXJyb3JcIikgfHxcbiAgICBtZXNzYWdlLmluY2x1ZGVzKFwiU3ludGF4RXJyb3JcIilcbiAgKVxuICAgIHJldHVybiBcImphdmFzY3JpcHRcIjtcbiAgcmV0dXJuIFwidW5rbm93blwiO1xufTtcblxuLy8gU2hhcmVkIHBhdHRlcm5zIGFuZCB3cmFwcGVyc1xuY29uc3QgUkVBQ1RfV0FSTklOR19QQVRURVJOID0gXCJXYXJuaW5nOlwiIGFzIGNvbnN0O1xuY29uc3QgV0FSTklOR19QUkVGSVggPSBcIltXQVJOSU5HXVwiIGFzIGNvbnN0O1xuY29uc3QgQ09OU09MRV9FUlJPUl9QUkVGSVggPSBcIltDT05TT0xFIEVSUk9SXVwiIGFzIGNvbnN0O1xuY29uc3QgU09VUkNFX0ZJTEVfUEFUVEVSTlM6IFJlYWRvbmx5QXJyYXk8UmVnRXhwPiA9IFtcbiAgL1xcLnRzeD8kLyxcbiAgL1xcLmpzeD8kLyxcbiAgL1xcL3NyY1xcLy8sXG5dO1xuY29uc3QgVkVORE9SX1BBVFRFUk5TOiBSZWFkb25seUFycmF5PFJlZ0V4cD4gPSBbXG4gIC9ub2RlX21vZHVsZXMvLFxuICAvXFwudml0ZS8sXG4gIC9jaHVuay0vLFxuICAvZGVwcy8sXG5dO1xuXG50eXBlIFdyYXBwZWRDb25zb2xlRm4gPSAoKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdm9pZCkgJiB7XG4gIF9fZXJyb3JSZXBvcnRlcldyYXBwZWQ/OiBib29sZWFuO1xufTtcbnR5cGUgQ29uc29sZU5hdGl2ZSA9ICguLi5hcmdzOiB1bmtub3duW10pID0+IHZvaWQ7XG5cbmNvbnN0IGlzUmVhY3RSb3V0ZXJGdXR1cmVGbGFnTWVzc2FnZSA9IChtZXNzYWdlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgY29uc3QgZnV0dXJlUGF0dGVybnMgPSBbXG4gICAgL1JlYWN0IFJvdXRlciBGdXR1cmUgRmxhZyBXYXJuaW5nL2ksXG4gICAgL2Z1dHVyZSBmbGFnIHRvIG9wdC1pbiBlYXJseS9pLFxuICAgIC9yZWFjdHJvdXRlclxcLmNvbS4qdXBncmFkaW5nLipmdXR1cmUvaSxcbiAgICAvdjdfXFx3Ky4qZnV0dXJlIGZsYWcvaSxcbiAgXTtcbiAgcmV0dXJuIGZ1dHVyZVBhdHRlcm5zLnNvbWUoKHApID0+IHAudGVzdChtZXNzYWdlKSk7XG59O1xuXG5jb25zdCBpc0RlcHJlY2F0ZWRSZWFjdFdhcm5pbmdNZXNzYWdlID0gKG1lc3NhZ2U6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBkZXByZWNhdGVkUGF0dGVybnMgPSBbXG4gICAgL2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMvLFxuICAgIC9jb21wb25lbnRXaWxsTW91bnQvLFxuICAgIC9jb21wb25lbnRXaWxsVXBkYXRlLyxcbiAgICAvVU5TQUZFX2NvbXBvbmVudFdpbGwvLFxuICBdO1xuICByZXR1cm4gZGVwcmVjYXRlZFBhdHRlcm5zLnNvbWUoKHApID0+IHAudGVzdChtZXNzYWdlKSk7XG59O1xuXG5jb25zdCBoYXNSZWxldmFudFNvdXJjZUluU3RhY2sgPSAoc3RhY2s/OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgaWYgKCFzdGFjaykgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBsaW5lcyA9IHN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICBjb25zdCBoYXNTb3VyY2VGaWxlcyA9IGxpbmVzLnNvbWUoKGxpbmUpID0+XG4gICAgU09VUkNFX0ZJTEVfUEFUVEVSTlMuc29tZSgocGF0KSA9PiBwYXQudGVzdChsaW5lKSlcbiAgKTtcbiAgaWYgKGhhc1NvdXJjZUZpbGVzKSByZXR1cm4gdHJ1ZTtcblxuICBjb25zdCBpc0FsbFZlbmRvciA9IGxpbmVzLmV2ZXJ5KFxuICAgIChsaW5lKSA9PlxuICAgICAgbGluZS50cmltKCkgPT09IFwiXCIgfHxcbiAgICAgIGxpbmUuaW5jbHVkZXMoXCJFcnJvclwiKSB8fFxuICAgICAgVkVORE9SX1BBVFRFUk5TLnNvbWUoKHBhdCkgPT4gcGF0LnRlc3QobGluZSkpXG4gICk7XG4gIHJldHVybiAhaXNBbGxWZW5kb3I7XG59O1xuXG5pbnRlcmZhY2UgRXJyb3JQcmVjZWRlbmNlIHtcbiAgaGFzU291cmNlQ29kZTogYm9vbGVhbjtcbiAgaXNXYXJuaW5nOiBib29sZWFuO1xuICBzdGFja0RlcHRoOiBudW1iZXI7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG4vLyBTaGFyZWQgZGVkdXBsaWNhdGlvbiBzeXN0ZW0gYmV0d2VlbiBpbW1lZGlhdGUgYW5kIGNsYXNzIGludGVyY2VwdG9yc1xuY2xhc3MgR2xvYmFsRXJyb3JEZWR1cGxpY2F0aW9uIHtcbiAgcHJpdmF0ZSByZXBvcnRlZEVycm9ycyA9IG5ldyBNYXA8XG4gICAgc3RyaW5nLFxuICAgIHsgdGltZXN0YW1wOiBudW1iZXI7IHByZWNlZGVuY2U6IEVycm9yUHJlY2VkZW5jZTsgcmVwb3J0ZWQ6IGJvb2xlYW4gfVxuICA+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGVkdXBsaWNhdGlvbldpbmRvdyA9IDUwMDA7IC8vIDUgc2Vjb25kc1xuICBwcml2YXRlIHJlYWRvbmx5IGNsZWFudXBJbnRlcnZhbCA9IDYwMDAwOyAvLyAxIG1pbnV0ZVxuICBwcml2YXRlIGxhc3RDbGVhbnVwID0gRGF0ZS5ub3coKTtcblxuICBwcml2YXRlIGNhbGN1bGF0ZVByZWNlZGVuY2UoY29udGV4dDogRXJyb3JDb250ZXh0KTogRXJyb3JQcmVjZWRlbmNlIHtcbiAgICBjb25zdCBoYXNTb3VyY2VDb2RlID0gdGhpcy5oYXNSZWxldmFudFNvdXJjZUNvZGUoY29udGV4dC5zdGFjayk7XG4gICAgY29uc3QgaXNXYXJuaW5nID0gY29udGV4dC5sZXZlbCA9PT0gXCJ3YXJuaW5nXCI7XG4gICAgY29uc3Qgc3RhY2tEZXB0aCA9IGNvbnRleHQuc3RhY2sgPyBjb250ZXh0LnN0YWNrLnNwbGl0KFwiXFxuXCIpLmxlbmd0aCA6IDA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaGFzU291cmNlQ29kZSxcbiAgICAgIGlzV2FybmluZyxcbiAgICAgIHN0YWNrRGVwdGgsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgaGFzUmVsZXZhbnRTb3VyY2VDb2RlKHN0YWNrPzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKCFzdGFjaykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBzdGFja1xuICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAuc29tZShcbiAgICAgICAgKGxpbmUpID0+XG4gICAgICAgICAgL1xcLnRzeD8kLy50ZXN0KGxpbmUpIHx8IC9cXC5qc3g/JC8udGVzdChsaW5lKSB8fCAvXFwvc3JjXFwvLy50ZXN0KGxpbmUpXG4gICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0hpZ2hlclByZWNlZGVuY2UoXG4gICAgbmV3UHJlYzogRXJyb3JQcmVjZWRlbmNlLFxuICAgIGV4aXN0aW5nUHJlYzogRXJyb3JQcmVjZWRlbmNlXG4gICk6IGJvb2xlYW4ge1xuICAgIC8vIFByZWZlciBlcnJvcnMgd2l0aCBzb3VyY2UgY29kZVxuICAgIGlmIChuZXdQcmVjLmhhc1NvdXJjZUNvZGUgIT09IGV4aXN0aW5nUHJlYy5oYXNTb3VyY2VDb2RlKSB7XG4gICAgICByZXR1cm4gbmV3UHJlYy5oYXNTb3VyY2VDb2RlO1xuICAgIH1cblxuICAgIC8vIEZvciBzYW1lIHNvdXJjZSBjb2RlIHByZXNlbmNlLCBwcmVmZXIgd2FybmluZ3MgKHRoZXkgb2Z0ZW4gaGF2ZSBiZXR0ZXIgc3RhY2sgdHJhY2VzKVxuICAgIGlmIChuZXdQcmVjLmlzV2FybmluZyAhPT0gZXhpc3RpbmdQcmVjLmlzV2FybmluZykge1xuICAgICAgcmV0dXJuIG5ld1ByZWMuaXNXYXJuaW5nO1xuICAgIH1cblxuICAgIC8vIFByZWZlciBkZWVwZXIgc3RhY2sgdHJhY2VzIChtb3JlIGNvbnRleHQpXG4gICAgaWYgKG5ld1ByZWMuc3RhY2tEZXB0aCAhPT0gZXhpc3RpbmdQcmVjLnN0YWNrRGVwdGgpIHtcbiAgICAgIHJldHVybiBuZXdQcmVjLnN0YWNrRGVwdGggPiBleGlzdGluZ1ByZWMuc3RhY2tEZXB0aDtcbiAgICB9XG5cbiAgICAvLyBQcmVmZXIgbmV3ZXIgZXJyb3JzXG4gICAgcmV0dXJuIG5ld1ByZWMudGltZXN0YW1wID4gZXhpc3RpbmdQcmVjLnRpbWVzdGFtcDtcbiAgfVxuXG4gIHByaXZhdGUgZ2VuZXJhdGVTaWduYXR1cmUoY29udGV4dDogRXJyb3JDb250ZXh0KTogc3RyaW5nIHtcbiAgICAvLyBOb3JtYWxpemUgbWVzc2FnZSB0byBncm91cCBhbGwgdmFyaWFudHMgb2YgdGhlIHNhbWUgZXJyb3JcbiAgICBsZXQgbWVzc2FnZUNvcmUgPSBjb250ZXh0Lm1lc3NhZ2VcbiAgICAgIC5yZXBsYWNlKC9cXFtDT05TT0xFIEVSUk9SXFxdfFxcW1dBUk5JTkdcXF0vZywgXCJcIilcbiAgICAgIC5yZXBsYWNlKC9eVW5jYXVnaHQgRXJyb3I6XFxzKi9pLCBcIlwiKVxuICAgICAgLnJlcGxhY2UoL15FcnJvcjpcXHMqL2ksIFwiXCIpXG4gICAgICAucmVwbGFjZSgvJXMuKj9cXG4vZywgXCJcIikgLy8gUmVtb3ZlIFJlYWN0IGZvcm1hdHRpbmdcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKSAvLyBOb3JtYWxpemUgd2hpdGVzcGFjZVxuICAgICAgLnRyaW0oKTtcblxuICAgIC8vIEV4dHJhY3QgdGhlIGNvcmUgZXJyb3IgbWVzc2FnZSBmb3IgYmV0dGVyIGdyb3VwaW5nXG4gICAgLy8gRm9yIFwiTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWRcIiBlcnJvcnMsIHVzZSBqdXN0IHRoYXQga2V5IHBocmFzZVxuICAgIGlmIChtZXNzYWdlQ29yZS5pbmNsdWRlcyhcIk1heGltdW0gdXBkYXRlIGRlcHRoIGV4Y2VlZGVkXCIpKSB7XG4gICAgICBtZXNzYWdlQ29yZSA9IFwiTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWRcIjtcbiAgICB9XG4gICAgLy8gRm9yIGdldFNuYXBzaG90IGVycm9yc1xuICAgIGVsc2UgaWYgKFxuICAgICAgbWVzc2FnZUNvcmUuaW5jbHVkZXMoXCJUaGUgcmVzdWx0IG9mIGdldFNuYXBzaG90IHNob3VsZCBiZSBjYWNoZWRcIilcbiAgICApIHtcbiAgICAgIG1lc3NhZ2VDb3JlID0gXCJUaGUgcmVzdWx0IG9mIGdldFNuYXBzaG90IHNob3VsZCBiZSBjYWNoZWRcIjtcbiAgICB9XG4gICAgLy8gRm9yIFJlYWN0IFJvdXRlciBjYXVnaHQgZXJyb3JzXG4gICAgZWxzZSBpZiAobWVzc2FnZUNvcmUuaW5jbHVkZXMoXCJSZWFjdCBSb3V0ZXIgY2F1Z2h0IHRoZSBmb2xsb3dpbmcgZXJyb3JcIikpIHtcbiAgICAgIG1lc3NhZ2VDb3JlID0gXCJSZWFjdCBSb3V0ZXIgY2F1Z2h0IGVycm9yXCI7XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgaW5jbHVkZSBzdGFjayBpbiBzaWduYXR1cmUgLSBqdXN0IHRoZSBjb3JlIG1lc3NhZ2VcbiAgICAvLyBUaGlzIGVuc3VyZXMgYWxsIHZhcmlhbnRzIG9mIHRoZSBzYW1lIGVycm9yIGFyZSBncm91cGVkIHRvZ2V0aGVyXG4gICAgcmV0dXJuIG1lc3NhZ2VDb3JlO1xuICB9XG5cbiAgc2hvdWxkUmVwb3J0KFxuICAgIGNvbnRleHQ6IEVycm9yQ29udGV4dCxcbiAgICBpbW1lZGlhdGUgPSBmYWxzZVxuICApOiB7IHNob3VsZFJlcG9ydDogYm9vbGVhbjsgcmVhc29uPzogc3RyaW5nIH0ge1xuICAgIHRoaXMubWF5YmVDbGVhbnVwKCk7XG5cbiAgICBjb25zdCBzaWduYXR1cmUgPSB0aGlzLmdlbmVyYXRlU2lnbmF0dXJlKGNvbnRleHQpO1xuICAgIGNvbnN0IHByZWNlZGVuY2UgPSB0aGlzLmNhbGN1bGF0ZVByZWNlZGVuY2UoY29udGV4dCk7XG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLnJlcG9ydGVkRXJyb3JzLmdldChzaWduYXR1cmUpO1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICAvLyBGb3IgaW1tZWRpYXRlIHJlcG9ydGluZywgcmVxdWlyZSBzb3VyY2UgY29kZSB0byBhdm9pZCB2ZW5kb3Itb25seSBub2lzZVxuICAgICAgaWYgKGltbWVkaWF0ZSAmJiAhcHJlY2VkZW5jZS5oYXNTb3VyY2VDb2RlKSB7XG4gICAgICAgIHJldHVybiB7IHNob3VsZFJlcG9ydDogZmFsc2UsIHJlYXNvbjogXCJub19zb3VyY2VfY29kZVwiIH07XG4gICAgICB9XG4gICAgICAvLyBSZWNvcmQgYW5kIGFsbG93IHJlcG9ydGluZ1xuICAgICAgdGhpcy5yZXBvcnRlZEVycm9ycy5zZXQoc2lnbmF0dXJlLCB7XG4gICAgICAgIHRpbWVzdGFtcDogbm93LFxuICAgICAgICBwcmVjZWRlbmNlLFxuICAgICAgICByZXBvcnRlZDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvdWxkUmVwb3J0OiB0cnVlIH07XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGJldHRlciB2ZXJzaW9uIG9mIHRoZSBzYW1lIGVycm9yXG4gICAgaWYgKHRoaXMuaXNIaWdoZXJQcmVjZWRlbmNlKHByZWNlZGVuY2UsIGV4aXN0aW5nLnByZWNlZGVuY2UpKSB7XG4gICAgICAvLyBPbmx5IHJlcG9ydCBpZiBzaWduaWZpY2FudGx5IGJldHRlciAoaGFzIHNvdXJjZSBjb2RlIHdoZW4gZXhpc3RpbmcgZG9lc24ndClcbiAgICAgIGlmIChwcmVjZWRlbmNlLmhhc1NvdXJjZUNvZGUgJiYgIWV4aXN0aW5nLnByZWNlZGVuY2UuaGFzU291cmNlQ29kZSkge1xuICAgICAgICBleGlzdGluZy5wcmVjZWRlbmNlID0gcHJlY2VkZW5jZTtcbiAgICAgICAgZXhpc3RpbmcudGltZXN0YW1wID0gbm93O1xuICAgICAgICBleGlzdGluZy5yZXBvcnRlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB7IHNob3VsZFJlcG9ydDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGRlZHVwbGljYXRpb24gd2luZG93XG4gICAgaWYgKG5vdyAtIGV4aXN0aW5nLnRpbWVzdGFtcCA8IHRoaXMuZGVkdXBsaWNhdGlvbldpbmRvdykge1xuICAgICAgcmV0dXJuIHsgc2hvdWxkUmVwb3J0OiBmYWxzZSwgcmVhc29uOiBcImR1cGxpY2F0ZV9pbl93aW5kb3dcIiB9O1xuICAgIH1cblxuICAgIC8vIEVub3VnaCB0aW1lIGhhcyBwYXNzZWQsIGJ1dCBjaGVjayBzb3VyY2UgY29kZSByZXF1aXJlbWVudCBmb3IgaW1tZWRpYXRlXG4gICAgaWYgKGltbWVkaWF0ZSAmJiAhcHJlY2VkZW5jZS5oYXNTb3VyY2VDb2RlKSB7XG4gICAgICByZXR1cm4geyBzaG91bGRSZXBvcnQ6IGZhbHNlLCByZWFzb246IFwibm9fc291cmNlX2NvZGVcIiB9O1xuICAgIH1cblxuICAgIC8vIEFsbG93IHJlcG9ydGluZyBhZnRlciB3aW5kb3cgZXhwaXJlc1xuICAgIGV4aXN0aW5nLnRpbWVzdGFtcCA9IG5vdztcbiAgICBleGlzdGluZy5wcmVjZWRlbmNlID0gcHJlY2VkZW5jZTtcbiAgICBleGlzdGluZy5yZXBvcnRlZCA9IHRydWU7XG4gICAgcmV0dXJuIHsgc2hvdWxkUmVwb3J0OiB0cnVlIH07XG4gIH1cblxuICAvLyBSZW1vdmVkIGRlZmVycmVkIGJlc3QtdmVyc2lvbiByZXBvcnRpbmc7IGRlZHVwbGljYXRpb24gaXMgc3luY2hyb25vdXMgbm93XG5cbiAgcHJpdmF0ZSBtYXliZUNsZWFudXAoKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAobm93IC0gdGhpcy5sYXN0Q2xlYW51cCA+IHRoaXMuY2xlYW51cEludGVydmFsKSB7XG4gICAgICBjb25zdCBjdXRvZmYgPSBub3cgLSAzMDAwMDA7IC8vIDUgbWludXRlc1xuICAgICAgZm9yIChjb25zdCBbc2lnbmF0dXJlLCBkYXRhXSBvZiB0aGlzLnJlcG9ydGVkRXJyb3JzLmVudHJpZXMoKSkge1xuICAgICAgICBpZiAoZGF0YS50aW1lc3RhbXAgPCBjdXRvZmYpIHtcbiAgICAgICAgICB0aGlzLnJlcG9ydGVkRXJyb3JzLmRlbGV0ZShzaWduYXR1cmUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3RDbGVhbnVwID0gbm93O1xuICAgIH1cbiAgfVxufVxuXG4vLyBHbG9iYWwgaW5zdGFuY2Ugc2hhcmVkIGFjcm9zcyBhbGwgaW50ZXJjZXB0b3JzXG5jb25zdCBnbG9iYWxEZWR1cGxpY2F0aW9uID0gbmV3IEdsb2JhbEVycm9yRGVkdXBsaWNhdGlvbigpO1xuXG5jbGFzcyBFcnJvclJlcG9ydGVyIHtcbiAgcHJpdmF0ZSBlcnJvclF1ZXVlOiBFcnJvclJlcG9ydFtdID0gW107XG4gIHByaXZhdGUgaXNSZXBvcnRpbmcgPSBmYWxzZTtcbiAgcHJpdmF0ZSByZWFkb25seSBtYXhRdWV1ZVNpemUgPSAxMDtcbiAgcHJpdmF0ZSByZWFkb25seSByZXBvcnRpbmdFbmRwb2ludCA9IFwiL2FwaS9jbGllbnQtZXJyb3JzXCI7XG4gIHByaXZhdGUgb3JpZ2luYWxDb25zb2xlV2FybjogdHlwZW9mIGNvbnNvbGUud2FybiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIG9yaWdpbmFsQ29uc29sZUVycm9yOiB0eXBlb2YgY29uc29sZS5lcnJvciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuOyAvLyBTa2lwIGluIFNTUlxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFNldCB1cCBpbnRlcmNlcHRvcnMgSU1NRURJQVRFTFkgdXNpbmcgcHJvcGVydHkgZGVzY3JpcHRvcnMgdG8gaW50ZXJjZXB0IGV2ZW4gY2FjaGVkIHJlZmVyZW5jZXNcbiAgICAgIHRoaXMuc2V0dXBDb25zb2xlSW50ZXJjZXB0b3JzKCk7XG4gICAgICB0aGlzLnNldHVwR2xvYmFsRXJyb3JIYW5kbGVyKCk7XG4gICAgICB0aGlzLnNldHVwVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlcigpO1xuXG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIltFcnJvclJlcG9ydGVyXSBGYWlsZWQgdG8gaW5pdGlhbGl6ZTpcIiwgZXJyKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNldHVwR2xvYmFsRXJyb3JIYW5kbGVyKCkge1xuICAgIGNvbnN0IG9yaWdpbmFsSGFuZGxlciA9IHdpbmRvdy5vbmVycm9yO1xuICAgIHdpbmRvdy5vbmVycm9yID0gKG1lc3NhZ2UsIHNvdXJjZSwgbGluZW5vLCBjb2xubywgZXJyb3IpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgIHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiO1xuXG4gICAgICBjb25zdCBjb250ZXh0OiBFcnJvckNvbnRleHQgPSB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgc3RhY2s6IGVycm9yPy5zdGFjayxcbiAgICAgICAgc291cmNlOiBzb3VyY2UgfHwgdW5kZWZpbmVkLFxuICAgICAgICBsZXZlbDogXCJlcnJvclwiLFxuICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgZmlsdGVyUmVzdWx0ID0gdGhpcy5maWx0ZXJFcnJvcihjb250ZXh0KTtcbiAgICAgIGlmICghZmlsdGVyUmVzdWx0LnNob3VsZFJlcG9ydCkge1xuICAgICAgICAvLyBTdGlsbCBjYWxsIG9yaWdpbmFsIGhhbmRsZXIgZXZlbiBpZiB3ZSBkb24ndCByZXBvcnRcbiAgICAgICAgaWYgKG9yaWdpbmFsSGFuZGxlcikge1xuICAgICAgICAgIHJldHVybiBvcmlnaW5hbEhhbmRsZXIobWVzc2FnZSwgc291cmNlLCBsaW5lbm8sIGNvbG5vLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLmNyZWF0ZUVycm9yUGF5bG9hZCh7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgc3RhY2s6IGVycm9yPy5zdGFjayxcbiAgICAgICAgcGFyc2VkU3RhY2s6IHRoaXMucGFyc2VTdGFja1RyYWNlKGVycm9yPy5zdGFjayksXG4gICAgICAgIHNvdXJjZTogc291cmNlIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgbGluZW5vOiBsaW5lbm8gfHwgdW5kZWZpbmVkLFxuICAgICAgICBjb2xubzogY29sbm8gfHwgdW5kZWZpbmVkLFxuICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5yZXBvcnQocGF5bG9hZCk7XG5cbiAgICAgIC8vIENhbGwgb3JpZ2luYWwgaGFuZGxlciBpZiBpdCBleGlzdHNcbiAgICAgIGlmIChvcmlnaW5hbEhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsSGFuZGxlcihtZXNzYWdlLCBzb3VyY2UsIGxpbmVubywgY29sbm8sIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlOyAvLyBQcmV2ZW50IGRlZmF1bHQgYnJvd3NlciBlcnJvciBoYW5kbGluZ1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHNldHVwVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlcigpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInVuaGFuZGxlZHJlamVjdGlvblwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gZXZlbnQucmVhc29uO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3I/Lm1lc3NhZ2UgfHwgXCJVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb25cIjtcblxuICAgICAgY29uc3QgY29udGV4dDogRXJyb3JDb250ZXh0ID0ge1xuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBlcnJvcj8uc3RhY2ssXG4gICAgICAgIGxldmVsOiBcImVycm9yXCIsXG4gICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBmaWx0ZXJSZXN1bHQgPSB0aGlzLmZpbHRlckVycm9yKGNvbnRleHQpO1xuICAgICAgaWYgKCFmaWx0ZXJSZXN1bHQuc2hvdWxkUmVwb3J0KSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLmNyZWF0ZUVycm9yUGF5bG9hZCh7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgc3RhY2s6IGVycm9yPy5zdGFjayxcbiAgICAgICAgcGFyc2VkU3RhY2s6IHRoaXMucGFyc2VTdGFja1RyYWNlKGVycm9yPy5zdGFjayksXG4gICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnJlcG9ydChwYXlsb2FkKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQ29uc29sZUludGVyY2VwdG9yKFxuICAgIG1ldGhvZDogQ29uc29sZU1ldGhvZCxcbiAgICBvcmlnaW5hbDogQ29uc29sZU5hdGl2ZSxcbiAgICBwcmVmaXg6IHN0cmluZ1xuICApIHtcbiAgICByZXR1cm4gKC4uLmFyZ3M6IENvbnNvbGVBcmdzKSA9PiB7XG4gICAgICAvLyBDYWxsIG9yaWdpbmFsIGZpcnN0XG4gICAgICBvcmlnaW5hbC5hcHBseShjb25zb2xlLCBhcmdzKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGZvcm1hdENvbnNvbGVBcmdzKGFyZ3MpO1xuICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICAgICAgICBjb25zdCBsZXZlbCA9XG4gICAgICAgICAgbWV0aG9kID09PSBcIndhcm5cIiAmJiBtZXNzYWdlLmluY2x1ZGVzKFJFQUNUX1dBUk5JTkdfUEFUVEVSTilcbiAgICAgICAgICAgID8gXCJ3YXJuaW5nXCJcbiAgICAgICAgICAgIDogXCJlcnJvclwiO1xuXG4gICAgICAgIGNvbnN0IGNvbnRleHQ6IEVycm9yQ29udGV4dCA9IHtcbiAgICAgICAgICBtZXNzYWdlOiBgJHtwcmVmaXh9ICR7bWVzc2FnZX1gLFxuICAgICAgICAgIHN0YWNrLFxuICAgICAgICAgIGxldmVsLFxuICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgZmlsdGVyUmVzdWx0ID0gdGhpcy5maWx0ZXJFcnJvcihjb250ZXh0KTtcbiAgICAgICAgaWYgKCFmaWx0ZXJSZXN1bHQuc2hvdWxkUmVwb3J0KSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHRoaXMuY3JlYXRlRXJyb3JQYXlsb2FkKHtcbiAgICAgICAgICBtZXNzYWdlOiBjb250ZXh0Lm1lc3NhZ2UsXG4gICAgICAgICAgc3RhY2ssXG4gICAgICAgICAgcGFyc2VkU3RhY2s6IHRoaXMucGFyc2VTdGFja1RyYWNlKHN0YWNrKSxcbiAgICAgICAgICBsZXZlbCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZXBvcnQocGF5bG9hZCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gRmFpbCBzaWxlbnRseVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHNldHVwQ29uc29sZUludGVyY2VwdG9ycygpIHtcbiAgICB0aGlzLm9yaWdpbmFsQ29uc29sZVdhcm4gPSBjb25zb2xlLndhcm47XG4gICAgdGhpcy5vcmlnaW5hbENvbnNvbGVFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG5cbiAgICBjb25zdCBjdXJyZW50V2FybiA9IGNvbnNvbGUud2FybiBhcyBXcmFwcGVkQ29uc29sZUZuO1xuICAgIGNvbnN0IGN1cnJlbnRFcnJvciA9IGNvbnNvbGUuZXJyb3IgYXMgV3JhcHBlZENvbnNvbGVGbjtcbiAgICAvLyBJZiBhbHJlYWR5IHdyYXBwZWQgYnkgaW1tZWRpYXRlIGludGVyY2VwdG9ycywgZG8gbm90IHdyYXAgYWdhaW5cbiAgICBpZiAoXG4gICAgICBjdXJyZW50V2Fybi5fX2Vycm9yUmVwb3J0ZXJXcmFwcGVkICYmXG4gICAgICBjdXJyZW50RXJyb3IuX19lcnJvclJlcG9ydGVyV3JhcHBlZFxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUuZXJyb3IgPSB0aGlzLmNyZWF0ZUNvbnNvbGVJbnRlcmNlcHRvcihcbiAgICAgIFwiZXJyb3JcIixcbiAgICAgIHRoaXMub3JpZ2luYWxDb25zb2xlRXJyb3IhLFxuICAgICAgQ09OU09MRV9FUlJPUl9QUkVGSVhcbiAgICApO1xuICAgIGNvbnNvbGUud2FybiA9IHRoaXMuY3JlYXRlQ29uc29sZUludGVyY2VwdG9yKFxuICAgICAgXCJ3YXJuXCIsXG4gICAgICB0aGlzLm9yaWdpbmFsQ29uc29sZVdhcm4hLFxuICAgICAgV0FSTklOR19QUkVGSVhcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVCYXNlRXJyb3JEYXRhKCk6IEJhc2VFcnJvckRhdGEge1xuICAgIHJldHVybiB7XG4gICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlRXJyb3JQYXlsb2FkKFxuICAgIGRhdGE6IFBhcnRpYWw8RXJyb3JSZXBvcnQ+ICYgeyBtZXNzYWdlOiBzdHJpbmcgfVxuICApOiBFcnJvclJlcG9ydCB7XG4gICAgY29uc3QgYmFzZURhdGEgPSB0aGlzLmNyZWF0ZUJhc2VFcnJvckRhdGEoKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uYmFzZURhdGEsXG4gICAgICBsZXZlbDogKGRhdGEubGV2ZWwgPz8gXCJlcnJvclwiKSBhcyBcImVycm9yXCIgfCBcIndhcm5pbmdcIiB8IFwiaW5mb1wiLFxuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3JpemUoZGF0YS5tZXNzYWdlKSxcbiAgICAgIC4uLmRhdGEsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZmlsdGVyRXJyb3IoY29udGV4dDogRXJyb3JDb250ZXh0KTogRXJyb3JGaWx0ZXJSZXN1bHQge1xuICAgIGNvbnN0IHsgbWVzc2FnZSwgc3RhY2ssIGxldmVsLCBzb3VyY2UgfSA9IGNvbnRleHQ7XG5cbiAgICAvLyBTa2lwIG91ciBvd24gZGVidWcgbWVzc2FnZXNcbiAgICBpZiAobWVzc2FnZS5pbmNsdWRlcyhcIltFcnJvclJlcG9ydGVyXVwiKSkge1xuICAgICAgcmV0dXJuIHsgc2hvdWxkUmVwb3J0OiBmYWxzZSwgcmVhc29uOiBcImludGVybmFsX2RlYnVnXCIgfTtcbiAgICB9XG5cbiAgICAvLyBTa2lwIFJlYWN0IFJvdXRlciBmdXR1cmUgZmxhZyB3YXJuaW5nc1xuICAgIGlmIChpc1JlYWN0Um91dGVyRnV0dXJlRmxhZ01lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgIHJldHVybiB7IHNob3VsZFJlcG9ydDogZmFsc2UsIHJlYXNvbjogXCJyZWFjdF9yb3V0ZXJfZnV0dXJlX2ZsYWdcIiB9O1xuICAgIH1cblxuICAgIC8vIFNraXAgZGVwcmVjYXRlZCBSZWFjdCBsaWZlY3ljbGUgd2FybmluZ3NcbiAgICBpZiAobGV2ZWwgPT09IFwid2FybmluZ1wiICYmIGlzRGVwcmVjYXRlZFJlYWN0V2FybmluZ01lc3NhZ2UobWVzc2FnZSkpIHtcbiAgICAgIHJldHVybiB7IHNob3VsZFJlcG9ydDogZmFsc2UsIHJlYXNvbjogXCJkZXByZWNhdGVkX3JlYWN0X3dhcm5pbmdcIiB9O1xuICAgIH1cblxuICAgIC8vIEZvciB1bmNhdWdodCBlcnJvcnMsIHJlcXVpcmUgcmVsZXZhbnQgc291cmNlIGNvZGUgaW4gc3RhY2sgdHJhY2VcbiAgICBpZiAoXG4gICAgICBsZXZlbCA9PT0gXCJlcnJvclwiICYmXG4gICAgICBtZXNzYWdlLmluY2x1ZGVzKFwiVW5jYXVnaHQgRXJyb3JcIikgJiZcbiAgICAgICFoYXNSZWxldmFudFNvdXJjZUluU3RhY2soc3RhY2spXG4gICAgKSB7XG4gICAgICByZXR1cm4geyBzaG91bGRSZXBvcnQ6IGZhbHNlLCByZWFzb246IFwibm9fcmVsZXZhbnRfc291cmNlXCIgfTtcbiAgICB9XG5cbiAgICAvLyBGb3IgZ2VuZXJhbCBlcnJvcnMgZnJvbSB2ZW5kb3IgY29kZSBvbmx5LCBza2lwIGlmIG5vIHNvdXJjZSBjb2RlIGludm9sdmVtZW50XG4gICAgaWYgKFxuICAgICAgbGV2ZWwgPT09IFwiZXJyb3JcIiAmJlxuICAgICAgc291cmNlICYmXG4gICAgICBWRU5ET1JfUEFUVEVSTlMuc29tZSgocGF0dGVybikgPT4gcGF0dGVybi50ZXN0KHNvdXJjZSkpICYmXG4gICAgICAhaGFzUmVsZXZhbnRTb3VyY2VJblN0YWNrKHN0YWNrKVxuICAgICkge1xuICAgICAgcmV0dXJuIHsgc2hvdWxkUmVwb3J0OiBmYWxzZSwgcmVhc29uOiBcInZlbmRvcl9vbmx5X2Vycm9yXCIgfTtcbiAgICB9XG5cbiAgICAvLyBVc2UgZ2xvYmFsIGRlZHVwbGljYXRpb24gdG8gaGFuZGxlIHByZWNlZGVuY2UgYW5kIGF2b2lkIGR1cGxpY2F0ZXNcbiAgICBjb25zdCBkZWR1cGxpY2F0aW9uUmVzdWx0ID0gZ2xvYmFsRGVkdXBsaWNhdGlvbi5zaG91bGRSZXBvcnQoXG4gICAgICBjb250ZXh0LFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIGlmICghZGVkdXBsaWNhdGlvblJlc3VsdC5zaG91bGRSZXBvcnQpXG4gICAgICByZXR1cm4geyBzaG91bGRSZXBvcnQ6IGZhbHNlLCByZWFzb246IGRlZHVwbGljYXRpb25SZXN1bHQucmVhc29uIH07XG5cbiAgICByZXR1cm4geyBzaG91bGRSZXBvcnQ6IHRydWUgfTtcbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VTdGFja1RyYWNlKHN0YWNrPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoIXN0YWNrKSByZXR1cm4gXCJcIjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBsaW5lcyA9IHN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgY29uc3QgcGFyc2VkTGluZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgICAgICAvLyBTa2lwIGdlbmVyaWMgZXJyb3IgbGluZXNcbiAgICAgICAgaWYgKGxpbmUuaW5jbHVkZXMoXCJFcnJvclwiKSAmJiAhbGluZS5pbmNsdWRlcyhcImF0IFwiKSkgY29udGludWU7XG5cbiAgICAgICAgbGV0IHBhcnNlZExpbmUgPSBsaW5lLnRyaW0oKTtcblxuICAgICAgICAvLyBMb29rIGZvciBSZWFjdCBjb21wb25lbnQgcGF0dGVybnMgaW4gc291cmNlIGZpbGVzXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudE1hdGNoID0gbGluZS5tYXRjaChcbiAgICAgICAgICAvYXQgKFxcdyspIFxcKC4qP1xcL3NyY1xcLyguKj8pOihcXGQrKTooXFxkKylcXCkvXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjb21wb25lbnRNYXRjaCkge1xuICAgICAgICAgIGNvbnN0IFssIGNvbXBvbmVudE5hbWUsIGZpbGVQYXRoLCBsaW5lTnVtLCBjb2xOdW1dID0gY29tcG9uZW50TWF0Y2g7XG4gICAgICAgICAgcGFyc2VkTGluZSA9IGAgICAgYXQgJHtjb21wb25lbnROYW1lfSAoJHtmaWxlUGF0aH06JHtsaW5lTnVtfToke2NvbE51bX0pYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBMb29rIGZvciBhbnkgcGF0dGVybnMgaW4gc3JjIGRpcmVjdG9yeVxuICAgICAgICAgIGNvbnN0IHNyY01hdGNoID0gbGluZS5tYXRjaCgvYXQuKj9cXC9zcmNcXC8oLio/KTooXFxkKyk6KFxcZCspLyk7XG4gICAgICAgICAgaWYgKHNyY01hdGNoKSB7XG4gICAgICAgICAgICBjb25zdCBbLCBmaWxlUGF0aCwgbGluZU51bSwgY29sTnVtXSA9IHNyY01hdGNoO1xuICAgICAgICAgICAgcGFyc2VkTGluZSA9IGAgICAgYXQgJHtmaWxlUGF0aH06JHtsaW5lTnVtfToke2NvbE51bX1gO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBMb29rIGZvciBmdW5jdGlvbiBuYW1lcyBhdCB0aGUgc3RhcnQgb2YgbGluZXNcbiAgICAgICAgICAgIGNvbnN0IGZ1bmN0aW9uTWF0Y2ggPSBsaW5lLm1hdGNoKC9hdFxccysoXFx3KylcXHMrXFwoLyk7XG4gICAgICAgICAgICBpZiAoZnVuY3Rpb25NYXRjaCkge1xuICAgICAgICAgICAgICBwYXJzZWRMaW5lID0gbGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2VkTGluZSkge1xuICAgICAgICAgIHBhcnNlZExpbmVzLnB1c2gocGFyc2VkTGluZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnNlZExpbmVzLmpvaW4oXCJcXG5cIik7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gc3RhY2s7IC8vIFJldHVybiBvcmlnaW5hbCBpZiBwYXJzaW5nIGZhaWxzXG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlcG9ydChlcnJvcjogRXJyb3JSZXBvcnQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCB8fCB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZXJyb3JRdWV1ZS5wdXNoKGVycm9yKTtcblxuICAgICAgLy8gTGltaXQgcXVldWUgc2l6ZVxuICAgICAgaWYgKHRoaXMuZXJyb3JRdWV1ZS5sZW5ndGggPiB0aGlzLm1heFF1ZXVlU2l6ZSkge1xuICAgICAgICB0aGlzLmVycm9yUXVldWUuc2hpZnQoKTsgLy8gUmVtb3ZlIG9sZGVzdCBlcnJvclxuICAgICAgfVxuXG4gICAgICAvLyBQcm9jZXNzIHF1ZXVlXG4gICAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gU3dhbGxvdyByZXBvcnRpbmcgZXJyb3JzIGluIGNsaWVudFxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1F1ZXVlKCkge1xuICAgIGlmICh0aGlzLmlzUmVwb3J0aW5nIHx8IHRoaXMuZXJyb3JRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzUmVwb3J0aW5nID0gdHJ1ZTtcbiAgICBjb25zdCBlcnJvcnNUb1JlcG9ydCA9IFsuLi50aGlzLmVycm9yUXVldWVdO1xuICAgIHRoaXMuZXJyb3JRdWV1ZSA9IFtdO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAoY29uc3QgZXJyb3Igb2YgZXJyb3JzVG9SZXBvcnQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZW5kRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8gSWYgcmVwb3J0aW5nIGZhaWxzLCBhZGQgZXJyb3JzIGJhY2sgdG8gcXVldWVcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbRXJyb3JSZXBvcnRlcl0gRmFpbGVkIHRvIHJlcG9ydCBlcnJvcnM6XCIsIGVycik7XG4gICAgICB0aGlzLmVycm9yUXVldWUudW5zaGlmdCguLi5lcnJvcnNUb1JlcG9ydCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuaXNSZXBvcnRpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHNlbmRFcnJvcihlcnJvcjogRXJyb3JSZXBvcnQpIHtcbiAgICB0cnkge1xuICAgICAgLyogXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMucmVwb3J0aW5nRW5kcG9pbnQsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShlcnJvciksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEZhaWxlZCB0byByZXBvcnQgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSAoYXdhaXQgcmVzcG9uc2UuanNvbigpKSBhcyB7XG4gICAgICAgIHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgICAgIGVycm9yPzogc3RyaW5nO1xuICAgICAgfTtcblxuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LmVycm9yIHx8IFwiVW5rbm93biBlcnJvciBvY2N1cnJlZFwiKTtcbiAgICAgIH1cbiAgICAgICovXG5cbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIltFcnJvclJlcG9ydGVyXSBFcnJvciBzdXBwcmVzc2VkIChubyBzZXJ2ZXItc2lkZSBlbmRwb2ludCk6XCIsXG4gICAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW0Vycm9yUmVwb3J0ZXJdIEZhaWxlZCB0byBzZW5kIGVycm9yOlwiLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8vIENsZWFudXAgbWV0aG9kIGZvciBwcm9wZXIgZGlzcG9zYWxcbiAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMub3JpZ2luYWxDb25zb2xlV2Fybikge1xuICAgICAgY29uc29sZS53YXJuID0gdGhpcy5vcmlnaW5hbENvbnNvbGVXYXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcmlnaW5hbENvbnNvbGVFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvciA9IHRoaXMub3JpZ2luYWxDb25zb2xlRXJyb3I7XG4gICAgfVxuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICB9XG59XG5cbi8vIEVhcmx5IGNvbnNvbGUgaW50ZXJjZXB0b3IgdXRpbGl0eSBmdW5jdGlvbnNcbmNvbnN0IGZvcm1hdENvbnNvbGVBcmdzID0gKGFyZ3M6IHVua25vd25bXSk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBhcmdzXG4gICAgLm1hcCgoYXJnKSA9PlxuICAgICAgdHlwZW9mIGFyZyA9PT0gXCJzdHJpbmdcIlxuICAgICAgICA/IGFyZ1xuICAgICAgICA6IHR5cGVvZiBhcmcgPT09IFwib2JqZWN0XCIgJiYgYXJnXG4gICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShhcmcsIG51bGwsIDIpXG4gICAgICAgICAgOiBTdHJpbmcoYXJnKVxuICAgIClcbiAgICAuam9pbihcIiBcIik7XG59O1xuXG50eXBlIEltbWVkaWF0ZVBheWxvYWQgPSBQaWNrPFxuICBFcnJvclJlcG9ydCxcbiAgXCJtZXNzYWdlXCIgfCBcInN0YWNrXCIgfCBcInVybFwiIHwgXCJ0aW1lc3RhbXBcIiB8IFwibGV2ZWxcIiB8IFwiY2F0ZWdvcnlcIlxuPjtcblxuY29uc3QgY3JlYXRlSW1tZWRpYXRlRXJyb3JQYXlsb2FkID0gKFxuICBtZXNzYWdlOiBzdHJpbmcsXG4gIGxldmVsOiBcIndhcm5pbmdcIiB8IFwiZXJyb3JcIlxuKTogSW1tZWRpYXRlUGF5bG9hZCA9PiAoe1xuICBtZXNzYWdlLFxuICBzdGFjazogbmV3IEVycm9yKCkuc3RhY2ssXG4gIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICBsZXZlbCxcbiAgY2F0ZWdvcnk6IGNhdGVnb3JpemUobWVzc2FnZSksXG59KTtcblxuLy8gU2hhcmVkIGZpbHRlcmluZyBsb2dpYyBmb3IgaW1tZWRpYXRlIGludGVyY2VwdG9yc1xuY29uc3Qgc2hvdWxkUmVwb3J0SW1tZWRpYXRlID0gKGNvbnRleHQ6IEVycm9yQ29udGV4dCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCB7IG1lc3NhZ2UsIHN0YWNrLCBsZXZlbCB9ID0gY29udGV4dDtcblxuICAvLyBTa2lwIGludGVybmFsIGRlYnVnIG1lc3NhZ2VzXG4gIGlmIChtZXNzYWdlLmluY2x1ZGVzKFwiW0Vycm9yUmVwb3J0ZXJdXCIpKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gU2tpcCBSZWFjdCBSb3V0ZXIgZnV0dXJlIGZsYWcgd2FybmluZ3NcbiAgY29uc3QgZnV0dXJlUGF0dGVybnMgPSBbXG4gICAgL1JlYWN0IFJvdXRlciBGdXR1cmUgRmxhZyBXYXJuaW5nL2ksXG4gICAgL2Z1dHVyZSBmbGFnIHRvIG9wdC1pbiBlYXJseS9pLFxuICAgIC9yZWFjdHJvdXRlclxcLmNvbS4qdXBncmFkaW5nLipmdXR1cmUvaSxcbiAgICAvdjdfXFx3Ky4qZnV0dXJlIGZsYWcvaSxcbiAgXTtcbiAgaWYgKGZ1dHVyZVBhdHRlcm5zLnNvbWUoKHBhdHRlcm4pID0+IHBhdHRlcm4udGVzdChtZXNzYWdlKSkpIHJldHVybiBmYWxzZTtcblxuICAvLyBTa2lwIGRlcHJlY2F0ZWQgUmVhY3QgbGlmZWN5Y2xlIHdhcm5pbmdzXG4gIGNvbnN0IGRlcHJlY2F0ZWRQYXR0ZXJucyA9IFtcbiAgICAvY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy8sXG4gICAgL2NvbXBvbmVudFdpbGxNb3VudC8sXG4gICAgL2NvbXBvbmVudFdpbGxVcGRhdGUvLFxuICAgIC9VTlNBRkVfY29tcG9uZW50V2lsbC8sXG4gIF07XG4gIGlmIChcbiAgICBsZXZlbCA9PT0gXCJ3YXJuaW5nXCIgJiZcbiAgICBkZXByZWNhdGVkUGF0dGVybnMuc29tZSgocGF0dGVybikgPT4gcGF0dGVybi50ZXN0KG1lc3NhZ2UpKVxuICApXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIEZvciBlcnJvcnMgd2l0aG91dCBwcm9wZXIgc291cmNlIGNvZGUsIHNraXAgdGhlbVxuICBjb25zdCBoYXNTb3VyY2VDb2RlID0gc3RhY2tcbiAgICA/IHN0YWNrXG4gICAgICAuc3BsaXQoXCJcXG5cIilcbiAgICAgIC5zb21lKFxuICAgICAgICAobGluZSkgPT5cbiAgICAgICAgICAvXFwudHN4PyQvLnRlc3QobGluZSkgfHwgL1xcLmpzeD8kLy50ZXN0KGxpbmUpIHx8IC9cXC9zcmNcXC8vLnRlc3QobGluZSlcbiAgICAgIClcbiAgICA6IGZhbHNlO1xuXG4gIC8vIFNraXAgdW5jYXVnaHQgZXJyb3JzIHdpdGhvdXQgc291cmNlIGNvZGVcbiAgaWYgKGxldmVsID09PSBcImVycm9yXCIgJiYgbWVzc2FnZS5pbmNsdWRlcyhcIlVuY2F1Z2h0IEVycm9yXCIpICYmICFoYXNTb3VyY2VDb2RlKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBTa2lwIE1heGltdW0gdXBkYXRlIGRlcHRoIGVycm9ycyB3aXRob3V0IHNvdXJjZSBjb2RlXG4gIGlmIChtZXNzYWdlLmluY2x1ZGVzKFwiTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWRcIikgJiYgIWhhc1NvdXJjZUNvZGUpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIFVzZSBnbG9iYWwgZGVkdXBsaWNhdGlvbiB3aXRoIGltbWVkaWF0ZSBmbGFnXG4gIGNvbnN0IGRlZHVwbGljYXRpb25SZXN1bHQgPSBnbG9iYWxEZWR1cGxpY2F0aW9uLnNob3VsZFJlcG9ydChjb250ZXh0LCB0cnVlKTtcbiAgcmV0dXJuIGRlZHVwbGljYXRpb25SZXN1bHQuc2hvdWxkUmVwb3J0O1xufTtcblxuY29uc3Qgc2VuZEltbWVkaWF0ZUVycm9yID0gYXN5bmMgKHBheWxvYWQ6IEltbWVkaWF0ZVBheWxvYWQpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgdHJ5IHtcbiAgICAvKlxuICAgIGF3YWl0IGZldGNoKFwiL2FwaS9jbGllbnQtZXJyb3JzXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICB9KTtcbiAgICAqL1xuICB9IGNhdGNoIHtcbiAgICAvLyBGYWlsIHNpbGVudGx5XG4gIH1cbn07XG5cbi8vIEludGVyY2VwdCBjb25zb2xlIG1ldGhvZHMgSU1NRURJQVRFTFkgYmVmb3JlIFJlYWN0IGNhbiBjYWNoZSB0aGVtXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICBjb25zdCBvcmlnaW5hbFdhcm4gPSBjb25zb2xlLndhcm47XG4gIGNvbnN0IG9yaWdpbmFsRXJyb3IgPSBjb25zb2xlLmVycm9yO1xuXG4gIC8vIENyZWF0ZSBzaGFyZWQgaW50ZXJjZXB0b3IgbG9naWMgZm9sbG93aW5nIERSWSBwcmluY2lwbGVzXG4gIGNvbnN0IGNyZWF0ZUltbWVkaWF0ZUludGVyY2VwdG9yID0gKFxuICAgIG9yaWdpbmFsOiBDb25zb2xlTmF0aXZlLFxuICAgIHByZWZpeDogc3RyaW5nLFxuICAgIGRlZmF1bHRMZXZlbDogXCJ3YXJuaW5nXCIgfCBcImVycm9yXCJcbiAgKSA9PlxuICAgIGZ1bmN0aW9uICguLi5hcmdzOiB1bmtub3duW10pIHtcbiAgICAgIG9yaWdpbmFsLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZm9ybWF0Q29uc29sZUFyZ3MoYXJncyk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgICAgIGNvbnN0IGxldmVsID0gbWVzc2FnZS5pbmNsdWRlcyhcIldhcm5pbmc6XCIpID8gXCJ3YXJuaW5nXCIgOiBkZWZhdWx0TGV2ZWw7XG5cbiAgICAgICAgY29uc3QgY29udGV4dDogRXJyb3JDb250ZXh0ID0ge1xuICAgICAgICAgIG1lc3NhZ2U6IGAke3ByZWZpeH0gJHttZXNzYWdlfWAsXG4gICAgICAgICAgc3RhY2ssXG4gICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc2hvdWxkUmVwb3J0SW1tZWRpYXRlKGNvbnRleHQpKSB7XG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGNyZWF0ZUltbWVkaWF0ZUVycm9yUGF5bG9hZChjb250ZXh0Lm1lc3NhZ2UsIGxldmVsKTtcbiAgICAgICAgICBzZW5kSW1tZWRpYXRlRXJyb3IocGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBGYWlsIHNpbGVudGx5XG4gICAgICB9XG4gICAgfTtcblxuICBjb25zb2xlLndhcm4gPSBjcmVhdGVJbW1lZGlhdGVJbnRlcmNlcHRvcihcbiAgICBvcmlnaW5hbFdhcm4sXG4gICAgXCJbV0FSTklOR11cIixcbiAgICBcIndhcm5pbmdcIlxuICApIGFzIFdyYXBwZWRDb25zb2xlRm47XG4gIChjb25zb2xlLndhcm4gYXMgV3JhcHBlZENvbnNvbGVGbikuX19lcnJvclJlcG9ydGVyV3JhcHBlZCA9IHRydWU7XG4gIGNvbnNvbGUuZXJyb3IgPSBjcmVhdGVJbW1lZGlhdGVJbnRlcmNlcHRvcihcbiAgICBvcmlnaW5hbEVycm9yLFxuICAgIFwiW0NPTlNPTEUgRVJST1JdXCIsXG4gICAgXCJlcnJvclwiXG4gICkgYXMgV3JhcHBlZENvbnNvbGVGbjtcbiAgKGNvbnNvbGUuZXJyb3IgYXMgV3JhcHBlZENvbnNvbGVGbikuX19lcnJvclJlcG9ydGVyV3JhcHBlZCA9IHRydWU7XG59XG5cbi8vIENyZWF0ZSBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBlcnJvclJlcG9ydGVyID0gbmV3IEVycm9yUmVwb3J0ZXIoKTtcblxuLy8gQ2xlYW51cCBvbiBwYWdlIHVubG9hZFxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4ge1xuICAgIGVycm9yUmVwb3J0ZXIuZGlzcG9zZSgpO1xuICB9KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMjIgSm9lIEJlbGwuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBmaWxlIGlzIGxpY2Vuc2VkIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wXG4gKiAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZVxuICogTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgUkVQUkVTRU5UQVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlclxuICogdGhlIExpY2Vuc2UuXG4gKi8gaW1wb3J0IHsgY2xzeCB9IGZyb20gXCJjbHN4XCI7XG5jb25zdCBmYWxzeVRvU3RyaW5nID0gKHZhbHVlKT0+dHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIiA/IGAke3ZhbHVlfWAgOiB2YWx1ZSA9PT0gMCA/IFwiMFwiIDogdmFsdWU7XG5leHBvcnQgY29uc3QgY3ggPSBjbHN4O1xuZXhwb3J0IGNvbnN0IGN2YSA9IChiYXNlLCBjb25maWcpPT4ocHJvcHMpPT57XG4gICAgICAgIHZhciBfY29uZmlnX2NvbXBvdW5kVmFyaWFudHM7XG4gICAgICAgIGlmICgoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLnZhcmlhbnRzKSA9PSBudWxsKSByZXR1cm4gY3goYmFzZSwgcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLmNsYXNzLCBwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHMuY2xhc3NOYW1lKTtcbiAgICAgICAgY29uc3QgeyB2YXJpYW50cywgZGVmYXVsdFZhcmlhbnRzIH0gPSBjb25maWc7XG4gICAgICAgIGNvbnN0IGdldFZhcmlhbnRDbGFzc05hbWVzID0gT2JqZWN0LmtleXModmFyaWFudHMpLm1hcCgodmFyaWFudCk9PntcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhbnRQcm9wID0gcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzW3ZhcmlhbnRdO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFZhcmlhbnRQcm9wID0gZGVmYXVsdFZhcmlhbnRzID09PSBudWxsIHx8IGRlZmF1bHRWYXJpYW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVmYXVsdFZhcmlhbnRzW3ZhcmlhbnRdO1xuICAgICAgICAgICAgaWYgKHZhcmlhbnRQcm9wID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhbnRLZXkgPSBmYWxzeVRvU3RyaW5nKHZhcmlhbnRQcm9wKSB8fCBmYWxzeVRvU3RyaW5nKGRlZmF1bHRWYXJpYW50UHJvcCk7XG4gICAgICAgICAgICByZXR1cm4gdmFyaWFudHNbdmFyaWFudF1bdmFyaWFudEtleV07XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwcm9wc1dpdGhvdXRVbmRlZmluZWQgPSBwcm9wcyAmJiBPYmplY3QuZW50cmllcyhwcm9wcykucmVkdWNlKChhY2MsIHBhcmFtKT0+e1xuICAgICAgICAgICAgbGV0IFtrZXksIHZhbHVlXSA9IHBhcmFtO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgY29uc3QgZ2V0Q29tcG91bmRWYXJpYW50Q2xhc3NOYW1lcyA9IGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY29uZmlnX2NvbXBvdW5kVmFyaWFudHMgPSBjb25maWcuY29tcG91bmRWYXJpYW50cykgPT09IG51bGwgfHwgX2NvbmZpZ19jb21wb3VuZFZhcmlhbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY29uZmlnX2NvbXBvdW5kVmFyaWFudHMucmVkdWNlKChhY2MsIHBhcmFtKT0+e1xuICAgICAgICAgICAgbGV0IHsgY2xhc3M6IGN2Q2xhc3MsIGNsYXNzTmFtZTogY3ZDbGFzc05hbWUsIC4uLmNvbXBvdW5kVmFyaWFudE9wdGlvbnMgfSA9IHBhcmFtO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGNvbXBvdW5kVmFyaWFudE9wdGlvbnMpLmV2ZXJ5KChwYXJhbSk9PntcbiAgICAgICAgICAgICAgICBsZXQgW2tleSwgdmFsdWVdID0gcGFyYW07XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUuaW5jbHVkZXMoe1xuICAgICAgICAgICAgICAgICAgICAuLi5kZWZhdWx0VmFyaWFudHMsXG4gICAgICAgICAgICAgICAgICAgIC4uLnByb3BzV2l0aG91dFVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH1ba2V5XSkgOiAoe1xuICAgICAgICAgICAgICAgICAgICAuLi5kZWZhdWx0VmFyaWFudHMsXG4gICAgICAgICAgICAgICAgICAgIC4uLnByb3BzV2l0aG91dFVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH0pW2tleV0gPT09IHZhbHVlO1xuICAgICAgICAgICAgfSkgPyBbXG4gICAgICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgICAgIGN2Q2xhc3MsXG4gICAgICAgICAgICAgICAgY3ZDbGFzc05hbWVcbiAgICAgICAgICAgIF0gOiBhY2M7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgcmV0dXJuIGN4KGJhc2UsIGdldFZhcmlhbnRDbGFzc05hbWVzLCBnZXRDb21wb3VuZFZhcmlhbnRDbGFzc05hbWVzLCBwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHMuY2xhc3MsIHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5jbGFzc05hbWUpO1xuICAgIH07XG5cbiIsImltcG9ydCB7IGNsc3gsIHR5cGUgQ2xhc3NWYWx1ZSB9IGZyb20gXCJjbHN4XCJcbmltcG9ydCB7IHR3TWVyZ2UgfSBmcm9tIFwidGFpbHdpbmQtbWVyZ2VcIlxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSlcbn1cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb0hzbChoZXg6IHN0cmluZywgbGlnaHRuZXNzOiBudW1iZXIgPSA5NSk6IHN0cmluZyB7XG4gIC8vIFJlbW92ZSB0aGUgaGFzaCBhdCB0aGUgc3RhcnQgaWYgaXQncyB0aGVyZVxuICBoZXggPSBoZXgucmVwbGFjZSgvXiMvLCAnJyk7XG4gIC8vIFBhcnNlIHRoZSByLCBnLCBiIHZhbHVlc1xuICBsZXQgciA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMCwgMiksIDE2KTtcbiAgbGV0IGcgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDIsIDQpLCAxNik7XG4gIGxldCBiID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZyg0LCA2KSwgMTYpO1xuICAvLyBDb252ZXJ0IHIsIGcsIGIgdG8gcmFuZ2UgMC0xXG4gIHIgLz0gMjU1O1xuICBnIC89IDI1NTtcbiAgYiAvPSAyNTU7XG4gIGNvbnN0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICBjb25zdCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgbGV0IGggPSAwLCBzID0gMCwgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgaWYgKG1heCAhPT0gbWluKSB7XG4gICAgY29uc3QgZCA9IG1heCAtIG1pbjtcbiAgICBzID0gbCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbik7XG4gICAgc3dpdGNoIChtYXgpIHtcbiAgICAgIGNhc2UgcjogaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApOyBicmVhaztcbiAgICAgIGNhc2UgZzogaCA9IChiIC0gcikgLyBkICsgMjsgYnJlYWs7XG4gICAgICBjYXNlIGI6IGggPSAociAtIGcpIC8gZCArIDQ7IGJyZWFrO1xuICAgIH1cbiAgICBoIC89IDY7XG4gIH1cbiAgaCA9IE1hdGgucm91bmQoaCAqIDM2MCk7XG4gIHMgPSBNYXRoLnJvdW5kKHMgKiAxMDApO1xuICAvLyBSZXR1cm4gSFNMIHN0cmluZyBmb3IgdGhlIGR5bmFtaWMgYmFja2dyb3VuZCB0aW50XG4gIHJldHVybiBgJHtofSAke3N9JSAke2xpZ2h0bmVzc30lYDtcbn0iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgU2xvdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiXG5pbXBvcnQgeyBjdmEsIHR5cGUgVmFyaWFudFByb3BzIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgYnV0dG9uVmFyaWFudHMgPSBjdmEoXG4gIFwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHdoaXRlc3BhY2Utbm93cmFwIHJvdW5kZWQtbWQgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Z106c2l6ZS02IFsmX3N2Z106c2hyaW5rLTBcIixcbiAge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgXCJiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIHNoYWRvdyBob3ZlcjpiZy1wcmltYXJ5LzkwXCIsXG4gICAgICAgIGRlc3RydWN0aXZlOlxuICAgICAgICAgIFwiYmctZGVzdHJ1Y3RpdmUgdGV4dC1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kIHNoYWRvdy1zbSBob3ZlcjpiZy1kZXN0cnVjdGl2ZS85MFwiLFxuICAgICAgICBvdXRsaW5lOlxuICAgICAgICAgIFwiYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIHNoYWRvdy1zbSBob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZFwiLFxuICAgICAgICBzZWNvbmRhcnk6XG4gICAgICAgICAgXCJiZy1zZWNvbmRhcnkgdGV4dC1zZWNvbmRhcnktZm9yZWdyb3VuZCBzaGFkb3ctc20gaG92ZXI6Ymctc2Vjb25kYXJ5LzgwXCIsXG4gICAgICAgIGdob3N0OiBcImhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgIGxpbms6IFwidGV4dC1wcmltYXJ5IHVuZGVybGluZS1vZmZzZXQtNCBob3Zlcjp1bmRlcmxpbmVcIixcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIGRlZmF1bHQ6IFwiaC05IHB4LTQgcHktMlwiLFxuICAgICAgICBzbTogXCJoLTggcm91bmRlZC1tZCBweC0zIHRleHQteHNcIixcbiAgICAgICAgbGc6IFwiaC0xMCByb3VuZGVkLW1kIHB4LThcIixcbiAgICAgICAgaWNvbjogXCJoLTkgdy05XCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgZGVmYXVsdFZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgICAgIHNpemU6IFwiZGVmYXVsdFwiLFxuICAgIH0sXG4gIH1cbilcblxuZXhwb3J0IGludGVyZmFjZSBCdXR0b25Qcm9wc1xuICBleHRlbmRzIFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PixcbiAgVmFyaWFudFByb3BzPHR5cGVvZiBidXR0b25WYXJpYW50cz4ge1xuICBhc0NoaWxkPzogYm9vbGVhblxufVxuXG5jb25zdCBCdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBCdXR0b25Qcm9wcz4oXG4gICh7IGNsYXNzTmFtZSwgdmFyaWFudCwgc2l6ZSwgYXNDaGlsZCA9IGZhbHNlLCAuLi5wcm9wcyB9LCByZWYpID0+IHtcbiAgICBjb25zdCBDb21wID0gYXNDaGlsZCA/IFNsb3QgOiBcImJ1dHRvblwiXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb21wXG4gICAgICAgIGNsYXNzTmFtZT17Y24oYnV0dG9uVmFyaWFudHMoeyB2YXJpYW50LCBzaXplLCBjbGFzc05hbWUgfSkpfVxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgLz5cbiAgICApXG4gIH1cbilcbkJ1dHRvbi5kaXNwbGF5TmFtZSA9IFwiQnV0dG9uXCJcblxuZXhwb3J0IHsgQnV0dG9uLCBidXR0b25WYXJpYW50cyB9XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IENhcmQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXZcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgXCJyb3VuZGVkLXhsIGJvcmRlciBiZy1jYXJkIHRleHQtY2FyZC1mb3JlZ3JvdW5kIHNoYWRvd1wiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuQ2FyZC5kaXNwbGF5TmFtZSA9IFwiQ2FyZFwiXG5cbmNvbnN0IENhcmRIZWFkZXIgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXZcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFwiZmxleCBmbGV4LWNvbCBzcGFjZS15LTEuNSBwLTZcIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuQ2FyZEhlYWRlci5kaXNwbGF5TmFtZSA9IFwiQ2FyZEhlYWRlclwiXG5cbmNvbnN0IENhcmRUaXRsZSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIEhUTUxEaXZFbGVtZW50LFxuICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPGRpdlxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXCJmb250LXNlbWlib2xkIGxlYWRpbmctbm9uZSB0cmFja2luZy10aWdodFwiLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpXG5DYXJkVGl0bGUuZGlzcGxheU5hbWUgPSBcIkNhcmRUaXRsZVwiXG5cbmNvbnN0IENhcmREZXNjcmlwdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIEhUTUxEaXZFbGVtZW50LFxuICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPGRpdlxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpXG5DYXJkRGVzY3JpcHRpb24uZGlzcGxheU5hbWUgPSBcIkNhcmREZXNjcmlwdGlvblwiXG5cbmNvbnN0IENhcmRDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTERpdkVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8ZGl2IHJlZj17cmVmfSBjbGFzc05hbWU9e2NuKFwicC02IHB0LTBcIiwgY2xhc3NOYW1lKX0gey4uLnByb3BzfSAvPlxuKSlcbkNhcmRDb250ZW50LmRpc3BsYXlOYW1lID0gXCJDYXJkQ29udGVudFwiXG5cbmNvbnN0IENhcmRGb290ZXIgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXZcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFwiZmxleCBpdGVtcy1jZW50ZXIgcC02IHB0LTBcIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuQ2FyZEZvb3Rlci5kaXNwbGF5TmFtZSA9IFwiQ2FyZEZvb3RlclwiXG5cbmV4cG9ydCB7IENhcmQsIENhcmRIZWFkZXIsIENhcmRGb290ZXIsIENhcmRUaXRsZSwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkQ29udGVudCB9XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQWxlcnRUcmlhbmdsZSwgUmVmcmVzaEN3LCBIb21lIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JGYWxsYmFja1Byb3BzIHtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIGVycm9yPzogRXJyb3IgfCBhbnk7XG4gIG9uUmV0cnk/OiAoKSA9PiB2b2lkO1xuICBvbkdvSG9tZT86ICgpID0+IHZvaWQ7XG4gIHNob3dFcnJvckRldGFpbHM/OiBib29sZWFuO1xuICBzdGF0dXNNZXNzYWdlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRXJyb3JGYWxsYmFjayh7XG4gIHRpdGxlID0gXCJPb3BzISBTb21ldGhpbmcgd2VudCB3cm9uZ1wiLFxuICBtZXNzYWdlID0gXCJXZSdyZSBhd2FyZSBvZiB0aGUgaXNzdWUgYW5kIGFjdGl2ZWx5IHdvcmtpbmcgdG8gZml4IGl0LiBZb3VyIGV4cGVyaWVuY2UgbWF0dGVycyB0byB1cy5cIixcbiAgZXJyb3IsXG4gIG9uUmV0cnksXG4gIG9uR29Ib21lLFxuICBzaG93RXJyb3JEZXRhaWxzID0gdHJ1ZSxcbiAgc3RhdHVzTWVzc2FnZSA9IFwiT3VyIHRlYW0gaGFzIGJlZW4gbm90aWZpZWRcIlxufTogRXJyb3JGYWxsYmFja1Byb3BzKSB7XG4gIGNvbnN0IGhhbmRsZVJldHJ5ID0gKCkgPT4ge1xuICAgIGlmIChvblJldHJ5KSB7XG4gICAgICBvblJldHJ5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlR29Ib21lID0gKCkgPT4ge1xuICAgIGlmIChvbkdvSG9tZSkge1xuICAgICAgb25Hb0hvbWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLyc7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmFja2dyb3VuZCBwLTRcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kXCI+XG4gICAgICAgIHsvKiBBbmltYXRlZCBiYWNrZ3JvdW5kIGdyYWRpZW50ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctZ3JhZGllbnQtcmFpbmJvdyBvcGFjaXR5LTUgZGFyazpvcGFjaXR5LTEwXCIgLz5cbiAgICAgICAgXG4gICAgICAgIHsvKiBFcnJvciBjYXJkICovfVxuICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJyZWxhdGl2ZSBiYWNrZHJvcC1ibHVyLXNtIHNoYWRvdy0yeGxcIj5cbiAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicC04IHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgey8qIEljb24gYW5kIHRpdGxlICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIHctMTYgaC0xNiByb3VuZGVkLTJ4bCBiZy1kZXN0cnVjdGl2ZS8xMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1kZXN0cnVjdGl2ZVwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+e3RpdGxlfTwvaDE+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPnttZXNzYWdlfTwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogU3RhdHVzIGluZGljYXRvciAqL31cbiAgICAgICAgICAgIHtzdGF0dXNNZXNzYWdlICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiByb3VuZGVkLWZ1bGwgYmctb3JhbmdlLTUwMCBhbmltYXRlLXB1bHNlXCIgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj57c3RhdHVzTWVzc2FnZX08L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIEFjdGlvbiBidXR0b25zICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVSZXRyeX0gY2xhc3NOYW1lPVwidy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgPFJlZnJlc2hDdyBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgIFRyeSBBZ2FpblxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVHb0hvbWV9IHZhcmlhbnQ9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICA8SG9tZSBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgIEdvIHRvIEhvbWVwYWdlXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBFcnJvciBkZXRhaWxzIChjb2xsYXBzaWJsZSkgKi99XG4gICAgICAgICAgICB7cHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgc2hvd0Vycm9yRGV0YWlscyAmJiBlcnJvciAmJiAoXG4gICAgICAgICAgICAgIDxkZXRhaWxzIGNsYXNzTmFtZT1cIm10LTYgcC00IGJnLW11dGVkLzUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICA8c3VtbWFyeSBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlciB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICAgIEVycm9yIGRldGFpbHMgKERldmVsb3BtZW50IG9ubHkpXG4gICAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIDxwcmUgY2xhc3NOYW1lPVwibXQtMyB0ZXh0LXhzIG92ZXJmbG93LWF1dG8gbWF4LWgtNDAgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgICB7ZXJyb3IubWVzc2FnZSB8fCBlcnJvci50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgICAge2Vycm9yLnN0YWNrICYmICdcXG5cXG4nICsgZXJyb3Iuc3RhY2sgKyAnXFxuXFxuJyArIGVycm9yLmNvbXBvbmVudFN0YWNrfVxuICAgICAgICAgICAgICAgIDwvcHJlPlxuICAgICAgICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgIDwvQ2FyZD5cblxuICAgICAgICB7LyogU3VwcG9ydCB0ZXh0ICovfVxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC02XCI+XG4gICAgICAgICAgSWYgdGhpcyBwcm9ibGVtIHBlcnNpc3RzLCBwbGVhc2UgY29udGFjdCBvdXIgc3VwcG9ydCB0ZWFtXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgRXJyb3JJbmZvLCBSZWFjdE5vZGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGVycm9yUmVwb3J0ZXIgfSBmcm9tIFwiQC9saWIvZXJyb3JSZXBvcnRlclwiO1xuaW1wb3J0IHsgRXJyb3JGYWxsYmFjayB9IGZyb20gXCIuL0Vycm9yRmFsbGJhY2tcIjtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbiAgZmFsbGJhY2s/OiAoXG4gICAgZXJyb3I6IEVycm9yLFxuICAgIGVycm9ySW5mbzogRXJyb3JJbmZvLFxuICAgIHJldHJ5OiAoKSA9PiB2b2lkXG4gICkgPT4gUmVhY3ROb2RlO1xufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBoYXNFcnJvcjogYm9vbGVhbjtcbiAgZXJyb3I6IEVycm9yIHwgbnVsbDtcbiAgZXJyb3JJbmZvOiBFcnJvckluZm8gfCBudWxsO1xufVxuXG5leHBvcnQgY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIENvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcbiAgcHVibGljIHN0YXRlOiBTdGF0ZSA9IHtcbiAgICBoYXNFcnJvcjogZmFsc2UsXG4gICAgZXJyb3I6IG51bGwsXG4gICAgZXJyb3JJbmZvOiBudWxsLFxuICB9O1xuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yOiBFcnJvcik6IFN0YXRlIHtcbiAgICByZXR1cm4geyBoYXNFcnJvcjogdHJ1ZSwgZXJyb3IsIGVycm9ySW5mbzogbnVsbCB9O1xuICB9XG5cbiAgcHVibGljIGNvbXBvbmVudERpZENhdGNoKGVycm9yOiBFcnJvciwgZXJyb3JJbmZvOiBFcnJvckluZm8pIHtcbiAgICAvLyBVcGRhdGUgc3RhdGUgd2l0aCBlcnJvciBpbmZvXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGVycm9ySW5mbyB9KTtcblxuICAgIC8vIFJlcG9ydCBlcnJvciB0byBiYWNrZW5kXG4gICAgZXJyb3JSZXBvcnRlci5yZXBvcnQoe1xuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIHN0YWNrOiBlcnJvci5zdGFjayB8fCBcIlwiLFxuICAgICAgY29tcG9uZW50U3RhY2s6IGVycm9ySW5mby5jb21wb25lbnRTdGFjayxcbiAgICAgIGVycm9yQm91bmRhcnk6IHRydWUsXG4gICAgICBlcnJvckJvdW5kYXJ5UHJvcHM6IHtcbiAgICAgICAgY29tcG9uZW50TmFtZTogdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLFxuICAgICAgfSxcbiAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGxldmVsOiBcImVycm9yXCIsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJldHJ5ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBoYXNFcnJvcjogZmFsc2UsIGVycm9yOiBudWxsLCBlcnJvckluZm86IG51bGwgfSk7XG4gICAgLy8gUmVsb2FkIHRoZSBwYWdlIHRvIGVuc3VyZSBjbGVhbiBzdGF0ZVxuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgfTtcblxuICBwcml2YXRlIGdvSG9tZSA9ICgpID0+IHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1wiO1xuICB9O1xuXG4gIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaGFzRXJyb3IgJiYgdGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgaWYgKHRoaXMucHJvcHMuZmFsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuZmFsbGJhY2soXG4gICAgICAgICAgdGhpcy5zdGF0ZS5lcnJvcixcbiAgICAgICAgICB0aGlzLnN0YXRlLmVycm9ySW5mbyEsXG4gICAgICAgICAgdGhpcy5yZXRyeVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBVc2Ugc2hhcmVkIEVycm9yRmFsbGJhY2sgY29tcG9uZW50XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8RXJyb3JGYWxsYmFja1xuICAgICAgICAgIGVycm9yPXt0aGlzLnN0YXRlLmVycm9yfVxuICAgICAgICAgIG9uUmV0cnk9e3RoaXMucmV0cnl9XG4gICAgICAgICAgb25Hb0hvbWU9e3RoaXMuZ29Ib21lfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge1xuICBVTlNBRkVfRGF0YVJvdXRlclN0YXRlQ29udGV4dCxcbiAgaXNSb3V0ZUVycm9yUmVzcG9uc2UsXG4gIHVzZUluUm91dGVyQ29udGV4dCxcbiAgdXNlUm91dGVFcnJvcixcbn0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcblxuaW1wb3J0IHsgZXJyb3JSZXBvcnRlciB9IGZyb20gJ0AvbGliL2Vycm9yUmVwb3J0ZXInXG5pbXBvcnQgeyBFcnJvckZhbGxiYWNrIH0gZnJvbSAnLi9FcnJvckZhbGxiYWNrJ1xuXG50eXBlIFJvdXRlRXJyb3IgPSB1bmtub3duXG5cbmZ1bmN0aW9uIHJlcG9ydFJvdXRlRXJyb3IoZXJyb3I6IFJvdXRlRXJyb3IpIHtcbiAgaWYgKCFlcnJvcikgcmV0dXJuXG5cbiAgbGV0IGVycm9yTWVzc2FnZSA9ICdVbmtub3duIHJvdXRlIGVycm9yJ1xuICBsZXQgZXJyb3JTdGFjayA9ICcnXG5cbiAgaWYgKGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSkge1xuICAgIGVycm9yTWVzc2FnZSA9IGBSb3V0ZSBFcnJvciAke2Vycm9yLnN0YXR1c306ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gXG4gICAgaWYgKGVycm9yLmRhdGEpIHtcbiAgICAgIGVycm9yTWVzc2FnZSArPSBgIC0gJHtKU09OLnN0cmluZ2lmeShlcnJvci5kYXRhKX1gXG4gICAgfVxuICB9IGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlXG4gICAgZXJyb3JTdGFjayA9IGVycm9yLnN0YWNrIHx8ICcnXG4gIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgIGVycm9yTWVzc2FnZSA9IGVycm9yXG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGVycm9yKVxuICAgIH0gY2F0Y2gge1xuICAgICAgZXJyb3JNZXNzYWdlID0gU3RyaW5nKGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIGVycm9yUmVwb3J0ZXIucmVwb3J0KHtcbiAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgc3RhY2s6IGVycm9yU3RhY2ssXG4gICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBzb3VyY2U6ICdyZWFjdC1yb3V0ZXInLFxuICAgIGVycm9yLFxuICAgIGxldmVsOiAnZXJyb3InLFxuICB9KVxufVxuXG5mdW5jdGlvbiBSb3V0ZUVycm9yQm91bmRhcnlWaWV3KHsgZXJyb3IgfTogeyBlcnJvcjogUm91dGVFcnJvciB9KSB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVwb3J0Um91dGVFcnJvcihlcnJvcilcbiAgfSwgW2Vycm9yXSlcblxuICBpZiAoaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxFcnJvckZhbGxiYWNrXG4gICAgICAgIHRpdGxlPXtgJHtlcnJvci5zdGF0dXN9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gfVxuICAgICAgICBtZXNzYWdlPVwiU29ycnksIGFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgdGhpcyBwYWdlLlwiXG4gICAgICAgIGVycm9yPXtlcnJvci5kYXRhID8geyBtZXNzYWdlOiBKU09OLnN0cmluZ2lmeShlcnJvci5kYXRhLCBudWxsLCAyKSB9IDogZXJyb3J9XG4gICAgICAgIHN0YXR1c01lc3NhZ2U9XCJOYXZpZ2F0aW9uIGVycm9yIGRldGVjdGVkXCJcbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8RXJyb3JGYWxsYmFja1xuICAgICAgdGl0bGU9XCJVbmV4cGVjdGVkIEVycm9yXCJcbiAgICAgIG1lc3NhZ2U9XCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgdGhpcyBwYWdlLlwiXG4gICAgICBlcnJvcj17ZXJyb3J9XG4gICAgICBzdGF0dXNNZXNzYWdlPVwiUm91dGluZyBlcnJvciBkZXRlY3RlZFwiXG4gICAgLz5cbiAgKVxufVxuXG5mdW5jdGlvbiBEYXRhUm91dGVyUm91dGVFcnJvckJvdW5kYXJ5KCkge1xuICBjb25zdCBlcnJvciA9IHVzZVJvdXRlRXJyb3IoKVxuICByZXR1cm4gPFJvdXRlRXJyb3JCb3VuZGFyeVZpZXcgZXJyb3I9e2Vycm9yfSAvPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gUm91dGVFcnJvckJvdW5kYXJ5KCkge1xuICBjb25zdCBpblJvdXRlciA9IHVzZUluUm91dGVyQ29udGV4dCgpXG4gIGNvbnN0IGRhdGFSb3V0ZXJTdGF0ZSA9IHVzZUNvbnRleHQoVU5TQUZFX0RhdGFSb3V0ZXJTdGF0ZUNvbnRleHQpXG5cbiAgY29uc3QgbWlzY29uZmlndXJlZCA9ICFpblJvdXRlciB8fCAhZGF0YVJvdXRlclN0YXRlXG4gIGNvbnN0IG1lc3NhZ2UgPSAhaW5Sb3V0ZXJcbiAgICA/ICdSb3V0ZXIgaXMgbm90IG1vdW50ZWQuIEFkZCBhIHJvdXRlciBhdCB0aGUgYXBwIHJvb3QuJ1xuICAgIDogJ1RoaXMgcm91dGVyIGRvZXMgbm90IHN1cHBvcnQgcm91dGUgZXJyb3JzLiBVc2UgY3JlYXRlQnJvd3NlclJvdXRlciArIFJvdXRlclByb3ZpZGVyLidcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbWlzY29uZmlndXJlZCkgcmV0dXJuXG4gICAgZXJyb3JSZXBvcnRlci5yZXBvcnQoe1xuICAgICAgbWVzc2FnZSxcbiAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIHNvdXJjZTogJ3JlYWN0LXJvdXRlcicsXG4gICAgICBsZXZlbDogJ2Vycm9yJyxcbiAgICB9KVxuICB9LCBbbWlzY29uZmlndXJlZCwgbWVzc2FnZV0pXG5cbiAgLy8gR3VhcmQ6IElmIHRoaXMgY29tcG9uZW50IGlzIHJlbmRlcmVkIG91dHNpZGUgb2YgYSBkYXRhIHJvdXRlciAoZS5nLiBCcm93c2VyUm91dGVyKVxuICAvLyB0aGVuIHVzZVJvdXRlRXJyb3IoKSB3b3VsZCB0aHJvdy4gU2hvdyBhIGZyaWVuZGx5IGZhbGxiYWNrIGluc3RlYWQuXG4gIGlmIChtaXNjb25maWd1cmVkKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxFcnJvckZhbGxiYWNrXG4gICAgICAgIHRpdGxlPVwiUm91dGVyIGNvbmZpZ3VyYXRpb24gZXJyb3JcIlxuICAgICAgICBtZXNzYWdlPXttZXNzYWdlfVxuICAgICAgICBzdGF0dXNNZXNzYWdlPVwiUm91dGluZyBlcnJvciBib3VuZGFyeSBjb3VsZCBub3QgaW5pdGlhbGl6ZVwiXG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiA8RGF0YVJvdXRlclJvdXRlRXJyb3JCb3VuZGFyeSAvPlxufSIsImNvbnN0IHJlZHV4SW1wbCA9IChyZWR1Y2VyLCBpbml0aWFsKSA9PiAoc2V0LCBfZ2V0LCBhcGkpID0+IHtcbiAgYXBpLmRpc3BhdGNoID0gKGFjdGlvbikgPT4ge1xuICAgIHNldCgoc3RhdGUpID0+IHJlZHVjZXIoc3RhdGUsIGFjdGlvbiksIGZhbHNlLCBhY3Rpb24pO1xuICAgIHJldHVybiBhY3Rpb247XG4gIH07XG4gIGFwaS5kaXNwYXRjaEZyb21EZXZ0b29scyA9IHRydWU7XG4gIHJldHVybiB7IGRpc3BhdGNoOiAoLi4uYXJncykgPT4gYXBpLmRpc3BhdGNoKC4uLmFyZ3MpLCAuLi5pbml0aWFsIH07XG59O1xuY29uc3QgcmVkdXggPSByZWR1eEltcGw7XG5cbmNvbnN0IHRyYWNrZWRDb25uZWN0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5jb25zdCBnZXRUcmFja2VkQ29ubmVjdGlvblN0YXRlID0gKG5hbWUpID0+IHtcbiAgY29uc3QgYXBpID0gdHJhY2tlZENvbm5lY3Rpb25zLmdldChuYW1lKTtcbiAgaWYgKCFhcGkpIHJldHVybiB7fTtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhhcGkuc3RvcmVzKS5tYXAoKFtrZXksIGFwaTJdKSA9PiBba2V5LCBhcGkyLmdldFN0YXRlKCldKVxuICApO1xufTtcbmNvbnN0IGV4dHJhY3RDb25uZWN0aW9uSW5mb3JtYXRpb24gPSAoc3RvcmUsIGV4dGVuc2lvbkNvbm5lY3Rvciwgb3B0aW9ucykgPT4ge1xuICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInVudHJhY2tlZFwiLFxuICAgICAgY29ubmVjdGlvbjogZXh0ZW5zaW9uQ29ubmVjdG9yLmNvbm5lY3Qob3B0aW9ucylcbiAgICB9O1xuICB9XG4gIGNvbnN0IGV4aXN0aW5nQ29ubmVjdGlvbiA9IHRyYWNrZWRDb25uZWN0aW9ucy5nZXQob3B0aW9ucy5uYW1lKTtcbiAgaWYgKGV4aXN0aW5nQ29ubmVjdGlvbikge1xuICAgIHJldHVybiB7IHR5cGU6IFwidHJhY2tlZFwiLCBzdG9yZSwgLi4uZXhpc3RpbmdDb25uZWN0aW9uIH07XG4gIH1cbiAgY29uc3QgbmV3Q29ubmVjdGlvbiA9IHtcbiAgICBjb25uZWN0aW9uOiBleHRlbnNpb25Db25uZWN0b3IuY29ubmVjdChvcHRpb25zKSxcbiAgICBzdG9yZXM6IHt9XG4gIH07XG4gIHRyYWNrZWRDb25uZWN0aW9ucy5zZXQob3B0aW9ucy5uYW1lLCBuZXdDb25uZWN0aW9uKTtcbiAgcmV0dXJuIHsgdHlwZTogXCJ0cmFja2VkXCIsIHN0b3JlLCAuLi5uZXdDb25uZWN0aW9uIH07XG59O1xuY29uc3QgcmVtb3ZlU3RvcmVGcm9tVHJhY2tlZENvbm5lY3Rpb25zID0gKG5hbWUsIHN0b3JlKSA9PiB7XG4gIGlmIChzdG9yZSA9PT0gdm9pZCAwKSByZXR1cm47XG4gIGNvbnN0IGNvbm5lY3Rpb25JbmZvID0gdHJhY2tlZENvbm5lY3Rpb25zLmdldChuYW1lKTtcbiAgaWYgKCFjb25uZWN0aW9uSW5mbykgcmV0dXJuO1xuICBkZWxldGUgY29ubmVjdGlvbkluZm8uc3RvcmVzW3N0b3JlXTtcbiAgaWYgKE9iamVjdC5rZXlzKGNvbm5lY3Rpb25JbmZvLnN0b3JlcykubGVuZ3RoID09PSAwKSB7XG4gICAgdHJhY2tlZENvbm5lY3Rpb25zLmRlbGV0ZShuYW1lKTtcbiAgfVxufTtcbmNvbnN0IGZpbmRDYWxsZXJOYW1lID0gKHN0YWNrKSA9PiB7XG4gIHZhciBfYSwgX2I7XG4gIGlmICghc3RhY2spIHJldHVybiB2b2lkIDA7XG4gIGNvbnN0IHRyYWNlTGluZXMgPSBzdGFjay5zcGxpdChcIlxcblwiKTtcbiAgY29uc3QgYXBpU2V0U3RhdGVMaW5lSW5kZXggPSB0cmFjZUxpbmVzLmZpbmRJbmRleChcbiAgICAodHJhY2VMaW5lKSA9PiB0cmFjZUxpbmUuaW5jbHVkZXMoXCJhcGkuc2V0U3RhdGVcIilcbiAgKTtcbiAgaWYgKGFwaVNldFN0YXRlTGluZUluZGV4IDwgMCkgcmV0dXJuIHZvaWQgMDtcbiAgY29uc3QgY2FsbGVyTGluZSA9ICgoX2EgPSB0cmFjZUxpbmVzW2FwaVNldFN0YXRlTGluZUluZGV4ICsgMV0pID09IG51bGwgPyB2b2lkIDAgOiBfYS50cmltKCkpIHx8IFwiXCI7XG4gIHJldHVybiAoX2IgPSAvLisgKC4rKSAuKy8uZXhlYyhjYWxsZXJMaW5lKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iWzFdO1xufTtcbmNvbnN0IGRldnRvb2xzSW1wbCA9IChmbiwgZGV2dG9vbHNPcHRpb25zID0ge30pID0+IChzZXQsIGdldCwgYXBpKSA9PiB7XG4gIGNvbnN0IHsgZW5hYmxlZCwgYW5vbnltb3VzQWN0aW9uVHlwZSwgc3RvcmUsIC4uLm9wdGlvbnMgfSA9IGRldnRvb2xzT3B0aW9ucztcbiAgbGV0IGV4dGVuc2lvbkNvbm5lY3RvcjtcbiAgdHJ5IHtcbiAgICBleHRlbnNpb25Db25uZWN0b3IgPSAoZW5hYmxlZCAhPSBudWxsID8gZW5hYmxlZCA6IChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3aW5kb3cuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fXztcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIGlmICghZXh0ZW5zaW9uQ29ubmVjdG9yKSB7XG4gICAgcmV0dXJuIGZuKHNldCwgZ2V0LCBhcGkpO1xuICB9XG4gIGNvbnN0IHsgY29ubmVjdGlvbiwgLi4uY29ubmVjdGlvbkluZm9ybWF0aW9uIH0gPSBleHRyYWN0Q29ubmVjdGlvbkluZm9ybWF0aW9uKHN0b3JlLCBleHRlbnNpb25Db25uZWN0b3IsIG9wdGlvbnMpO1xuICBsZXQgaXNSZWNvcmRpbmcgPSB0cnVlO1xuICBhcGkuc2V0U3RhdGUgPSAoKHN0YXRlLCByZXBsYWNlLCBuYW1lT3JBY3Rpb24pID0+IHtcbiAgICBjb25zdCByID0gc2V0KHN0YXRlLCByZXBsYWNlKTtcbiAgICBpZiAoIWlzUmVjb3JkaW5nKSByZXR1cm4gcjtcbiAgICBjb25zdCBhY3Rpb24gPSBuYW1lT3JBY3Rpb24gPT09IHZvaWQgMCA/IHtcbiAgICAgIHR5cGU6IGFub255bW91c0FjdGlvblR5cGUgfHwgZmluZENhbGxlck5hbWUobmV3IEVycm9yKCkuc3RhY2spIHx8IFwiYW5vbnltb3VzXCJcbiAgICB9IDogdHlwZW9mIG5hbWVPckFjdGlvbiA9PT0gXCJzdHJpbmdcIiA/IHsgdHlwZTogbmFtZU9yQWN0aW9uIH0gOiBuYW1lT3JBY3Rpb247XG4gICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uc2VuZChhY3Rpb24sIGdldCgpKTtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLnNlbmQoXG4gICAgICB7XG4gICAgICAgIC4uLmFjdGlvbixcbiAgICAgICAgdHlwZTogYCR7c3RvcmV9LyR7YWN0aW9uLnR5cGV9YFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgLi4uZ2V0VHJhY2tlZENvbm5lY3Rpb25TdGF0ZShvcHRpb25zLm5hbWUpLFxuICAgICAgICBbc3RvcmVdOiBhcGkuZ2V0U3RhdGUoKVxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHI7XG4gIH0pO1xuICBhcGkuZGV2dG9vbHMgPSB7XG4gICAgY2xlYW51cDogKCkgPT4ge1xuICAgICAgaWYgKGNvbm5lY3Rpb24gJiYgdHlwZW9mIGNvbm5lY3Rpb24udW5zdWJzY3JpYmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgICByZW1vdmVTdG9yZUZyb21UcmFja2VkQ29ubmVjdGlvbnMob3B0aW9ucy5uYW1lLCBzdG9yZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXRTdGF0ZUZyb21EZXZ0b29scyA9ICguLi5hKSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxJc1JlY29yZGluZyA9IGlzUmVjb3JkaW5nO1xuICAgIGlzUmVjb3JkaW5nID0gZmFsc2U7XG4gICAgc2V0KC4uLmEpO1xuICAgIGlzUmVjb3JkaW5nID0gb3JpZ2luYWxJc1JlY29yZGluZztcbiAgfTtcbiAgY29uc3QgaW5pdGlhbFN0YXRlID0gZm4oYXBpLnNldFN0YXRlLCBnZXQsIGFwaSk7XG4gIGlmIChjb25uZWN0aW9uSW5mb3JtYXRpb24udHlwZSA9PT0gXCJ1bnRyYWNrZWRcIikge1xuICAgIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uaW5pdChpbml0aWFsU3RhdGUpO1xuICB9IGVsc2Uge1xuICAgIGNvbm5lY3Rpb25JbmZvcm1hdGlvbi5zdG9yZXNbY29ubmVjdGlvbkluZm9ybWF0aW9uLnN0b3JlXSA9IGFwaTtcbiAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoXG4gICAgICBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGNvbm5lY3Rpb25JbmZvcm1hdGlvbi5zdG9yZXMpLm1hcCgoW2tleSwgc3RvcmUyXSkgPT4gW1xuICAgICAgICAgIGtleSxcbiAgICAgICAgICBrZXkgPT09IGNvbm5lY3Rpb25JbmZvcm1hdGlvbi5zdG9yZSA/IGluaXRpYWxTdGF0ZSA6IHN0b3JlMi5nZXRTdGF0ZSgpXG4gICAgICAgIF0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuICBpZiAoYXBpLmRpc3BhdGNoRnJvbURldnRvb2xzICYmIHR5cGVvZiBhcGkuZGlzcGF0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGxldCBkaWRXYXJuQWJvdXRSZXNlcnZlZEFjdGlvblR5cGUgPSBmYWxzZTtcbiAgICBjb25zdCBvcmlnaW5hbERpc3BhdGNoID0gYXBpLmRpc3BhdGNoO1xuICAgIGFwaS5kaXNwYXRjaCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBpZiAoKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgYXJnc1swXS50eXBlID09PSBcIl9fc2V0U3RhdGVcIiAmJiAhZGlkV2FybkFib3V0UmVzZXJ2ZWRBY3Rpb25UeXBlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnW3p1c3RhbmQgZGV2dG9vbHMgbWlkZGxld2FyZV0gXCJfX3NldFN0YXRlXCIgYWN0aW9uIHR5cGUgaXMgcmVzZXJ2ZWQgdG8gc2V0IHN0YXRlIGZyb20gdGhlIGRldnRvb2xzLiBBdm9pZCB1c2luZyBpdC4nXG4gICAgICAgICk7XG4gICAgICAgIGRpZFdhcm5BYm91dFJlc2VydmVkQWN0aW9uVHlwZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBvcmlnaW5hbERpc3BhdGNoKC4uLmFyZ3MpO1xuICAgIH07XG4gIH1cbiAgY29ubmVjdGlvbi5zdWJzY3JpYmUoKG1lc3NhZ2UpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgIGNhc2UgXCJBQ1RJT05cIjpcbiAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlLnBheWxvYWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJbenVzdGFuZCBkZXZ0b29scyBtaWRkbGV3YXJlXSBVbnN1cHBvcnRlZCBhY3Rpb24gZm9ybWF0XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VKc29uVGhlbihcbiAgICAgICAgICBtZXNzYWdlLnBheWxvYWQsXG4gICAgICAgICAgKGFjdGlvbikgPT4ge1xuICAgICAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSBcIl9fc2V0U3RhdGVcIikge1xuICAgICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKGFjdGlvbi5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpb24uc3RhdGUpLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgIFt6dXN0YW5kIGRldnRvb2xzIG1pZGRsZXdhcmVdIFVuc3VwcG9ydGVkIF9fc2V0U3RhdGUgYWN0aW9uIGZvcm1hdC5cbiAgICAgICAgICAgICAgICAgICAgV2hlbiB1c2luZyAnc3RvcmUnIG9wdGlvbiBpbiBkZXZ0b29scygpLCB0aGUgJ3N0YXRlJyBzaG91bGQgaGF2ZSBvbmx5IG9uZSBrZXksIHdoaWNoIGlzIGEgdmFsdWUgb2YgJ3N0b3JlJyB0aGF0IHdhcyBwYXNzZWQgaW4gZGV2dG9vbHMoKSxcbiAgICAgICAgICAgICAgICAgICAgYW5kIHZhbHVlIG9mIHRoaXMgb25seSBrZXkgc2hvdWxkIGJlIGEgc3RhdGUgb2JqZWN0LiBFeGFtcGxlOiB7IFwidHlwZVwiOiBcIl9fc2V0U3RhdGVcIiwgXCJzdGF0ZVwiOiB7IFwiYWJjMTIzU3RvcmVcIjogeyBcImZvb1wiOiBcImJhclwiIH0gfSB9XG4gICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXRlRnJvbURldnRvb2xzID0gYWN0aW9uLnN0YXRlW3N0b3JlXTtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlRnJvbURldnRvb2xzID09PSB2b2lkIDAgfHwgc3RhdGVGcm9tRGV2dG9vbHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KGFwaS5nZXRTdGF0ZSgpKSAhPT0gSlNPTi5zdHJpbmdpZnkoc3RhdGVGcm9tRGV2dG9vbHMpKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGVGcm9tRGV2dG9vbHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYXBpLmRpc3BhdGNoRnJvbURldnRvb2xzKSByZXR1cm47XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFwaS5kaXNwYXRjaCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm47XG4gICAgICAgICAgICBhcGkuZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICBjYXNlIFwiRElTUEFUQ0hcIjpcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnBheWxvYWQudHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJSRVNFVFwiOlxuICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoaW5pdGlhbFN0YXRlKTtcbiAgICAgICAgICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoYXBpLmdldFN0YXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uaW5pdChnZXRUcmFja2VkQ29ubmVjdGlvblN0YXRlKG9wdGlvbnMubmFtZSkpO1xuICAgICAgICAgIGNhc2UgXCJDT01NSVRcIjpcbiAgICAgICAgICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIGNvbm5lY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbm5lY3Rpb24uaW5pdChhcGkuZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoZ2V0VHJhY2tlZENvbm5lY3Rpb25TdGF0ZShvcHRpb25zLm5hbWUpKTtcbiAgICAgICAgICBjYXNlIFwiUk9MTEJBQ0tcIjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUpzb25UaGVuKG1lc3NhZ2Uuc3RhdGUsIChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKHN0YXRlKTtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoYXBpLmdldFN0YXRlKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhzdGF0ZVtzdG9yZV0pO1xuICAgICAgICAgICAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoZ2V0VHJhY2tlZENvbm5lY3Rpb25TdGF0ZShvcHRpb25zLm5hbWUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJKVU1QX1RPX1NUQVRFXCI6XG4gICAgICAgICAgY2FzZSBcIkpVTVBfVE9fQUNUSU9OXCI6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VKc29uVGhlbihtZXNzYWdlLnN0YXRlLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShhcGkuZ2V0U3RhdGUoKSkgIT09IEpTT04uc3RyaW5naWZ5KHN0YXRlW3N0b3JlXSkpIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhzdGF0ZVtzdG9yZV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiSU1QT1JUX1NUQVRFXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbmV4dExpZnRlZFN0YXRlIH0gPSBtZXNzYWdlLnBheWxvYWQ7XG4gICAgICAgICAgICBjb25zdCBsYXN0Q29tcHV0ZWRTdGF0ZSA9IChfYSA9IG5leHRMaWZ0ZWRTdGF0ZS5jb21wdXRlZFN0YXRlcy5zbGljZSgtMSlbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdGF0ZTtcbiAgICAgICAgICAgIGlmICghbGFzdENvbXB1dGVkU3RhdGUpIHJldHVybjtcbiAgICAgICAgICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKGxhc3RDb21wdXRlZFN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKGxhc3RDb21wdXRlZFN0YXRlW3N0b3JlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLnNlbmQoXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIC8vIEZJWE1FIG5vLWFueVxuICAgICAgICAgICAgICBuZXh0TGlmdGVkU3RhdGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJQQVVTRV9SRUNPUkRJTkdcIjpcbiAgICAgICAgICAgIHJldHVybiBpc1JlY29yZGluZyA9ICFpc1JlY29yZGluZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGluaXRpYWxTdGF0ZTtcbn07XG5jb25zdCBkZXZ0b29scyA9IGRldnRvb2xzSW1wbDtcbmNvbnN0IHBhcnNlSnNvblRoZW4gPSAoc3RyaW5naWZpZWQsIGZuKSA9PiB7XG4gIGxldCBwYXJzZWQ7XG4gIHRyeSB7XG4gICAgcGFyc2VkID0gSlNPTi5wYXJzZShzdHJpbmdpZmllZCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJbenVzdGFuZCBkZXZ0b29scyBtaWRkbGV3YXJlXSBDb3VsZCBub3QgcGFyc2UgdGhlIHJlY2VpdmVkIGpzb25cIixcbiAgICAgIGVcbiAgICApO1xuICB9XG4gIGlmIChwYXJzZWQgIT09IHZvaWQgMCkgZm4ocGFyc2VkKTtcbn07XG5cbmNvbnN0IHN1YnNjcmliZVdpdGhTZWxlY3RvckltcGwgPSAoZm4pID0+IChzZXQsIGdldCwgYXBpKSA9PiB7XG4gIGNvbnN0IG9yaWdTdWJzY3JpYmUgPSBhcGkuc3Vic2NyaWJlO1xuICBhcGkuc3Vic2NyaWJlID0gKChzZWxlY3Rvciwgb3B0TGlzdGVuZXIsIG9wdGlvbnMpID0+IHtcbiAgICBsZXQgbGlzdGVuZXIgPSBzZWxlY3RvcjtcbiAgICBpZiAob3B0TGlzdGVuZXIpIHtcbiAgICAgIGNvbnN0IGVxdWFsaXR5Rm4gPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5lcXVhbGl0eUZuKSB8fCBPYmplY3QuaXM7XG4gICAgICBsZXQgY3VycmVudFNsaWNlID0gc2VsZWN0b3IoYXBpLmdldFN0YXRlKCkpO1xuICAgICAgbGlzdGVuZXIgPSAoc3RhdGUpID0+IHtcbiAgICAgICAgY29uc3QgbmV4dFNsaWNlID0gc2VsZWN0b3Ioc3RhdGUpO1xuICAgICAgICBpZiAoIWVxdWFsaXR5Rm4oY3VycmVudFNsaWNlLCBuZXh0U2xpY2UpKSB7XG4gICAgICAgICAgY29uc3QgcHJldmlvdXNTbGljZSA9IGN1cnJlbnRTbGljZTtcbiAgICAgICAgICBvcHRMaXN0ZW5lcihjdXJyZW50U2xpY2UgPSBuZXh0U2xpY2UsIHByZXZpb3VzU2xpY2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZmlyZUltbWVkaWF0ZWx5KSB7XG4gICAgICAgIG9wdExpc3RlbmVyKGN1cnJlbnRTbGljZSwgY3VycmVudFNsaWNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9yaWdTdWJzY3JpYmUobGlzdGVuZXIpO1xuICB9KTtcbiAgY29uc3QgaW5pdGlhbFN0YXRlID0gZm4oc2V0LCBnZXQsIGFwaSk7XG4gIHJldHVybiBpbml0aWFsU3RhdGU7XG59O1xuY29uc3Qgc3Vic2NyaWJlV2l0aFNlbGVjdG9yID0gc3Vic2NyaWJlV2l0aFNlbGVjdG9ySW1wbDtcblxuZnVuY3Rpb24gY29tYmluZShpbml0aWFsU3RhdGUsIGNyZWF0ZSkge1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IE9iamVjdC5hc3NpZ24oe30sIGluaXRpYWxTdGF0ZSwgY3JlYXRlKC4uLmFyZ3MpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSlNPTlN0b3JhZ2UoZ2V0U3RvcmFnZSwgb3B0aW9ucykge1xuICBsZXQgc3RvcmFnZTtcbiAgdHJ5IHtcbiAgICBzdG9yYWdlID0gZ2V0U3RvcmFnZSgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHBlcnNpc3RTdG9yYWdlID0ge1xuICAgIGdldEl0ZW06IChuYW1lKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCBwYXJzZSA9IChzdHIyKSA9PiB7XG4gICAgICAgIGlmIChzdHIyID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyMiwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5yZXZpdmVyKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBzdHIgPSAoX2EgPSBzdG9yYWdlLmdldEl0ZW0obmFtZSkpICE9IG51bGwgPyBfYSA6IG51bGw7XG4gICAgICBpZiAoc3RyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXR1cm4gc3RyLnRoZW4ocGFyc2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcnNlKHN0cik7XG4gICAgfSxcbiAgICBzZXRJdGVtOiAobmFtZSwgbmV3VmFsdWUpID0+IHN0b3JhZ2Uuc2V0SXRlbShuYW1lLCBKU09OLnN0cmluZ2lmeShuZXdWYWx1ZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5yZXBsYWNlcikpLFxuICAgIHJlbW92ZUl0ZW06IChuYW1lKSA9PiBzdG9yYWdlLnJlbW92ZUl0ZW0obmFtZSlcbiAgfTtcbiAgcmV0dXJuIHBlcnNpc3RTdG9yYWdlO1xufVxuY29uc3QgdG9UaGVuYWJsZSA9IChmbikgPT4gKGlucHV0KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gZm4oaW5wdXQpO1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdGhlbihvbkZ1bGZpbGxlZCkge1xuICAgICAgICByZXR1cm4gdG9UaGVuYWJsZShvbkZ1bGZpbGxlZCkocmVzdWx0KTtcbiAgICAgIH0sXG4gICAgICBjYXRjaChfb25SZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRoZW4oX29uRnVsZmlsbGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSxcbiAgICAgIGNhdGNoKG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRvVGhlbmFibGUob25SZWplY3RlZCkoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbmNvbnN0IHBlcnNpc3RJbXBsID0gKGNvbmZpZywgYmFzZU9wdGlvbnMpID0+IChzZXQsIGdldCwgYXBpKSA9PiB7XG4gIGxldCBvcHRpb25zID0ge1xuICAgIHN0b3JhZ2U6IGNyZWF0ZUpTT05TdG9yYWdlKCgpID0+IGxvY2FsU3RvcmFnZSksXG4gICAgcGFydGlhbGl6ZTogKHN0YXRlKSA9PiBzdGF0ZSxcbiAgICB2ZXJzaW9uOiAwLFxuICAgIG1lcmdlOiAocGVyc2lzdGVkU3RhdGUsIGN1cnJlbnRTdGF0ZSkgPT4gKHtcbiAgICAgIC4uLmN1cnJlbnRTdGF0ZSxcbiAgICAgIC4uLnBlcnNpc3RlZFN0YXRlXG4gICAgfSksXG4gICAgLi4uYmFzZU9wdGlvbnNcbiAgfTtcbiAgbGV0IGhhc0h5ZHJhdGVkID0gZmFsc2U7XG4gIGNvbnN0IGh5ZHJhdGlvbkxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGNvbnN0IGZpbmlzaEh5ZHJhdGlvbkxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBzdG9yYWdlID0gb3B0aW9ucy5zdG9yYWdlO1xuICBpZiAoIXN0b3JhZ2UpIHtcbiAgICByZXR1cm4gY29uZmlnKFxuICAgICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBbenVzdGFuZCBwZXJzaXN0IG1pZGRsZXdhcmVdIFVuYWJsZSB0byB1cGRhdGUgaXRlbSAnJHtvcHRpb25zLm5hbWV9JywgdGhlIGdpdmVuIHN0b3JhZ2UgaXMgY3VycmVudGx5IHVuYXZhaWxhYmxlLmBcbiAgICAgICAgKTtcbiAgICAgICAgc2V0KC4uLmFyZ3MpO1xuICAgICAgfSxcbiAgICAgIGdldCxcbiAgICAgIGFwaVxuICAgICk7XG4gIH1cbiAgY29uc3Qgc2V0SXRlbSA9ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IG9wdGlvbnMucGFydGlhbGl6ZSh7IC4uLmdldCgpIH0pO1xuICAgIHJldHVybiBzdG9yYWdlLnNldEl0ZW0ob3B0aW9ucy5uYW1lLCB7XG4gICAgICBzdGF0ZSxcbiAgICAgIHZlcnNpb246IG9wdGlvbnMudmVyc2lvblxuICAgIH0pO1xuICB9O1xuICBjb25zdCBzYXZlZFNldFN0YXRlID0gYXBpLnNldFN0YXRlO1xuICBhcGkuc2V0U3RhdGUgPSAoc3RhdGUsIHJlcGxhY2UpID0+IHtcbiAgICBzYXZlZFNldFN0YXRlKHN0YXRlLCByZXBsYWNlKTtcbiAgICByZXR1cm4gc2V0SXRlbSgpO1xuICB9O1xuICBjb25zdCBjb25maWdSZXN1bHQgPSBjb25maWcoXG4gICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgIHNldCguLi5hcmdzKTtcbiAgICAgIHJldHVybiBzZXRJdGVtKCk7XG4gICAgfSxcbiAgICBnZXQsXG4gICAgYXBpXG4gICk7XG4gIGFwaS5nZXRJbml0aWFsU3RhdGUgPSAoKSA9PiBjb25maWdSZXN1bHQ7XG4gIGxldCBzdGF0ZUZyb21TdG9yYWdlO1xuICBjb25zdCBoeWRyYXRlID0gKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKCFzdG9yYWdlKSByZXR1cm47XG4gICAgaGFzSHlkcmF0ZWQgPSBmYWxzZTtcbiAgICBoeWRyYXRpb25MaXN0ZW5lcnMuZm9yRWFjaCgoY2IpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICByZXR1cm4gY2IoKF9hMiA9IGdldCgpKSAhPSBudWxsID8gX2EyIDogY29uZmlnUmVzdWx0KTtcbiAgICB9KTtcbiAgICBjb25zdCBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayA9ICgoX2IgPSBvcHRpb25zLm9uUmVoeWRyYXRlU3RvcmFnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwob3B0aW9ucywgKF9hID0gZ2V0KCkpICE9IG51bGwgPyBfYSA6IGNvbmZpZ1Jlc3VsdCkpIHx8IHZvaWQgMDtcbiAgICByZXR1cm4gdG9UaGVuYWJsZShzdG9yYWdlLmdldEl0ZW0uYmluZChzdG9yYWdlKSkob3B0aW9ucy5uYW1lKS50aGVuKChkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUpID0+IHtcbiAgICAgIGlmIChkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUudmVyc2lvbiA9PT0gXCJudW1iZXJcIiAmJiBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUudmVyc2lvbiAhPT0gb3B0aW9ucy52ZXJzaW9uKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMubWlncmF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbWlncmF0aW9uID0gb3B0aW9ucy5taWdyYXRlKFxuICAgICAgICAgICAgICBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUuc3RhdGUsXG4gICAgICAgICAgICAgIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS52ZXJzaW9uXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKG1pZ3JhdGlvbiBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG1pZ3JhdGlvbi50aGVuKChyZXN1bHQpID0+IFt0cnVlLCByZXN1bHRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgbWlncmF0aW9uXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIGBTdGF0ZSBsb2FkZWQgZnJvbSBzdG9yYWdlIGNvdWxkbid0IGJlIG1pZ3JhdGVkIHNpbmNlIG5vIG1pZ3JhdGUgZnVuY3Rpb24gd2FzIHByb3ZpZGVkYFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtmYWxzZSwgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnN0YXRlXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFtmYWxzZSwgdm9pZCAwXTtcbiAgICB9KS50aGVuKChtaWdyYXRpb25SZXN1bHQpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICBjb25zdCBbbWlncmF0ZWQsIG1pZ3JhdGVkU3RhdGVdID0gbWlncmF0aW9uUmVzdWx0O1xuICAgICAgc3RhdGVGcm9tU3RvcmFnZSA9IG9wdGlvbnMubWVyZ2UoXG4gICAgICAgIG1pZ3JhdGVkU3RhdGUsXG4gICAgICAgIChfYTIgPSBnZXQoKSkgIT0gbnVsbCA/IF9hMiA6IGNvbmZpZ1Jlc3VsdFxuICAgICAgKTtcbiAgICAgIHNldChzdGF0ZUZyb21TdG9yYWdlLCB0cnVlKTtcbiAgICAgIGlmIChtaWdyYXRlZCkge1xuICAgICAgICByZXR1cm4gc2V0SXRlbSgpO1xuICAgICAgfVxuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sgPT0gbnVsbCA/IHZvaWQgMCA6IHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrKHN0YXRlRnJvbVN0b3JhZ2UsIHZvaWQgMCk7XG4gICAgICBzdGF0ZUZyb21TdG9yYWdlID0gZ2V0KCk7XG4gICAgICBoYXNIeWRyYXRlZCA9IHRydWU7XG4gICAgICBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMuZm9yRWFjaCgoY2IpID0+IGNiKHN0YXRlRnJvbVN0b3JhZ2UpKTtcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sgPT0gbnVsbCA/IHZvaWQgMCA6IHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrKHZvaWQgMCwgZSk7XG4gICAgfSk7XG4gIH07XG4gIGFwaS5wZXJzaXN0ID0ge1xuICAgIHNldE9wdGlvbnM6IChuZXdPcHRpb25zKSA9PiB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAuLi5uZXdPcHRpb25zXG4gICAgICB9O1xuICAgICAgaWYgKG5ld09wdGlvbnMuc3RvcmFnZSkge1xuICAgICAgICBzdG9yYWdlID0gbmV3T3B0aW9ucy5zdG9yYWdlO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xlYXJTdG9yYWdlOiAoKSA9PiB7XG4gICAgICBzdG9yYWdlID09IG51bGwgPyB2b2lkIDAgOiBzdG9yYWdlLnJlbW92ZUl0ZW0ob3B0aW9ucy5uYW1lKTtcbiAgICB9LFxuICAgIGdldE9wdGlvbnM6ICgpID0+IG9wdGlvbnMsXG4gICAgcmVoeWRyYXRlOiAoKSA9PiBoeWRyYXRlKCksXG4gICAgaGFzSHlkcmF0ZWQ6ICgpID0+IGhhc0h5ZHJhdGVkLFxuICAgIG9uSHlkcmF0ZTogKGNiKSA9PiB7XG4gICAgICBoeWRyYXRpb25MaXN0ZW5lcnMuYWRkKGNiKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGh5ZHJhdGlvbkxpc3RlbmVycy5kZWxldGUoY2IpO1xuICAgICAgfTtcbiAgICB9LFxuICAgIG9uRmluaXNoSHlkcmF0aW9uOiAoY2IpID0+IHtcbiAgICAgIGZpbmlzaEh5ZHJhdGlvbkxpc3RlbmVycy5hZGQoY2IpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZmluaXNoSHlkcmF0aW9uTGlzdGVuZXJzLmRlbGV0ZShjYik7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgaWYgKCFvcHRpb25zLnNraXBIeWRyYXRpb24pIHtcbiAgICBoeWRyYXRlKCk7XG4gIH1cbiAgcmV0dXJuIHN0YXRlRnJvbVN0b3JhZ2UgfHwgY29uZmlnUmVzdWx0O1xufTtcbmNvbnN0IHBlcnNpc3QgPSBwZXJzaXN0SW1wbDtcblxuZnVuY3Rpb24gc3NyU2FmZShjb25maWcsIGlzU1NSID0gdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICByZXR1cm4gKHNldCwgZ2V0LCBhcGkpID0+IHtcbiAgICBpZiAoIWlzU1NSKSB7XG4gICAgICByZXR1cm4gY29uZmlnKHNldCwgZ2V0LCBhcGkpO1xuICAgIH1cbiAgICBjb25zdCBzc3JTZXQgPSAoKSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgc2V0IHN0YXRlIG9mIFp1c3RhbmQgc3RvcmUgaW4gU1NSXCIpO1xuICAgIH07XG4gICAgYXBpLnNldFN0YXRlID0gc3NyU2V0O1xuICAgIHJldHVybiBjb25maWcoc3NyU2V0LCBnZXQsIGFwaSk7XG4gIH07XG59XG5cbmV4cG9ydCB7IGNvbWJpbmUsIGNyZWF0ZUpTT05TdG9yYWdlLCBkZXZ0b29scywgcGVyc2lzdCwgcmVkdXgsIHN1YnNjcmliZVdpdGhTZWxlY3Rvciwgc3NyU2FmZSBhcyB1bnN0YWJsZV9zc3JTYWZlIH07XG4iLCJpbXBvcnQgeyBwcm9kdWNlIH0gZnJvbSAnaW1tZXInO1xuXG5jb25zdCBpbW1lckltcGwgPSAoaW5pdGlhbGl6ZXIpID0+IChzZXQsIGdldCwgc3RvcmUpID0+IHtcbiAgc3RvcmUuc2V0U3RhdGUgPSAodXBkYXRlciwgcmVwbGFjZSwgLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IHR5cGVvZiB1cGRhdGVyID09PSBcImZ1bmN0aW9uXCIgPyBwcm9kdWNlKHVwZGF0ZXIpIDogdXBkYXRlcjtcbiAgICByZXR1cm4gc2V0KG5leHRTdGF0ZSwgcmVwbGFjZSwgLi4uYXJncyk7XG4gIH07XG4gIHJldHVybiBpbml0aWFsaXplcihzdG9yZS5zZXRTdGF0ZSwgZ2V0LCBzdG9yZSk7XG59O1xuY29uc3QgaW1tZXIgPSBpbW1lckltcGw7XG5cbmV4cG9ydCB7IGltbWVyIH07XG4iLCJpbXBvcnQgeyBjcmVhdGUgfSBmcm9tICd6dXN0YW5kJztcbmltcG9ydCB7IHBlcnNpc3QsIGNyZWF0ZUpTT05TdG9yYWdlIH0gZnJvbSAnenVzdGFuZC9taWRkbGV3YXJlJztcbmltcG9ydCB7IGltbWVyIH0gZnJvbSAnenVzdGFuZC9taWRkbGV3YXJlL2ltbWVyJztcbmltcG9ydCB0eXBlIHsgRGVjaywgVGVhbSwgV29yZCB9IGZyb20gJ0AvdHlwZXMnO1xuZXhwb3J0IHR5cGUgTGFuZ3VhZ2UgPSAnZW4nIHwgJ3RyJztcbmV4cG9ydCB0eXBlIEdhbWVTdGF0dXMgPSAnc2V0dXAnIHwgJ2dldC1yZWFkeScgfCAncGxheWluZycgfCAndHVybi1zdW1tYXJ5JyB8ICdnYW1lLW92ZXInO1xuZXhwb3J0IHR5cGUgU2V0dXBTdGVwID0gJ3RlYW1zJyB8ICdjdXN0b21pemUnIHwgJ2RlY2snIHwgJ3dvcmQtY291bnQnO1xuZXhwb3J0IHR5cGUgVHVybkVuZFJlYXNvbiA9ICd0aW1lLXVwJyB8ICd3b3Jkcy1leGhhdXN0ZWQnIHwgbnVsbDtcbmV4cG9ydCBjb25zdCBURUFNX0NPTE9SUyA9IFtcbiAgJyMwMTg5ZDAnLCAvLyBCbHVlXG4gICcjY2MwMDRjJywgLy8gUmVkXG4gICcjNjQ2MGFhJywgLy8gUHVycGxlXG4gICcjZjM3MDIxJywgLy8gT3JhbmdlXG4gICcjMDdiMjRhJywgLy8gR3JlZW5cbiAgJyNmYmI3MTInLCAvLyBZZWxsb3dcbl07XG5jb25zdCBERUZBVUxUX1RVUk5fRFVSQVRJT04gPSA0NTtcbmludGVyZmFjZSBHYW1lU3RhdGUge1xuICBsYW5ndWFnZTogTGFuZ3VhZ2U7XG4gIHRlYW1zOiBUZWFtW107XG4gIHNlbGVjdGVkRGVjazogRGVjayB8IG51bGw7XG4gIGN1c3RvbURlY2s6IERlY2sgfCBudWxsO1xuICBzZWxlY3RlZFdvcmRDb3VudDogbnVtYmVyIHwgbnVsbDtcbiAgdHVybkR1cmF0aW9uOiBudW1iZXI7XG4gIGdhbWVTdGF0dXM6IEdhbWVTdGF0dXM7XG4gIHNldHVwU3RlcDogU2V0dXBTdGVwO1xuICByb3VuZDogbnVtYmVyO1xuICBjdXJyZW50VGVhbUluZGV4OiBudW1iZXI7XG4gIHdvcmRzOiBXb3JkW107XG4gIHVuc2VlbldvcmRzOiBXb3JkW107XG4gIGd1ZXNzZWRXb3Jkc1RoaXNSb3VuZDogV29yZFtdO1xuICBjdXJyZW50V29yZDogV29yZCB8IG51bGw7XG4gIGxhc3RHdWVzc2VkV29yZDogV29yZCB8IG51bGw7XG4gIGxhc3RQYXNzZWRXb3JkOiBXb3JkIHwgbnVsbDtcbiAgd29yZHNHdWVzc2VkVGhpc1R1cm46IFdvcmRbXTtcbiAgdGltZUxlZnQ6IG51bWJlcjtcbiAgdHVybkVuZFJlYXNvbjogVHVybkVuZFJlYXNvbjtcbiAgYm9udXNUaW1lOiBudW1iZXIgfCBudWxsO1xuICB0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJztcbiAgc2V0TGFuZ3VhZ2U6IChsYW5nOiBMYW5ndWFnZSkgPT4gdm9pZDtcbiAgc2V0VGhlbWU6ICh0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJykgPT4gdm9pZDtcbiAgc2V0VGVhbUNvdW50OiAoY291bnQ6IG51bWJlciwgbmFtZVBhcnRzOiB7IGFkamVjdGl2ZXM6IHN0cmluZ1tdLCBub3Vuczogc3RyaW5nW10gfSkgPT4gdm9pZDtcbiAgdXBkYXRlVGVhbTogKGlkOiBudW1iZXIsIG5hbWU6IHN0cmluZywgY29sb3I6IHN0cmluZykgPT4gdm9pZDtcbiAgcmVnZW5lcmF0ZVRlYW1OYW1lOiAodGVhbUlkOiBudW1iZXIsIG5hbWVQYXJ0czogeyBhZGplY3RpdmVzOiBzdHJpbmdbXSwgbm91bnM6IHN0cmluZ1tdIH0pID0+IHZvaWQ7XG4gIHNldFNldHVwU3RlcDogKHN0ZXA6IFNldHVwU3RlcCkgPT4gdm9pZDtcbiAgc2VsZWN0RGVjazogKGRlY2s6IERlY2spID0+IHZvaWQ7XG4gIHNldEN1c3RvbURlY2s6IChkZWNrOiBEZWNrKSA9PiB2b2lkO1xuICBzZXRXb3JkQ291bnQ6IChjb3VudDogbnVtYmVyKSA9PiB2b2lkO1xuICBzZXRUdXJuRHVyYXRpb246IChkdXJhdGlvbjogbnVtYmVyKSA9PiB2b2lkO1xuICBzdGFydEdhbWU6ICh3b3JkczogV29yZFtdKSA9PiB2b2lkO1xuICBzdGFydFR1cm46ICgpID0+IHZvaWQ7XG4gIGVuZFR1cm46ICgpID0+IHZvaWQ7XG4gIHByb2NlZWRUb05leHRUdXJuOiAoKSA9PiB2b2lkO1xuICBoYW5kbGVDb3JyZWN0OiAoKSA9PiB2b2lkO1xuICBoYW5kbGVQYXNzOiAoKSA9PiB2b2lkO1xuICB1bmRvTGFzdEFjdGlvbjogKCkgPT4gdm9pZDtcbiAgdGljazogKCkgPT4gdm9pZDtcbiAgcmVzZXRTZXR1cDogKCkgPT4gdm9pZDtcbiAgcmVzZXRHYW1lOiAoKSA9PiB2b2lkO1xufVxuZXhwb3J0IGNvbnN0IHVzZUdhbWVTdG9yZSA9IGNyZWF0ZTxHYW1lU3RhdGU+KCkoXG4gIHBlcnNpc3QoXG4gICAgaW1tZXIoKHNldCwgZ2V0KSA9PiAoe1xuICAgICAgbGFuZ3VhZ2U6ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IubGFuZ3VhZ2Uuc3RhcnRzV2l0aCgndHInKSkgPyAndHInIDogJ2VuJyxcbiAgICAgIHRlYW1zOiBbXSxcbiAgICAgIHNlbGVjdGVkRGVjazogbnVsbCxcbiAgICAgIGN1c3RvbURlY2s6IG51bGwsXG4gICAgICBzZWxlY3RlZFdvcmRDb3VudDogbnVsbCxcbiAgICAgIHR1cm5EdXJhdGlvbjogREVGQVVMVF9UVVJOX0RVUkFUSU9OLFxuICAgICAgZ2FtZVN0YXR1czogJ3NldHVwJyxcbiAgICAgIHNldHVwU3RlcDogJ3RlYW1zJyxcbiAgICAgIHJvdW5kOiAxLFxuICAgICAgY3VycmVudFRlYW1JbmRleDogMCxcbiAgICAgIHdvcmRzOiBbXSxcbiAgICAgIHVuc2VlbldvcmRzOiBbXSxcbiAgICAgIGd1ZXNzZWRXb3Jkc1RoaXNSb3VuZDogW10sXG4gICAgICBjdXJyZW50V29yZDogbnVsbCxcbiAgICAgIGxhc3RHdWVzc2VkV29yZDogbnVsbCxcbiAgICAgIGxhc3RQYXNzZWRXb3JkOiBudWxsLFxuICAgICAgd29yZHNHdWVzc2VkVGhpc1R1cm46IFtdLFxuICAgICAgdGltZUxlZnQ6IERFRkFVTFRfVFVSTl9EVVJBVElPTixcbiAgICAgIHR1cm5FbmRSZWFzb246IG51bGwsXG4gICAgICBib251c1RpbWU6IG51bGwsXG4gICAgICB0aGVtZTogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzID8gJ2RhcmsnIDogJ2xpZ2h0JyxcbiAgICAgIHNldExhbmd1YWdlOiAobGFuZykgPT4gc2V0KHsgbGFuZ3VhZ2U6IGxhbmcsIHNldHVwU3RlcDogJ3RlYW1zJywgdGVhbXM6IFtdLCBzZWxlY3RlZERlY2s6IG51bGwsIGN1c3RvbURlY2s6IG51bGwsIHNlbGVjdGVkV29yZENvdW50OiBudWxsIH0pLFxuICAgICAgc2V0VGhlbWU6ICh0aGVtZSkgPT4gc2V0KHsgdGhlbWUgfSksXG4gICAgICBzZXRUZWFtQ291bnQ6IChjb3VudCwgbmFtZVBhcnRzKSA9PiB7XG4gICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCB1c2VkTmFtZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgICBzdGF0ZS50ZWFtcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGNvdW50IH0sIChfLCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9ICcnO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBjb25zdCBhZGogPSBuYW1lUGFydHMuYWRqZWN0aXZlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBuYW1lUGFydHMuYWRqZWN0aXZlcy5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgY29uc3Qgbm91biA9IG5hbWVQYXJ0cy5ub3Vuc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBuYW1lUGFydHMubm91bnMubGVuZ3RoKV07XG4gICAgICAgICAgICAgIG5hbWUgPSBgJHthZGp9ICR7bm91bn1gO1xuICAgICAgICAgICAgfSB3aGlsZSAodXNlZE5hbWVzLmhhcyhuYW1lKSk7XG4gICAgICAgICAgICB1c2VkTmFtZXMuYWRkKG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgaWQ6IGksXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIGNvbG9yOiBURUFNX0NPTE9SU1tpICUgVEVBTV9DT0xPUlMubGVuZ3RoXSxcbiAgICAgICAgICAgICAgc2NvcmU6IDAsXG4gICAgICAgICAgICAgIGlzTmFtZUN1c3RvbWl6ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzdGF0ZS5zZXR1cFN0ZXAgPSAnY3VzdG9taXplJztcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdXBkYXRlVGVhbTogKGlkLCBuYW1lLCBjb2xvcikgPT4ge1xuICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdGVhbSA9IHN0YXRlLnRlYW1zLmZpbmQoKHQpID0+IHQuaWQgPT09IGlkKTtcbiAgICAgICAgICBpZiAodGVhbSkge1xuICAgICAgICAgICAgaWYgKHRlYW0ubmFtZSAhPT0gbmFtZSkge1xuICAgICAgICAgICAgICB0ZWFtLmlzTmFtZUN1c3RvbWl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVhbS5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHRlYW0uY29sb3IgPSBjb2xvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHJlZ2VuZXJhdGVUZWFtTmFtZTogKHRlYW1JZCwgbmFtZVBhcnRzKSA9PiB7XG4gICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCB0ZWFtVG9VcGRhdGUgPSBzdGF0ZS50ZWFtcy5maW5kKCh0KSA9PiB0LmlkID09PSB0ZWFtSWQpO1xuICAgICAgICAgIGlmICh0ZWFtVG9VcGRhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZWROYW1lcyA9IG5ldyBTZXQoc3RhdGUudGVhbXMuZmlsdGVyKHQgPT4gdC5pZCAhPT0gdGVhbUlkKS5tYXAoKHQpID0+IHQubmFtZSkpO1xuICAgICAgICAgICAgbGV0IG5ld05hbWUgPSAnJztcbiAgICAgICAgICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIGNvbnN0IGFkaiA9IG5hbWVQYXJ0cy5hZGplY3RpdmVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG5hbWVQYXJ0cy5hZGplY3RpdmVzLmxlbmd0aCldO1xuICAgICAgICAgICAgICBjb25zdCBub3VuID0gbmFtZVBhcnRzLm5vdW5zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG5hbWVQYXJ0cy5ub3Vucy5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgbmV3TmFtZSA9IGAke2Fkan0gJHtub3VufWA7XG4gICAgICAgICAgICAgIGF0dGVtcHRzKys7XG4gICAgICAgICAgICB9IHdoaWxlICh1c2VkTmFtZXMuaGFzKG5ld05hbWUpICYmIGF0dGVtcHRzIDwgNTApO1xuICAgICAgICAgICAgdGVhbVRvVXBkYXRlLm5hbWUgPSBuZXdOYW1lO1xuICAgICAgICAgICAgdGVhbVRvVXBkYXRlLmlzTmFtZUN1c3RvbWl6ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgc2V0U2V0dXBTdGVwOiAoc3RlcCkgPT4gc2V0KHsgc2V0dXBTdGVwOiBzdGVwIH0pLFxuICAgICAgc2VsZWN0RGVjazogKGRlY2spID0+IHNldCh7IHNlbGVjdGVkRGVjazogZGVjayB9KSxcbiAgICAgIHNldEN1c3RvbURlY2s6IChkZWNrKSA9PiB7XG4gICAgICAgIHNldCh7IGN1c3RvbURlY2s6IGRlY2ssIHNlbGVjdGVkRGVjazogZGVjayB9KTtcbiAgICAgIH0sXG4gICAgICBzZXRXb3JkQ291bnQ6IChjb3VudCkgPT4gc2V0KHsgc2VsZWN0ZWRXb3JkQ291bnQ6IGNvdW50IH0pLFxuICAgICAgc2V0VHVybkR1cmF0aW9uOiAoZHVyYXRpb24pID0+IHNldCh7IHR1cm5EdXJhdGlvbjogZHVyYXRpb24gfSksXG4gICAgICBzdGFydEdhbWU6ICh3b3JkcykgPT4ge1xuICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgY291bnQgPSBzdGF0ZS5zZWxlY3RlZFdvcmRDb3VudCA/PyB3b3Jkcy5sZW5ndGg7XG4gICAgICAgICAgY29uc3Qgc2h1ZmZsZWRXb3JkcyA9IFsuLi53b3Jkc10uc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTtcbiAgICAgICAgICBjb25zdCBnYW1lV29yZHMgPSBzaHVmZmxlZFdvcmRzLnNsaWNlKDAsIGNvdW50KTtcbiAgICAgICAgICBzdGF0ZS5nYW1lU3RhdHVzID0gJ2dldC1yZWFkeSc7XG4gICAgICAgICAgc3RhdGUud29yZHMgPSBnYW1lV29yZHM7XG4gICAgICAgICAgc3RhdGUudW5zZWVuV29yZHMgPSBbLi4uZ2FtZVdvcmRzXS5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xuICAgICAgICAgIHN0YXRlLmd1ZXNzZWRXb3Jkc1RoaXNSb3VuZCA9IFtdO1xuICAgICAgICAgIHN0YXRlLmN1cnJlbnRUZWFtSW5kZXggPSAwO1xuICAgICAgICAgIHN0YXRlLnJvdW5kID0gMTtcbiAgICAgICAgICBzdGF0ZS5ib251c1RpbWUgPSBudWxsO1xuICAgICAgICAgIHN0YXRlLnRlYW1zLmZvckVhY2godCA9PiB0LnNjb3JlID0gMCk7XG4gICAgICAgICAgc3RhdGUubGFzdEd1ZXNzZWRXb3JkID0gbnVsbDtcbiAgICAgICAgICBzdGF0ZS5sYXN0UGFzc2VkV29yZCA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHN0YXJ0VHVybjogKCkgPT4ge1xuICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuZ2FtZVN0YXR1cyA9ICdwbGF5aW5nJztcbiAgICAgICAgICBzdGF0ZS50aW1lTGVmdCA9IHN0YXRlLmJvbnVzVGltZSA/PyBzdGF0ZS50dXJuRHVyYXRpb247XG4gICAgICAgICAgc3RhdGUuYm9udXNUaW1lID0gbnVsbDtcbiAgICAgICAgICBzdGF0ZS5sYXN0R3Vlc3NlZFdvcmQgPSBudWxsO1xuICAgICAgICAgIHN0YXRlLmxhc3RQYXNzZWRXb3JkID0gbnVsbDtcbiAgICAgICAgICBzdGF0ZS53b3Jkc0d1ZXNzZWRUaGlzVHVybiA9IFtdO1xuICAgICAgICAgIHN0YXRlLnR1cm5FbmRSZWFzb24gPSBudWxsO1xuICAgICAgICAgIGlmIChzdGF0ZS51bnNlZW5Xb3Jkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50V29yZCA9IHN0YXRlLnVuc2VlbldvcmRzLnBvcCgpITtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudFdvcmQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZW5kVHVybjogKCkgPT4ge1xuICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRXb3JkKSB7XG4gICAgICAgICAgICBjb25zdCBleHBpcmVkV29yZCA9IHN0YXRlLmN1cnJlbnRXb3JkO1xuICAgICAgICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoc3RhdGUudW5zZWVuV29yZHMubGVuZ3RoICsgMSkpO1xuICAgICAgICAgICAgc3RhdGUudW5zZWVuV29yZHMuc3BsaWNlKGluc2VydEluZGV4LCAwLCBleHBpcmVkV29yZCk7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50V29yZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXRlLmdhbWVTdGF0dXMgPSAndHVybi1zdW1tYXJ5JztcbiAgICAgICAgICBzdGF0ZS50dXJuRW5kUmVhc29uID0gJ3RpbWUtdXAnO1xuICAgICAgICAgIHN0YXRlLmxhc3RHdWVzc2VkV29yZCA9IG51bGw7XG4gICAgICAgICAgc3RhdGUubGFzdFBhc3NlZFdvcmQgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBwcm9jZWVkVG9OZXh0VHVybjogKCkgPT4ge1xuICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyB0ZWFtcywgcm91bmQsIHVuc2VlbldvcmRzLCB3b3JkcywgY3VycmVudFRlYW1JbmRleCB9ID0gc3RhdGU7XG4gICAgICAgICAgY29uc3QgbmV4dFRlYW1JbmRleCA9IChjdXJyZW50VGVhbUluZGV4ICsgMSkgJSB0ZWFtcy5sZW5ndGg7XG4gICAgICAgICAgc3RhdGUubGFzdEd1ZXNzZWRXb3JkID0gbnVsbDtcbiAgICAgICAgICBzdGF0ZS5sYXN0UGFzc2VkV29yZCA9IG51bGw7XG4gICAgICAgICAgaWYgKHVuc2VlbldvcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKHJvdW5kID09PSAzKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmdhbWVTdGF0dXMgPSAnZ2FtZS1vdmVyJztcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgaXQncyBhIGJvbnVzIHR1cm4sIHdlIHN0YXkgd2l0aCB0aGUgc2FtZSB0ZWFtXG4gICAgICAgICAgICBpZiAoc3RhdGUuYm9udXNUaW1lID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRUZWFtSW5kZXggPSBuZXh0VGVhbUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUucm91bmQgKz0gMTtcbiAgICAgICAgICAgIHN0YXRlLmd1ZXNzZWRXb3Jkc1RoaXNSb3VuZCA9IFtdO1xuICAgICAgICAgICAgc3RhdGUudW5zZWVuV29yZHMgPSBbLi4ud29yZHNdLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XG4gICAgICAgICAgICBzdGF0ZS5nYW1lU3RhdHVzID0gJ2dldC1yZWFkeSc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRUZWFtSW5kZXggPSBuZXh0VGVhbUluZGV4O1xuICAgICAgICAgICAgc3RhdGUuZ2FtZVN0YXR1cyA9ICdnZXQtcmVhZHknO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgaGFuZGxlQ29ycmVjdDogKCkgPT4ge1xuICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgaWYgKHN0YXRlLmN1cnJlbnRXb3JkKSB7XG4gICAgICAgICAgICBjb25zdCB0ZWFtID0gc3RhdGUudGVhbXNbc3RhdGUuY3VycmVudFRlYW1JbmRleF07XG4gICAgICAgICAgICB0ZWFtLnNjb3JlICs9IHN0YXRlLmN1cnJlbnRXb3JkLmRpZmZpY3VsdHk7XG4gICAgICAgICAgICBzdGF0ZS53b3Jkc0d1ZXNzZWRUaGlzVHVybi5wdXNoKHN0YXRlLmN1cnJlbnRXb3JkKTtcbiAgICAgICAgICAgIHN0YXRlLmd1ZXNzZWRXb3Jkc1RoaXNSb3VuZC5wdXNoKHN0YXRlLmN1cnJlbnRXb3JkKTtcbiAgICAgICAgICAgIHN0YXRlLmxhc3RHdWVzc2VkV29yZCA9IHN0YXRlLmN1cnJlbnRXb3JkO1xuICAgICAgICAgICAgc3RhdGUubGFzdFBhc3NlZFdvcmQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3RhdGUudW5zZWVuV29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudFdvcmQgPSBzdGF0ZS51bnNlZW5Xb3Jkcy5wb3AoKSE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRXb3JkID0gbnVsbDtcbiAgICAgICAgICAgIHN0YXRlLmxhc3RHdWVzc2VkV29yZCA9IG51bGw7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UGFzc2VkV29yZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3RhdGUudGltZUxlZnQgPiAzICYmIHN0YXRlLnJvdW5kIDwgMykge1xuICAgICAgICAgICAgICBzdGF0ZS5ib251c1RpbWUgPSBzdGF0ZS50aW1lTGVmdDtcbiAgICAgICAgICAgICAgc3RhdGUuZ2FtZVN0YXR1cyA9ICd0dXJuLXN1bW1hcnknO1xuICAgICAgICAgICAgICBzdGF0ZS50dXJuRW5kUmVhc29uID0gJ3dvcmRzLWV4aGF1c3RlZCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdGF0ZS5nYW1lU3RhdHVzID0gJ3R1cm4tc3VtbWFyeSc7XG4gICAgICAgICAgICAgIHN0YXRlLnR1cm5FbmRSZWFzb24gPSAnd29yZHMtZXhoYXVzdGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZVBhc3M6ICgpID0+IHtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50V29yZCAmJiBzdGF0ZS51bnNlZW5Xb3Jkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBwYXNzZWRXb3JkID0gc3RhdGUuY3VycmVudFdvcmQ7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UGFzc2VkV29yZCA9IHBhc3NlZFdvcmQ7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0R3Vlc3NlZFdvcmQgPSBudWxsO1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudFdvcmQgPSBzdGF0ZS51bnNlZW5Xb3Jkcy5wb3AoKSE7XG4gICAgICAgICAgICBjb25zdCBpbnNlcnRJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguY2VpbChzdGF0ZS51bnNlZW5Xb3Jkcy5sZW5ndGggLyAyKSk7XG4gICAgICAgICAgICBzdGF0ZS51bnNlZW5Xb3Jkcy5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIHBhc3NlZFdvcmQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdW5kb0xhc3RBY3Rpb246ICgpID0+IHtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGlmIChzdGF0ZS5sYXN0R3Vlc3NlZFdvcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlYW0gPSBzdGF0ZS50ZWFtc1tzdGF0ZS5jdXJyZW50VGVhbUluZGV4XTtcbiAgICAgICAgICAgIHRlYW0uc2NvcmUgLT0gc3RhdGUubGFzdEd1ZXNzZWRXb3JkLmRpZmZpY3VsdHk7XG4gICAgICAgICAgICBzdGF0ZS53b3Jkc0d1ZXNzZWRUaGlzVHVybi5wb3AoKTtcbiAgICAgICAgICAgIHN0YXRlLmd1ZXNzZWRXb3Jkc1RoaXNSb3VuZCA9IHN0YXRlLmd1ZXNzZWRXb3Jkc1RoaXNSb3VuZC5maWx0ZXIoXG4gICAgICAgICAgICAgICh3b3JkKSA9PiB3b3JkLnRlcm0gIT09IHN0YXRlLmxhc3RHdWVzc2VkV29yZCEudGVybVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50V29yZCkge1xuICAgICAgICAgICAgICBzdGF0ZS51bnNlZW5Xb3Jkcy5wdXNoKHN0YXRlLmN1cnJlbnRXb3JkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRXb3JkID0gc3RhdGUubGFzdEd1ZXNzZWRXb3JkO1xuICAgICAgICAgICAgc3RhdGUubGFzdEd1ZXNzZWRXb3JkID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmxhc3RQYXNzZWRXb3JkKSB7XG4gICAgICAgICAgICBjb25zdCB3b3JkVG9SZXN0b3JlQXNDdXJyZW50ID0gc3RhdGUubGFzdFBhc3NlZFdvcmQ7XG4gICAgICAgICAgICBjb25zdCB3b3JkVG9SZXR1cm5Ub0RlY2sgPSBzdGF0ZS5jdXJyZW50V29yZDtcbiAgICAgICAgICAgIHN0YXRlLnVuc2VlbldvcmRzID0gc3RhdGUudW5zZWVuV29yZHMuZmlsdGVyKFxuICAgICAgICAgICAgICAod29yZCkgPT4gd29yZC50ZXJtICE9PSB3b3JkVG9SZXN0b3JlQXNDdXJyZW50LnRlcm1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAod29yZFRvUmV0dXJuVG9EZWNrKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnVuc2VlbldvcmRzLnB1c2god29yZFRvUmV0dXJuVG9EZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRXb3JkID0gd29yZFRvUmVzdG9yZUFzQ3VycmVudDtcbiAgICAgICAgICAgIHN0YXRlLmxhc3RQYXNzZWRXb3JkID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHRpY2s6ICgpID0+IHtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGlmIChzdGF0ZS5nYW1lU3RhdHVzID09PSAncGxheWluZycpIHtcbiAgICAgICAgICAgIHN0YXRlLnRpbWVMZWZ0IC09IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICByZXNldFNldHVwOiAoKSA9PiB7XG4gICAgICAgIHNldCh7XG4gICAgICAgICAgdGVhbXM6IFtdLFxuICAgICAgICAgIHNlbGVjdGVkRGVjazogbnVsbCxcbiAgICAgICAgICBjdXN0b21EZWNrOiBudWxsLFxuICAgICAgICAgIGdhbWVTdGF0dXM6ICdzZXR1cCcsXG4gICAgICAgICAgc2V0dXBTdGVwOiAndGVhbXMnLFxuICAgICAgICAgIHNlbGVjdGVkV29yZENvdW50OiBudWxsLFxuICAgICAgICAgIHR1cm5EdXJhdGlvbjogREVGQVVMVF9UVVJOX0RVUkFUSU9OLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICByZXNldEdhbWU6ICgpID0+IHtcbiAgICAgICAgc2V0KHtcbiAgICAgICAgICB0ZWFtczogW10sXG4gICAgICAgICAgc2VsZWN0ZWREZWNrOiBudWxsLFxuICAgICAgICAgIGN1c3RvbURlY2s6IG51bGwsXG4gICAgICAgICAgZ2FtZVN0YXR1czogJ3NldHVwJyxcbiAgICAgICAgICBzZXR1cFN0ZXA6ICd0ZWFtcycsXG4gICAgICAgICAgcm91bmQ6IDEsXG4gICAgICAgICAgY3VycmVudFRlYW1JbmRleDogMCxcbiAgICAgICAgICB3b3JkczogW10sXG4gICAgICAgICAgdW5zZWVuV29yZHM6IFtdLFxuICAgICAgICAgIGd1ZXNzZWRXb3Jkc1RoaXNSb3VuZDogW10sXG4gICAgICAgICAgY3VycmVudFdvcmQ6IG51bGwsXG4gICAgICAgICAgbGFzdEd1ZXNzZWRXb3JkOiBudWxsLFxuICAgICAgICAgIGxhc3RQYXNzZWRXb3JkOiBudWxsLFxuICAgICAgICAgIHdvcmRzR3Vlc3NlZFRoaXNUdXJuOiBbXSxcbiAgICAgICAgICB0aW1lTGVmdDogREVGQVVMVF9UVVJOX0RVUkFUSU9OLFxuICAgICAgICAgIHR1cm5FbmRSZWFzb246IG51bGwsXG4gICAgICAgICAgYm9udXNUaW1lOiBudWxsLFxuICAgICAgICAgIHNlbGVjdGVkV29yZENvdW50OiBudWxsLFxuICAgICAgICAgIHR1cm5EdXJhdGlvbjogREVGQVVMVF9UVVJOX0RVUkFUSU9OLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSkpLFxuICAgIHtcbiAgICAgIG5hbWU6ICd5YXlnYXJhLXN0b3JhZ2UnLFxuICAgICAgc3RvcmFnZTogY3JlYXRlSlNPTlN0b3JhZ2UoKCkgPT4gbG9jYWxTdG9yYWdlKSxcbiAgICB9XG4gIClcbik7IiwiY29uc3QgaXNJdGVyYWJsZSA9IChvYmopID0+IFN5bWJvbC5pdGVyYXRvciBpbiBvYmo7XG5jb25zdCBoYXNJdGVyYWJsZUVudHJpZXMgPSAodmFsdWUpID0+IChcbiAgLy8gSEFDSzogYXZvaWQgY2hlY2tpbmcgZW50cmllcyB0eXBlXG4gIFwiZW50cmllc1wiIGluIHZhbHVlXG4pO1xuY29uc3QgY29tcGFyZUVudHJpZXMgPSAodmFsdWVBLCB2YWx1ZUIpID0+IHtcbiAgY29uc3QgbWFwQSA9IHZhbHVlQSBpbnN0YW5jZW9mIE1hcCA/IHZhbHVlQSA6IG5ldyBNYXAodmFsdWVBLmVudHJpZXMoKSk7XG4gIGNvbnN0IG1hcEIgPSB2YWx1ZUIgaW5zdGFuY2VvZiBNYXAgPyB2YWx1ZUIgOiBuZXcgTWFwKHZhbHVlQi5lbnRyaWVzKCkpO1xuICBpZiAobWFwQS5zaXplICE9PSBtYXBCLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgbWFwQSkge1xuICAgIGlmICghbWFwQi5oYXMoa2V5KSB8fCAhT2JqZWN0LmlzKHZhbHVlLCBtYXBCLmdldChrZXkpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBjb21wYXJlSXRlcmFibGVzID0gKHZhbHVlQSwgdmFsdWVCKSA9PiB7XG4gIGNvbnN0IGl0ZXJhdG9yQSA9IHZhbHVlQVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIGNvbnN0IGl0ZXJhdG9yQiA9IHZhbHVlQltTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIGxldCBuZXh0QSA9IGl0ZXJhdG9yQS5uZXh0KCk7XG4gIGxldCBuZXh0QiA9IGl0ZXJhdG9yQi5uZXh0KCk7XG4gIHdoaWxlICghbmV4dEEuZG9uZSAmJiAhbmV4dEIuZG9uZSkge1xuICAgIGlmICghT2JqZWN0LmlzKG5leHRBLnZhbHVlLCBuZXh0Qi52YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbmV4dEEgPSBpdGVyYXRvckEubmV4dCgpO1xuICAgIG5leHRCID0gaXRlcmF0b3JCLm5leHQoKTtcbiAgfVxuICByZXR1cm4gISFuZXh0QS5kb25lICYmICEhbmV4dEIuZG9uZTtcbn07XG5mdW5jdGlvbiBzaGFsbG93KHZhbHVlQSwgdmFsdWVCKSB7XG4gIGlmIChPYmplY3QuaXModmFsdWVBLCB2YWx1ZUIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZUEgIT09IFwib2JqZWN0XCIgfHwgdmFsdWVBID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZUIgIT09IFwib2JqZWN0XCIgfHwgdmFsdWVCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWVBKSAhPT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlQikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGlzSXRlcmFibGUodmFsdWVBKSAmJiBpc0l0ZXJhYmxlKHZhbHVlQikpIHtcbiAgICBpZiAoaGFzSXRlcmFibGVFbnRyaWVzKHZhbHVlQSkgJiYgaGFzSXRlcmFibGVFbnRyaWVzKHZhbHVlQikpIHtcbiAgICAgIHJldHVybiBjb21wYXJlRW50cmllcyh2YWx1ZUEsIHZhbHVlQik7XG4gICAgfVxuICAgIHJldHVybiBjb21wYXJlSXRlcmFibGVzKHZhbHVlQSwgdmFsdWVCKTtcbiAgfVxuICByZXR1cm4gY29tcGFyZUVudHJpZXMoXG4gICAgeyBlbnRyaWVzOiAoKSA9PiBPYmplY3QuZW50cmllcyh2YWx1ZUEpIH0sXG4gICAgeyBlbnRyaWVzOiAoKSA9PiBPYmplY3QuZW50cmllcyh2YWx1ZUIpIH1cbiAgKTtcbn1cblxuZXhwb3J0IHsgc2hhbGxvdyB9O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHNoYWxsb3cgfSBmcm9tICd6dXN0YW5kL3ZhbmlsbGEvc2hhbGxvdyc7XG5cbmZ1bmN0aW9uIHVzZVNoYWxsb3coc2VsZWN0b3IpIHtcbiAgY29uc3QgcHJldiA9IFJlYWN0LnVzZVJlZih2b2lkIDApO1xuICByZXR1cm4gKHN0YXRlKSA9PiB7XG4gICAgY29uc3QgbmV4dCA9IHNlbGVjdG9yKHN0YXRlKTtcbiAgICByZXR1cm4gc2hhbGxvdyhwcmV2LmN1cnJlbnQsIG5leHQpID8gcHJldi5jdXJyZW50IDogcHJldi5jdXJyZW50ID0gbmV4dDtcbiAgfTtcbn1cblxuZXhwb3J0IHsgdXNlU2hhbGxvdyB9O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVBhcmFtcywgdXNlTmF2aWdhdGUsIHVzZUxvY2F0aW9uIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyB1c2VHYW1lU3RvcmUsIExhbmd1YWdlIH0gZnJvbSAnQC9zdG9yZXMvdXNlR2FtZVN0b3JlJztcbmltcG9ydCB7IHVzZVNoYWxsb3cgfSBmcm9tICd6dXN0YW5kL3JlYWN0L3NoYWxsb3cnO1xuXG5jb25zdCBTVVBQT1JURURfTEFOR1VBR0VTOiBMYW5ndWFnZVtdID0gWydlbicsICd0ciddO1xuY29uc3QgREVGQVVMVF9MQU5HVUFHRTogTGFuZ3VhZ2UgPSAnZW4nO1xuXG5leHBvcnQgY29uc3QgTGFuZ3VhZ2VXcmFwcGVyOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gICAgY29uc3QgeyBsYW5nIH0gPSB1c2VQYXJhbXM8eyBsYW5nOiBzdHJpbmcgfT4oKTtcbiAgICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gICAgY29uc3QgeyBwYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgICBjb25zdCB7IGxhbmd1YWdlLCBzZXRMYW5ndWFnZSB9ID0gdXNlR2FtZVN0b3JlKFxuICAgICAgICB1c2VTaGFsbG93KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICAgIGxhbmd1YWdlOiBzdGF0ZS5sYW5ndWFnZSxcbiAgICAgICAgICAgIHNldExhbmd1YWdlOiBzdGF0ZS5zZXRMYW5ndWFnZSxcbiAgICAgICAgfSkpXG4gICAgKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMYW5nID0gbGFuZyBhcyBMYW5ndWFnZTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRMYW5nIHx8ICFTVVBQT1JURURfTEFOR1VBR0VTLmluY2x1ZGVzKGN1cnJlbnRMYW5nKSkge1xuICAgICAgICAgICAgLy8gSWYgbm8gbGFuZyBvciB1bnN1cHBvcnRlZCBsYW5nLCByZWRpcmVjdCB0byBkZWZhdWx0IG9yIGRldGVjdGVkIGxhbmdcbiAgICAgICAgICAgIC8vIEZvciBub3csIGxldCdzIGp1c3QgaGFuZGxlIHRoaXMgaW4gdGhlIHJvb3QgcmVkaXJlY3RvciwgXG4gICAgICAgICAgICAvLyBidXQgYXMgYSBmYWxsYmFjaywgd2UgY2FuIHJlZGlyZWN0IHRvIC9lblxuICAgICAgICAgICAgaWYgKCFjdXJyZW50TGFuZykge1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gTGV0IHRoZSByb290IHJlZGlyZWN0b3IgaGFuZGxlIGl0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuYXZpZ2F0ZShgLyR7REVGQVVMVF9MQU5HVUFHRX1gLCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudExhbmcgIT09IGxhbmd1YWdlKSB7XG4gICAgICAgICAgICBzZXRMYW5ndWFnZShjdXJyZW50TGFuZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgSFRNTCBsYW5nIGFuZCBkaXJcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcgPSBjdXJyZW50TGFuZztcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRpciA9ICdsdHInO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBTRU8gVGFnc1xuICAgICAgICB1cGRhdGVTRU9UYWdzKGN1cnJlbnRMYW5nLCBwYXRobmFtZSk7XG4gICAgfSwgW2xhbmcsIGxhbmd1YWdlLCBzZXRMYW5ndWFnZSwgbmF2aWdhdGUsIHBhdGhuYW1lXSk7XG5cbiAgICByZXR1cm4gPD57Y2hpbGRyZW59PC8+O1xufTtcblxuZnVuY3Rpb24gdXBkYXRlU0VPVGFncyhsYW5nOiBMYW5ndWFnZSwgcGF0aG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IGJhc2VVcmwgPSAnaHR0cHM6Ly95YXlnYXJhLm1lcnRza2FwbGFuLmNvbSc7XG4gICAgY29uc3QgbGFuZ3VhZ2VzOiBMYW5ndWFnZVtdID0gWydlbicsICd0ciddO1xuXG4gICAgLy8gUmVtb3ZlIGV4aXN0aW5nIENhbm9uaWNhbCBhbmQgSHJlZmxhbmcgdGFncyB0byBhdm9pZCBkdXBsaWNhdGVzXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGlua1tyZWw9XCJjYW5vbmljYWxcIl0nKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdsaW5rW3JlbD1cImFsdGVybmF0ZVwiXVtocmVmbGFuZ10nKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcblxuICAgIC8vIENhbm9uaWNhbFxuICAgIGNvbnN0IGNhbm9uaWNhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICBjYW5vbmljYWwuc2V0QXR0cmlidXRlKCdyZWwnLCAnY2Fub25pY2FsJyk7XG4gICAgY2Fub25pY2FsLnNldEF0dHJpYnV0ZSgnaHJlZicsIGAke2Jhc2VVcmx9JHtwYXRobmFtZX1gKTtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGNhbm9uaWNhbCk7XG5cbiAgICAvLyBVcGRhdGUgTWV0YSBEZXNjcmlwdGlvbiBhbmQgT0cgdGFnc1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uczogUmVjb3JkPExhbmd1YWdlLCBzdHJpbmc+ID0ge1xuICAgICAgICBlbjogJ0Z1biBwYXJ0eSBnYW1lIGJhc2VkIG9uIG5hcnJhdGlvbiBhbmQgZ3Vlc3NpbmcnLFxuICAgICAgICB0cjogJ0FubGF0bWEgdmUgdGFobWluZSBkYXlhbMSxIGXEn2xlbmNlbGkgcGFydGkgb3l1bnUnXG4gICAgfTtcblxuICAgIGNvbnN0IG9nVGl0bGVzOiBSZWNvcmQ8TGFuZ3VhZ2UsIHN0cmluZz4gPSB7XG4gICAgICAgIGVuOiAnWWF5Z2FyYTogRnVuIHBhcnR5IGdhbWUgYmFzZWQgb24gbmFycmF0aW9uIGFuZCBndWVzc2luZycsXG4gICAgICAgIHRyOiAnWWF5Z2FyYTogQW5sYXRtYSB2ZSB0YWhtaW5lIGRheWFsxLEgZcSfbGVuY2VsaSBwYXJ0aSBveXVudSdcbiAgICB9O1xuXG4gICAgY29uc3QgdGl0bGVzOiBSZWNvcmQ8TGFuZ3VhZ2UsIHN0cmluZz4gPSB7XG4gICAgICAgIGVuOiAnWWF5Z2FyYSB8IEZ1biBwYXJ0eSBnYW1lIGJhc2VkIG9uIG5hcnJhdGlvbiBhbmQgZ3Vlc3NpbmcnLFxuICAgICAgICB0cjogJ1lheWdhcmEgfCBBbmxhdG1hIHZlIHRhaG1pbmUgZGF5YWzEsSBlxJ9sZW5jZWxpIHBhcnRpIG95dW51J1xuICAgIH07XG5cbiAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlc1tsYW5nXTtcblxuICAgIGxldCBtZXRhRGVzYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImRlc2NyaXB0aW9uXCJdJyk7XG4gICAgaWYgKG1ldGFEZXNjKSBtZXRhRGVzYy5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnLCBkZXNjcmlwdGlvbnNbbGFuZ10pO1xuXG4gICAgbGV0IG9nVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwib2c6dGl0bGVcIl0nKTtcbiAgICBpZiAob2dUaXRsZSkgb2dUaXRsZS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnLCBvZ1RpdGxlc1tsYW5nXSk7XG5cbiAgICBsZXQgb2dEZXNjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtwcm9wZXJ0eT1cIm9nOmRlc2NyaXB0aW9uXCJdJyk7XG4gICAgaWYgKG9nRGVzYykgb2dEZXNjLnNldEF0dHJpYnV0ZSgnY29udGVudCcsIGRlc2NyaXB0aW9uc1tsYW5nXSk7XG5cbiAgICAvLyBIcmVmbGFuZyBUYWdzIChlbiwgdHIpXG4gICAgbGFuZ3VhZ2VzLmZvckVhY2gobCA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdyZWwnLCAnYWx0ZXJuYXRlJyk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmbGFuZycsIGwpO1xuICAgICAgICBjb25zdCB0YXJnZXRQYXRoID0gZ2V0TG9jYWxpemVkUGF0aChwYXRobmFtZSwgbCk7XG4gICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgYCR7YmFzZVVybH0ke3RhcmdldFBhdGh9YCk7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgfSk7XG5cbiAgICAvLyB4LWRlZmF1bHRcbiAgICBjb25zdCB4RGVmYXVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICB4RGVmYXVsdC5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdhbHRlcm5hdGUnKTtcbiAgICB4RGVmYXVsdC5zZXRBdHRyaWJ1dGUoJ2hyZWZsYW5nJywgJ3gtZGVmYXVsdCcpO1xuICAgIHhEZWZhdWx0LnNldEF0dHJpYnV0ZSgnaHJlZicsIGAke2Jhc2VVcmx9JHtnZXRMb2NhbGl6ZWRQYXRoKHBhdGhuYW1lLCAnZW4nKX1gKTtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHhEZWZhdWx0KTtcbn1cblxuLy8gTWFwIG9mIHNsdWdzIGZvciBwYXRoIHRyYW5zbGF0aW9uXG5jb25zdCBTTFVHX01BUDogUmVjb3JkPHN0cmluZywgUmVjb3JkPExhbmd1YWdlLCBzdHJpbmc+PiA9IHtcbiAgICAnc2V0dXAnOiB7IGVuOiAnc2V0dXAnLCB0cjogJ2t1cnVsdW0nIH0sXG4gICAgJ2t1cnVsdW0nOiB7IGVuOiAnc2V0dXAnLCB0cjogJ2t1cnVsdW0nIH0sXG4gICAgJ3BsYXknOiB7IGVuOiAncGxheScsIHRyOiAnb3l1bicgfSxcbiAgICAnb3l1bic6IHsgZW46ICdwbGF5JywgdHI6ICdveXVuJyB9LFxuICAgICdzY29yZSc6IHsgZW46ICdzY29yZScsIHRyOiAnc2tvcicgfSxcbiAgICAnc2tvcic6IHsgZW46ICdzY29yZScsIHRyOiAnc2tvcicgfSxcbn07XG5cbmZ1bmN0aW9uIGdldExvY2FsaXplZFBhdGgocGF0aG5hbWU6IHN0cmluZywgdGFyZ2V0TGFuZzogTGFuZ3VhZ2UpOiBzdHJpbmcge1xuICAgIGNvbnN0IHBhcnRzID0gcGF0aG5hbWUuc3BsaXQoJy8nKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGAvJHt0YXJnZXRMYW5nfWA7XG5cbiAgICAvLyBwYXJ0c1swXSBpcyB0aGUgY3VycmVudCBsYW5nXG4gICAgY29uc3QgcmVtYWluaW5nUGFydHMgPSBwYXJ0cy5zbGljZSgxKTtcbiAgICBjb25zdCBsb2NhbGl6ZWRQYXJ0cyA9IHJlbWFpbmluZ1BhcnRzLm1hcChwYXJ0ID0+IHtcbiAgICAgICAgY29uc3QgbWFwcGluZyA9IFNMVUdfTUFQW3BhcnRdO1xuICAgICAgICByZXR1cm4gbWFwcGluZyA/IG1hcHBpbmdbdGFyZ2V0TGFuZ10gOiBwYXJ0O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGAvJHt0YXJnZXRMYW5nfSR7bG9jYWxpemVkUGFydHMubGVuZ3RoID4gMCA/ICcvJyArIGxvY2FsaXplZFBhcnRzLmpvaW4oJy8nKSA6ICcnfWA7XG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IHVzZUdhbWVTdG9yZSwgTGFuZ3VhZ2UgfSBmcm9tICdAL3N0b3Jlcy91c2VHYW1lU3RvcmUnO1xuXG5leHBvcnQgY29uc3QgUm9vdFJlZGlyZWN0b3I6IFJlYWN0LkZDID0gKCkgPT4ge1xuICAgIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgICBjb25zdCBsYW5ndWFnZSA9IHVzZUdhbWVTdG9yZSgoc3RhdGUpID0+IHN0YXRlLmxhbmd1YWdlKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGJyb3dzZXJMYW5nID0gbmF2aWdhdG9yLmxhbmd1YWdlLnNwbGl0KCctJylbMF07XG4gICAgICAgIGNvbnN0IHRhcmdldExhbmc6IExhbmd1YWdlID0gYnJvd3NlckxhbmcgPT09ICd0cicgPyAndHInIDogJ2VuJztcbiAgICAgICAgbmF2aWdhdGUoYC8ke3RhcmdldExhbmd9YCwgeyByZXBsYWNlOiB0cnVlIH0pO1xuICAgIH0sIFtuYXZpZ2F0ZV0pO1xuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUdhbWVTdG9yZSB9IGZyb20gJ0Avc3RvcmVzL3VzZUdhbWVTdG9yZSc7XG5cbmV4cG9ydCBjb25zdCBUaGVtZU1hbmFnZXI6IFJlYWN0LkZDPHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9PiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgICBjb25zdCB0aGVtZSA9IHVzZUdhbWVTdG9yZSgoc3RhdGUpID0+IHN0YXRlLnRoZW1lKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBpZiAodGhlbWUgPT09ICdkYXJrJykge1xuICAgICAgICAgICAgcm9vdC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb290LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmsnKTtcbiAgICAgICAgfVxuICAgIH0sIFt0aGVtZV0pO1xuXG4gICAgLy8gSGFuZGxlIHN5c3RlbSBwcmVmZXJlbmNlIGNoYW5nZXMgaWYgd2Ugd2FudCB0byBzeW5jXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgbWVkaWFRdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJyk7XG4gICAgICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChlOiBNZWRpYVF1ZXJ5TGlzdEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBPbmx5IHN5bmMgaWYgdXNlciBoYXNuJ3QgbWFudWFsbHkgc2V0IGEgcHJlZmVyZW5jZT9cbiAgICAgICAgICAgIC8vIEZvciBub3csIHdlIHByaW9yaXRpemUgdGhlIHN0b3JlICh3aGljaCBwZXJzaXN0cykuXG4gICAgICAgIH07XG4gICAgICAgIG1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgaGFuZGxlQ2hhbmdlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IG1lZGlhUXVlcnkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgaGFuZGxlQ2hhbmdlKTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gPD57Y2hpbGRyZW59PC8+O1xufTtcbiIsImV4cG9ydCBjb25zdCB0cmFuc2xhdGlvbnNDYWNoZTogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuY29uc3QgU1VQUE9SVEVEX0xBTkdVQUdFUyA9IFsnZW4nLCAndHInXTtcbmNvbnN0IHBlbmRpbmdGZXRjaGVzOiBSZWNvcmQ8c3RyaW5nLCBQcm9taXNlPGFueT4+ID0ge307XG5leHBvcnQgY29uc3QgZmV0Y2hUcmFuc2xhdGlvbnMgPSBhc3luYyAobGFuZzogc3RyaW5nKSA9PiB7XG4gIGlmICh0cmFuc2xhdGlvbnNDYWNoZVtsYW5nXSkge1xuICAgIHJldHVybiB0cmFuc2xhdGlvbnNDYWNoZVtsYW5nXTtcbiAgfVxuICBpZiAocGVuZGluZ0ZldGNoZXNbbGFuZ10pIHtcbiAgICByZXR1cm4gcGVuZGluZ0ZldGNoZXNbbGFuZ107XG4gIH1cbiAgY29uc3QgZmV0Y2hQcm9taXNlID0gZmV0Y2goYC9sb2NhbGVzLyR7bGFuZ30uanNvbmApXG4gICAgLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoICR7bGFuZ30uanNvbmApO1xuICAgICAgfVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHRyYW5zbGF0aW9uc0NhY2hlW2xhbmddID0gZGF0YTtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRmV0Y2hlc1tsYW5nXTtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IGxvYWQgdHJhbnNsYXRpb25zIGZvciBsYW5ndWFnZTogJHtsYW5nfWAsIGVycm9yKTtcbiAgICAgIGRlbGV0ZSBwZW5kaW5nRmV0Y2hlc1tsYW5nXTtcbiAgICAgIC8vIEZhbGxiYWNrIHRvIEVuZ2xpc2ggaWYgdGhlIHNlbGVjdGVkIGxhbmd1YWdlIGZhaWxzXG4gICAgICBpZiAobGFuZyAhPT0gJ2VuJykge1xuICAgICAgICByZXR1cm4gZmV0Y2hUcmFuc2xhdGlvbnMoJ2VuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge307IC8vIFJldHVybiBlbXB0eSBvYmplY3QgaWYgRW5nbGlzaCBhbHNvIGZhaWxzXG4gICAgfSk7XG4gIHBlbmRpbmdGZXRjaGVzW2xhbmddID0gZmV0Y2hQcm9taXNlO1xuICByZXR1cm4gZmV0Y2hQcm9taXNlO1xufTtcbmxldCBwcmVsb2FkUHJvbWlzZTogUHJvbWlzZTxhbnlbXT4gfCBudWxsID0gbnVsbDtcbmV4cG9ydCBjb25zdCBwcmVsb2FkVHJhbnNsYXRpb25zID0gKCkgPT4ge1xuICBpZiAoIXByZWxvYWRQcm9taXNlKSB7XG4gICAgY29uc29sZS5sb2coJ1ByZWxvYWRpbmcgYWxsIHRyYW5zbGF0aW9ucy4uLicpO1xuICAgIHByZWxvYWRQcm9taXNlID0gUHJvbWlzZS5hbGwoU1VQUE9SVEVEX0xBTkdVQUdFUy5tYXAobGFuZyA9PiBmZXRjaFRyYW5zbGF0aW9ucyhsYW5nKSkpO1xuICB9XG4gIHJldHVybiBwcmVsb2FkUHJvbWlzZTtcbn07IiwiaW1wb3J0IHR5cGUgeyBEZWNrIH0gZnJvbSAnQC90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVja01hbmlmZXN0SXRlbSBleHRlbmRzIE9taXQ8RGVjaywgJ3dvcmRzJz4ge1xuICAgIGZpbGVuYW1lOiBzdHJpbmc7XG4gICAgd29yZENvdW50OiBudW1iZXI7XG59XG5cbmxldCBtYW5pZmVzdFByb21pc2U6IFByb21pc2U8RGVja01hbmlmZXN0SXRlbVtdPiB8IG51bGwgPSBudWxsO1xuY29uc3QgZGVja0NhY2hlOiBSZWNvcmQ8c3RyaW5nLCBQcm9taXNlPERlY2s+PiA9IHt9O1xuXG4vKipcbiAqIEZldGNoZXMgdGhlIGRlY2tzIG1hbmlmZXN0LiBJZiBhIHJlcXVlc3QgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgXG4gKiByZXR1cm5zIHRoZSBleGlzdGluZyBwcm9taXNlIHRvIGF2b2lkIGR1cGxpY2F0ZSBmZXRjaGVzLlxuICovXG5leHBvcnQgY29uc3QgZmV0Y2hEZWNrc01hbmlmZXN0ID0gKCk6IFByb21pc2U8RGVja01hbmlmZXN0SXRlbVtdPiA9PiB7XG4gICAgaWYgKG1hbmlmZXN0UHJvbWlzZSkge1xuICAgICAgICByZXR1cm4gbWFuaWZlc3RQcm9taXNlO1xuICAgIH1cblxuICAgIG1hbmlmZXN0UHJvbWlzZSA9IGZldGNoKCcvZGVja3MtbWFuaWZlc3QuanNvbicpXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggZGVja3MtbWFuaWZlc3QuanNvbicpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGVja3MgbWFuaWZlc3Q6JywgZXJyKTtcbiAgICAgICAgICAgIG1hbmlmZXN0UHJvbWlzZSA9IG51bGw7IC8vIEFsbG93IHJldHJ5IG9uIGZhaWx1cmVcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfSk7XG5cbiAgICByZXR1cm4gbWFuaWZlc3RQcm9taXNlO1xufTtcblxuLyoqXG4gKiBGZXRjaGVzIGEgZnVsbCBkZWNrIGJ5IGZpbGVuYW1lIHdpdGggY2FjaGluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGZldGNoRnVsbERlY2sgPSAoZmlsZW5hbWU6IHN0cmluZyk6IFByb21pc2U8RGVjaz4gPT4ge1xuICAgIGlmIChkZWNrQ2FjaGVbZmlsZW5hbWVdKSB7XG4gICAgICAgIHJldHVybiBkZWNrQ2FjaGVbZmlsZW5hbWVdO1xuICAgIH1cblxuICAgIGRlY2tDYWNoZVtmaWxlbmFtZV0gPSBmZXRjaChgL2RlY2tzLyR7ZmlsZW5hbWV9YClcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBkZWNrOiAke2ZpbGVuYW1lfWApO1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgZGVjayAke2ZpbGVuYW1lfTpgLCBlcnIpO1xuICAgICAgICAgICAgZGVsZXRlIGRlY2tDYWNoZVtmaWxlbmFtZV07IC8vIEFsbG93IHJldHJ5XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0pO1xuXG4gICAgcmV0dXJuIGRlY2tDYWNoZVtmaWxlbmFtZV07XG59O1xuIiwiaW1wb3J0IHsgZW5hYmxlTWFwU2V0IH0gZnJvbSBcImltbWVyXCI7XG5lbmFibGVNYXBTZXQoKTtcbmltcG9ydCB7IFN0cmljdE1vZGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNyZWF0ZVJvb3QgfSBmcm9tICdyZWFjdC1kb20vY2xpZW50J1xuaW1wb3J0IHtcbiAgY3JlYXRlQnJvd3NlclJvdXRlcixcbiAgUm91dGVyUHJvdmlkZXIsXG59IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBFcnJvckJvdW5kYXJ5IH0gZnJvbSAnQC9jb21wb25lbnRzL0Vycm9yQm91bmRhcnknO1xuaW1wb3J0IHsgUm91dGVFcnJvckJvdW5kYXJ5IH0gZnJvbSAnQC9jb21wb25lbnRzL1JvdXRlRXJyb3JCb3VuZGFyeSc7XG5pbXBvcnQgJ0AvaW5kZXguY3NzJ1xuaW1wb3J0IHsgTGFuZ3VhZ2VXcmFwcGVyIH0gZnJvbSAnQC9jb21wb25lbnRzL0xhbmd1YWdlV3JhcHBlcic7XG5pbXBvcnQgeyBSb290UmVkaXJlY3RvciB9IGZyb20gJ0AvY29tcG9uZW50cy9Sb290UmVkaXJlY3Rvcic7XG5pbXBvcnQgeyBUaGVtZU1hbmFnZXIgfSBmcm9tICdAL2NvbXBvbmVudHMvVGhlbWVNYW5hZ2VyJztcbmltcG9ydCB7IHByZWxvYWRUcmFuc2xhdGlvbnMgfSBmcm9tICdAL2xpYi9pMThuJztcbmltcG9ydCB7IFN1c3BlbnNlLCBsYXp5IH0gZnJvbSAncmVhY3QnO1xuXG4vLyBQcmVsb2FkIGFsbCBsYW5ndWFnZSBmaWxlcyBvbiBhcHAgc3RhcnR1cCBmb3IgaW5zdGFudCBsYW5ndWFnZSBzd2l0Y2hpbmdcbnByZWxvYWRUcmFuc2xhdGlvbnMoKTtcblxuY29uc3QgSG9tZVBhZ2UgPSBsYXp5KCgpID0+IGltcG9ydCgnQC9wYWdlcy9Ib21lUGFnZScpLnRoZW4obSA9PiAoeyBkZWZhdWx0OiBtLkhvbWVQYWdlIH0pKSk7XG5jb25zdCBTZXR1cFBhZ2UgPSBsYXp5KCgpID0+IGltcG9ydCgnQC9wYWdlcy9TZXR1cFBhZ2UnKS50aGVuKG0gPT4gKHsgZGVmYXVsdDogbS5TZXR1cFBhZ2UgfSkpKTtcbmNvbnN0IEdhbWVQYWdlID0gbGF6eSgoKSA9PiBpbXBvcnQoJ0AvcGFnZXMvR2FtZVBhZ2UnKS50aGVuKG0gPT4gKHsgZGVmYXVsdDogbS5HYW1lUGFnZSB9KSkpO1xuY29uc3QgU2NvcmVib2FyZFBhZ2UgPSBsYXp5KCgpID0+IGltcG9ydCgnQC9wYWdlcy9TY29yZWJvYXJkUGFnZScpLnRoZW4obSA9PiAoeyBkZWZhdWx0OiBtLlNjb3JlYm9hcmRQYWdlIH0pKSk7XG5cbmltcG9ydCB7IGZldGNoRGVja3NNYW5pZmVzdCwgZmV0Y2hGdWxsRGVjayB9IGZyb20gJ0AvbGliL2RlY2tzJztcblxuLy8gUHJlbG9hZCBjb21wb25lbnRzIGFuZCBkZWNrcyBpbiB0aGUgYmFja2dyb3VuZCBmb3IgaW5zdGFudCBuYXZpZ2F0aW9uIGFuZCBvZmZsaW5lIHN1cHBvcnRcbmNvbnN0IHByZWxvYWRBc3NldHMgPSAoKSA9PiB7XG4gIC8vIFdhaXQgZm9yIGluaXRpYWwgcmVuZGVyIGFuZCBpZGxlIHRpbWVcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgaW5pdGlhbCBsb2FkIGlzIGNvbXBsZXRlbHkgZmluaXNoZWRcbiAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyAxLiBQcmVsb2FkIEpTIFBhZ2VzXG4gICAgICAgIGltcG9ydCgnQC9wYWdlcy9TZXR1cFBhZ2UnKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBpbXBvcnQoJ0AvcGFnZXMvR2FtZVBhZ2UnKSwgMTAwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaW1wb3J0KCdAL3BhZ2VzL1Njb3JlYm9hcmRQYWdlJyksIDIwMDApO1xuXG4gICAgICAgIC8vIDIuIFByZWxvYWQgRGVja3NcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBtYW5pZmVzdCA9IGF3YWl0IGZldGNoRGVja3NNYW5pZmVzdCgpO1xuICAgICAgICAgIC8vIFByZWxvYWQgZGVja3Mgc2VxdWVudGlhbGx5IHRvIGF2b2lkIG5ldHdvcmsgY29uZ2VzdGlvblxuICAgICAgICAgIG1hbmlmZXN0LmZvckVhY2goKGRlY2s6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGZldGNoRnVsbERlY2soZGVjay5maWxlbmFtZSkuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgICAgIH0sIDMwMDAgKyAoaW5kZXggKiA1MDApKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcHJlbG9hZCBkZWNrc1wiLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSwgMjAwMCk7XG4gICAgfSk7XG4gIH1cbn07XG5cbnByZWxvYWRBc3NldHMoKTtcblxuY29uc3QgTG9hZGluZ1BhZ2UgPSAoKSA9PiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1zY3JlZW4tZHZoIGJnLXRyYW5zcGFyZW50XCI+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgYm9yZGVyLTQgYm9yZGVyLXNreS01MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiIC8+XG4gIDwvZGl2PlxuKTtcblxuY29uc3QgU3VzcGVuc2VMYXlvdXQgPSAoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfSkgPT4gKFxuICA8U3VzcGVuc2UgZmFsbGJhY2s9ezxMb2FkaW5nUGFnZSAvPn0+XG4gICAge2NoaWxkcmVufVxuICA8L1N1c3BlbnNlPlxuKTtcblxuY29uc3Qgcm91dGVyID0gY3JlYXRlQnJvd3NlclJvdXRlcihbXG4gIHtcbiAgICBwYXRoOiBcIi9cIixcbiAgICBlbGVtZW50OiA8Um9vdFJlZGlyZWN0b3IgLz4sXG4gICAgZXJyb3JFbGVtZW50OiA8Um91dGVFcnJvckJvdW5kYXJ5IC8+LFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvOmxhbmdcIixcbiAgICBlbGVtZW50OiA8U3VzcGVuc2VMYXlvdXQ+PExhbmd1YWdlV3JhcHBlcj48SG9tZVBhZ2UgLz48L0xhbmd1YWdlV3JhcHBlcj48L1N1c3BlbnNlTGF5b3V0PixcbiAgICBlcnJvckVsZW1lbnQ6IDxSb3V0ZUVycm9yQm91bmRhcnkgLz4sXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi86bGFuZy9zZXR1cFwiLFxuICAgIGVsZW1lbnQ6IDxTdXNwZW5zZUxheW91dD48TGFuZ3VhZ2VXcmFwcGVyPjxTZXR1cFBhZ2UgLz48L0xhbmd1YWdlV3JhcHBlcj48L1N1c3BlbnNlTGF5b3V0PixcbiAgICBlcnJvckVsZW1lbnQ6IDxSb3V0ZUVycm9yQm91bmRhcnkgLz4sXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi86bGFuZy9rdXJ1bHVtXCIsXG4gICAgZWxlbWVudDogPFN1c3BlbnNlTGF5b3V0PjxMYW5ndWFnZVdyYXBwZXI+PFNldHVwUGFnZSAvPjwvTGFuZ3VhZ2VXcmFwcGVyPjwvU3VzcGVuc2VMYXlvdXQ+LFxuICAgIGVycm9yRWxlbWVudDogPFJvdXRlRXJyb3JCb3VuZGFyeSAvPixcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiLzpsYW5nL3BsYXlcIixcbiAgICBlbGVtZW50OiA8U3VzcGVuc2VMYXlvdXQ+PExhbmd1YWdlV3JhcHBlcj48R2FtZVBhZ2UgLz48L0xhbmd1YWdlV3JhcHBlcj48L1N1c3BlbnNlTGF5b3V0PixcbiAgICBlcnJvckVsZW1lbnQ6IDxSb3V0ZUVycm9yQm91bmRhcnkgLz4sXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi86bGFuZy9veXVuXCIsXG4gICAgZWxlbWVudDogPFN1c3BlbnNlTGF5b3V0PjxMYW5ndWFnZVdyYXBwZXI+PEdhbWVQYWdlIC8+PC9MYW5ndWFnZVdyYXBwZXI+PC9TdXNwZW5zZUxheW91dD4sXG4gICAgZXJyb3JFbGVtZW50OiA8Um91dGVFcnJvckJvdW5kYXJ5IC8+LFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvOmxhbmcvc2NvcmVcIixcbiAgICBlbGVtZW50OiA8U3VzcGVuc2VMYXlvdXQ+PExhbmd1YWdlV3JhcHBlcj48U2NvcmVib2FyZFBhZ2UgLz48L0xhbmd1YWdlV3JhcHBlcj48L1N1c3BlbnNlTGF5b3V0PixcbiAgICBlcnJvckVsZW1lbnQ6IDxSb3V0ZUVycm9yQm91bmRhcnkgLz4sXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi86bGFuZy9za29yXCIsXG4gICAgZWxlbWVudDogPFN1c3BlbnNlTGF5b3V0PjxMYW5ndWFnZVdyYXBwZXI+PFNjb3JlYm9hcmRQYWdlIC8+PC9MYW5ndWFnZVdyYXBwZXI+PC9TdXNwZW5zZUxheW91dD4sXG4gICAgZXJyb3JFbGVtZW50OiA8Um91dGVFcnJvckJvdW5kYXJ5IC8+LFxuICB9LFxuXSwge1xuICBmdXR1cmU6IHtcbiAgICB2N19zdGFydFRyYW5zaXRpb246IHRydWUsXG4gICAgdjdfcmVsYXRpdmVTcGxhdFBhdGg6IHRydWUsXG4gIH0sXG59KTtcbmltcG9ydCB7IExhenlNb3Rpb24sIGRvbUFuaW1hdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuXG4vLyBEbyBub3QgdG91Y2ggdGhpcyBjb2RlXG5jcmVhdGVSb290KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykhKS5yZW5kZXIoXG4gIDxTdHJpY3RNb2RlPlxuICAgIDxFcnJvckJvdW5kYXJ5PlxuICAgICAgPFRoZW1lTWFuYWdlcj5cbiAgICAgICAgPExhenlNb3Rpb24gZmVhdHVyZXM9e2RvbUFuaW1hdGlvbn0+XG4gICAgICAgICAgPFJvdXRlclByb3ZpZGVyXG4gICAgICAgICAgICByb3V0ZXI9e3JvdXRlcn1cbiAgICAgICAgICAgIGZ1dHVyZT17e1xuICAgICAgICAgICAgICB2N19zdGFydFRyYW5zaXRpb246IHRydWUsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvTGF6eU1vdGlvbj5cbiAgICAgIDwvVGhlbWVNYW5hZ2VyPlxuICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgPC9TdHJpY3RNb2RlPixcbilcbmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yICYmIGltcG9ydC5tZXRhLmVudi5QUk9EKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcvc2VydmljZS13b3JrZXIuanMnKS50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnU1cgcmVnaXN0ZXJlZDogJywgcmVnaXN0cmF0aW9uKTtcbiAgICB9KS5jYXRjaChyZWdpc3RyYXRpb25FcnJvciA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnU1cgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgcmVnaXN0cmF0aW9uRXJyb3IpO1xuICAgIH0pO1xuICB9KTtcbn0iXSwiZmlsZSI6ImFzc2V0cy9pbmRleC1DSWlwR2hNcC5qcyJ9