const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-BKJ38gZn.js","assets/vendor-framer-BNYandJQ.js","assets/vendor-react-BBAfDT4Y.js","assets/scroll-area-BtkSp694.js","assets/vendor-radix-BVDWj5ml.js","assets/vendor-utils-d73ICkI-.js","assets/useTranslations-Cs03YZyB.js","assets/SetupPage-Cy4ajsfY.js","assets/GamePage-CphrWpJo.js","assets/ScoreboardPage-Bfdg2TZO.js"])))=>i.map(i=>d[i]);
var Ye=Object.defineProperty;var Xe=(e,r,t)=>r in e?Ye(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var w=(e,r,t)=>Xe(e,typeof r!="symbol"?r+"":r,t);import{j as l,L as Ve,d as Ze}from"./vendor-framer-BNYandJQ.js";import{e as et,a as g,u as tt,D as rt,f as nt,i as Ie,d as st,g as ot,h as Oe,j as at,k as it,l as ct}from"./vendor-react-BBAfDT4Y.js";import{S as ut}from"./vendor-radix-BVDWj5ml.js";import{c as De,t as lt,T as dt,R as ft,H as ht,a as mt}from"./vendor-utils-d73ICkI-.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const pt="modulepreload",gt=function(e){return"/"+e},me={},J=function(r,t,n){let s=Promise.resolve();if(t&&t.length>0){let a=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),i=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=a(t.map(c=>{if(c=gt(c),c in me)return;me[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":pt,d||(f.as="script"),f.crossOrigin="",f.href=c,i&&f.setAttribute("nonce",i),document.head.appendChild(f),d)return new Promise((_,W)=>{f.addEventListener("load",_),f.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return r().catch(o)})};var Me=Symbol.for("immer-nothing"),pe=Symbol.for("immer-draftable"),h=Symbol.for("immer-state");function S(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var D=Object.getPrototypeOf;function N(e){return!!e&&!!e[h]}function b(e){var r;return e?Ae(e)||Array.isArray(e)||!!e[pe]||!!((r=e.constructor)!=null&&r[pe])||L(e)||Y(e):!1}var yt=Object.prototype.constructor.toString(),ge=new WeakMap;function Ae(e){if(!e||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);if(r===null||r===Object.prototype)return!0;const t=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let n=ge.get(t);return n===void 0&&(n=Function.toString.call(t),ge.set(t,n)),n===yt}function M(e,r,t=!0){K(e)===0?(t?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{r(s,e[s],e)}):e.forEach((n,s)=>r(s,n,e))}function K(e){const r=e[h];return r?r.type_:Array.isArray(e)?1:L(e)?2:Y(e)?3:0}function se(e,r){return K(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function ze(e,r,t){const n=K(e);n===2?e.set(r,t):n===3?e.add(t):e[r]=t}function _t(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function L(e){return e instanceof Map}function Y(e){return e instanceof Set}function y(e){return e.copy_||e.base_}function oe(e,r){if(L(e))return new Map(e);if(Y(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const t=Ae(e);if(r===!0||r==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(e);delete n[h];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const a=s[o],u=n[a];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[a]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[a]})}return Object.create(D(e),n)}else{const n=D(e);if(n!==null&&t)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function de(e,r=!1){return X(e)||N(e)||!b(e)||(K(e)>1&&Object.defineProperties(e,{set:G,add:G,clear:G,delete:G}),Object.freeze(e),r&&Object.values(e).forEach(t=>de(t,!0))),e}function wt(){S(2)}var G={value:wt};function X(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var ae={};function C(e){const r=ae[e];return r||S(0,e),r}function vt(e,r){ae[e]||(ae[e]=r)}var A;function H(){return A}function St(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ye(e,r){r&&(C("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function ie(e){ce(e),e.drafts_.forEach(xt),e.drafts_=null}function ce(e){e===A&&(A=e.parent_)}function _e(e){return A=St(A,e)}function xt(e){const r=e[h];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function we(e,r){r.unfinalizedDrafts_=r.drafts_.length;const t=r.drafts_[0];return e!==void 0&&e!==t?(t[h].modified_&&(ie(r),S(4)),b(e)&&(e=Q(r,e),r.parent_||q(r,e)),r.patches_&&C("Patches").generateReplacementPatches_(t[h].base_,e,r.patches_,r.inversePatches_)):e=Q(r,t,[]),ie(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==Me?e:void 0}function Q(e,r,t){if(X(r))return r;const n=e.immer_.shouldUseStrictIteration(),s=r[h];if(!s)return M(r,(o,a)=>ve(e,s,r,o,a,t),n),r;if(s.scope_!==e)return r;if(!s.modified_)return q(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let a=o,u=!1;s.type_===3&&(a=new Set(o),o.clear(),u=!0),M(a,(i,c)=>ve(e,s,o,i,c,t,u),n),q(e,o,!1),t&&e.patches_&&C("Patches").generatePatches_(s,t,e.patches_,e.inversePatches_)}return s.copy_}function ve(e,r,t,n,s,o,a){if(s==null||typeof s!="object"&&!a)return;const u=X(s);if(!(u&&!a)){if(N(s)){const i=o&&r&&r.type_!==3&&!se(r.assigned_,n)?o.concat(n):void 0,c=Q(e,s,i);if(ze(t,n,c),N(c))e.canAutoFreeze_=!1;else return}else a&&t.add(s);if(b(s)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||r&&r.base_&&r.base_[n]===s&&u)return;Q(e,s),(!r||!r.scope_.parent_)&&typeof n!="symbol"&&(L(t)?t.has(n):Object.prototype.propertyIsEnumerable.call(t,n))&&q(e,s)}}}function q(e,r,t=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&de(r,t)}function Rt(e,r){const t=Array.isArray(e),n={type_:t?1:0,scope_:r?r.scope_:H(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=fe;t&&(s=[n],o=z);const{revoke:a,proxy:u}=Proxy.revocable(s,o);return n.draft_=u,n.revoke_=a,u}var fe={get(e,r){if(r===h)return e;const t=y(e);if(!se(t,r))return Et(e,t,r);const n=t[r];return e.finalized_||!b(n)?n:n===ee(e.base_,r)?(te(e),e.copy_[r]=F(n,e)):n},has(e,r){return r in y(e)},ownKeys(e){return Reflect.ownKeys(y(e))},set(e,r,t){const n=Fe(y(e),r);if(n!=null&&n.set)return n.set.call(e.draft_,t),!0;if(!e.modified_){const s=ee(y(e),r),o=s==null?void 0:s[h];if(o&&o.base_===t)return e.copy_[r]=t,e.assigned_[r]=!1,!0;if(_t(t,s)&&(t!==void 0||se(e.base_,r)))return!0;te(e),E(e)}return e.copy_[r]===t&&(t!==void 0||r in e.copy_)||Number.isNaN(t)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=t,e.assigned_[r]=!0),!0},deleteProperty(e,r){return ee(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,te(e),E(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const t=y(e),n=Reflect.getOwnPropertyDescriptor(t,r);return n&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:n.enumerable,value:t[r]}},defineProperty(){S(11)},getPrototypeOf(e){return D(e.base_)},setPrototypeOf(){S(12)}},z={};M(fe,(e,r)=>{z[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});z.deleteProperty=function(e,r){return z.set.call(this,e,r,void 0)};z.set=function(e,r,t){return fe.set.call(this,e[0],r,t,e[0])};function ee(e,r){const t=e[h];return(t?y(t):e)[r]}function Et(e,r,t){var s;const n=Fe(r,t);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function Fe(e,r){if(!(r in e))return;let t=D(e);for(;t;){const n=Object.getOwnPropertyDescriptor(t,r);if(n)return n;t=D(t)}}function E(e){e.modified_||(e.modified_=!0,e.parent_&&E(e.parent_))}function te(e){e.copy_||(e.copy_=oe(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(r,t,n)=>{if(typeof r=="function"&&typeof t!="function"){const o=t;t=r;const a=this;return function(i=o,...c){return a.produce(i,d=>t.call(this,d,...c))}}typeof t!="function"&&S(6),n!==void 0&&typeof n!="function"&&S(7);let s;if(b(r)){const o=_e(this),a=F(r,void 0);let u=!0;try{s=t(a),u=!1}finally{u?ie(o):ce(o)}return ye(o,n),we(s,o)}else if(!r||typeof r!="object"){if(s=t(r),s===void 0&&(s=r),s===Me&&(s=void 0),this.autoFreeze_&&de(s,!0),n){const o=[],a=[];C("Patches").generateReplacementPatches_(r,s,o,a),n(o,a)}return s}else S(1,r)},this.produceWithPatches=(r,t)=>{if(typeof r=="function")return(a,...u)=>this.produceWithPatches(a,i=>r(i,...u));let n,s;return[this.produce(r,t,(a,u)=>{n=a,s=u}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){b(e)||S(8),N(e)&&(e=Wt(e));const r=_e(this),t=F(e,void 0);return t[h].isManual_=!0,ce(r),t}finishDraft(e,r){const t=e&&e[h];(!t||!t.isManual_)&&S(9);const{scope_:n}=t;return ye(n,r),we(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let t;for(t=r.length-1;t>=0;t--){const s=r[t];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}t>-1&&(r=r.slice(t+1));const n=C("Patches").applyPatches_;return N(e)?n(e,r):this.produce(e,s=>n(s,r))}};function F(e,r){const t=L(e)?C("MapSet").proxyMap_(e,r):Y(e)?C("MapSet").proxySet_(e,r):Rt(e,r);return(r?r.scope_:H()).drafts_.push(t),t}function Wt(e){return N(e)||S(10,e),Le(e)}function Le(e){if(!b(e)||X(e))return e;const r=e[h];let t,n=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,t=oe(e,r.scope_.immer_.useStrictShallowCopy_),n=r.scope_.immer_.shouldUseStrictIteration()}else t=oe(e,!0);return M(t,(s,o)=>{ze(t,s,Le(o))},n),r&&(r.finalized_=!1),t}function jt(){class e extends Map{constructor(i,c){super(),this[h]={type_:2,parent_:c,scope_:c?c.scope_:H(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:i,draft_:this,isManual_:!1,revoked_:!1}}get size(){return y(this[h]).size}has(i){return y(this[h]).has(i)}set(i,c){const d=this[h];return a(d),(!y(d).has(i)||y(d).get(i)!==c)&&(t(d),E(d),d.assigned_.set(i,!0),d.copy_.set(i,c),d.assigned_.set(i,!0)),this}delete(i){if(!this.has(i))return!1;const c=this[h];return a(c),t(c),E(c),c.base_.has(i)?c.assigned_.set(i,!1):c.assigned_.delete(i),c.copy_.delete(i),!0}clear(){const i=this[h];a(i),y(i).size&&(t(i),E(i),i.assigned_=new Map,M(i.base_,c=>{i.assigned_.set(c,!1)}),i.copy_.clear())}forEach(i,c){const d=this[h];y(d).forEach((m,f,_)=>{i.call(c,this.get(f),f,this)})}get(i){const c=this[h];a(c);const d=y(c).get(i);if(c.finalized_||!b(d)||d!==c.base_.get(i))return d;const m=F(d,c);return t(c),c.copy_.set(i,m),m}keys(){return y(this[h]).keys()}values(){const i=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const c=i.next();return c.done?c:{done:!1,value:this.get(c.value)}}}}entries(){const i=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const c=i.next();if(c.done)return c;const d=this.get(c.value);return{done:!1,value:[c.value,d]}}}}[Symbol.iterator](){return this.entries()}}function r(u,i){return new e(u,i)}function t(u){u.copy_||(u.assigned_=new Map,u.copy_=new Map(u.base_))}class n extends Set{constructor(i,c){super(),this[h]={type_:3,parent_:c,scope_:c?c.scope_:H(),modified_:!1,finalized_:!1,copy_:void 0,base_:i,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return y(this[h]).size}has(i){const c=this[h];return a(c),c.copy_?!!(c.copy_.has(i)||c.drafts_.has(i)&&c.copy_.has(c.drafts_.get(i))):c.base_.has(i)}add(i){const c=this[h];return a(c),this.has(i)||(o(c),E(c),c.copy_.add(i)),this}delete(i){if(!this.has(i))return!1;const c=this[h];return a(c),o(c),E(c),c.copy_.delete(i)||(c.drafts_.has(i)?c.copy_.delete(c.drafts_.get(i)):!1)}clear(){const i=this[h];a(i),y(i).size&&(o(i),E(i),i.copy_.clear())}values(){const i=this[h];return a(i),o(i),i.copy_.values()}entries(){const i=this[h];return a(i),o(i),i.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(i,c){const d=this.values();let m=d.next();for(;!m.done;)i.call(c,m.value,m.value,this),m=d.next()}}function s(u,i){return new n(u,i)}function o(u){u.copy_||(u.copy_=new Set,u.base_.forEach(i=>{if(b(i)){const c=F(i,u);u.drafts_.set(i,c),u.copy_.add(c)}else u.copy_.add(i)}))}function a(u){u.revoked_&&S(3,JSON.stringify(y(u)))}vt("MapSet",{proxyMap_:r,proxySet_:s})}var Pt=new bt,kt=Pt.produce,U={},Se;function Ct(){if(Se)return U;Se=1;var e=et();return U.createRoot=e.createRoot,U.hydrateRoot=e.hydrateRoot,U}var Tt=Ct();const $e=e=>e.includes("Warning:")||e.includes("React")?"react":e.includes("fetch")||e.includes("network")||e.includes("Failed to load")?"network":e.includes("TypeError")||e.includes("ReferenceError")||e.includes("SyntaxError")?"javascript":"unknown",Nt="Warning:",It="[WARNING]",Ot="[CONSOLE ERROR]",Dt=[/\.tsx?$/,/\.jsx?$/,/\/src\//],Ge=[/node_modules/,/\.vite/,/chunk-/,/deps/],Mt=e=>[/React Router Future Flag Warning/i,/future flag to opt-in early/i,/reactrouter\.com.*upgrading.*future/i,/v7_\w+.*future flag/i].some(t=>t.test(e)),At=e=>[/componentWillReceiveProps/,/componentWillMount/,/componentWillUpdate/,/UNSAFE_componentWill/].some(t=>t.test(e)),xe=e=>{if(!e)return!1;const r=e.split(`
`);return r.some(s=>Dt.some(o=>o.test(s)))?!0:!r.every(s=>s.trim()===""||s.includes("Error")||Ge.some(o=>o.test(s)))};class zt{constructor(){w(this,"reportedErrors",new Map);w(this,"deduplicationWindow",5e3);w(this,"cleanupInterval",6e4);w(this,"lastCleanup",Date.now())}calculatePrecedence(r){const t=this.hasRelevantSourceCode(r.stack),n=r.level==="warning",s=r.stack?r.stack.split(`
`).length:0;return{hasSourceCode:t,isWarning:n,stackDepth:s,timestamp:Date.now()}}hasRelevantSourceCode(r){return r?r.split(`
`).some(t=>/\.tsx?$/.test(t)||/\.jsx?$/.test(t)||/\/src\//.test(t)):!1}isHigherPrecedence(r,t){return r.hasSourceCode!==t.hasSourceCode?r.hasSourceCode:r.isWarning!==t.isWarning?r.isWarning:r.stackDepth!==t.stackDepth?r.stackDepth>t.stackDepth:r.timestamp>t.timestamp}generateSignature(r){let t=r.message.replace(/\[CONSOLE ERROR\]|\[WARNING\]/g,"").replace(/^Uncaught Error:\s*/i,"").replace(/^Error:\s*/i,"").replace(/%s.*?\n/g,"").replace(/\s+/g," ").trim();return t.includes("Maximum update depth exceeded")?t="Maximum update depth exceeded":t.includes("The result of getSnapshot should be cached")?t="The result of getSnapshot should be cached":t.includes("React Router caught the following error")&&(t="React Router caught error"),t}shouldReport(r,t=!1){this.maybeCleanup();const n=this.generateSignature(r),s=this.calculatePrecedence(r),o=this.reportedErrors.get(n),a=Date.now();return o?this.isHigherPrecedence(s,o.precedence)&&s.hasSourceCode&&!o.precedence.hasSourceCode?(o.precedence=s,o.timestamp=a,o.reported=!0,{shouldReport:!0}):a-o.timestamp<this.deduplicationWindow?{shouldReport:!1,reason:"duplicate_in_window"}:t&&!s.hasSourceCode?{shouldReport:!1,reason:"no_source_code"}:(o.timestamp=a,o.precedence=s,o.reported=!0,{shouldReport:!0}):t&&!s.hasSourceCode?{shouldReport:!1,reason:"no_source_code"}:(this.reportedErrors.set(n,{timestamp:a,precedence:s,reported:!0}),{shouldReport:!0})}maybeCleanup(){const r=Date.now();if(r-this.lastCleanup>this.cleanupInterval){const t=r-3e5;for(const[n,s]of this.reportedErrors.entries())s.timestamp<t&&this.reportedErrors.delete(n);this.lastCleanup=r}}}const Ue=new zt;class Ft{constructor(){w(this,"errorQueue",[]);w(this,"isReporting",!1);w(this,"maxQueueSize",10);w(this,"reportingEndpoint","/api/client-errors");w(this,"originalConsoleWarn",null);w(this,"originalConsoleError",null);w(this,"isInitialized",!1);if(!(typeof window>"u"))try{this.setupConsoleInterceptors(),this.setupGlobalErrorHandler(),this.setupUnhandledRejectionHandler(),this.isInitialized=!0}catch(r){console.error("[ErrorReporter] Failed to initialize:",r)}}setupGlobalErrorHandler(){const r=window.onerror;window.onerror=(t,n,s,o,a)=>{const u=typeof t=="string"?t:"Unknown error",i={message:u,stack:a==null?void 0:a.stack,source:n||void 0,level:"error",url:window.location.href};if(!this.filterError(i).shouldReport)return r?r(t,n,s,o,a):!0;const d=this.createErrorPayload({message:u,stack:a==null?void 0:a.stack,parsedStack:this.parseStackTrace(a==null?void 0:a.stack),source:n||void 0,lineno:s||void 0,colno:o||void 0,error:a});return this.report(d),r?r(t,n,s,o,a):!0}}setupUnhandledRejectionHandler(){window.addEventListener("unhandledrejection",r=>{const t=r.reason,n=(t==null?void 0:t.message)||"Unhandled Promise Rejection",s={message:n,stack:t==null?void 0:t.stack,level:"error",url:window.location.href};if(!this.filterError(s).shouldReport)return;const a=this.createErrorPayload({message:n,stack:t==null?void 0:t.stack,parsedStack:this.parseStackTrace(t==null?void 0:t.stack),error:t});this.report(a)})}createConsoleInterceptor(r,t,n){return(...s)=>{t.apply(console,s);try{const o=He(s),a=new Error().stack,u=r==="warn"&&o.includes(Nt)?"warning":"error",i={message:`${n} ${o}`,stack:a,level:u,url:window.location.href};if(!this.filterError(i).shouldReport)return;const d=this.createErrorPayload({message:i.message,stack:a,parsedStack:this.parseStackTrace(a),level:u});this.report(d)}catch{}}}setupConsoleInterceptors(){this.originalConsoleWarn=console.warn,this.originalConsoleError=console.error;const r=console.warn,t=console.error;r.__errorReporterWrapped&&t.__errorReporterWrapped||(console.error=this.createConsoleInterceptor("error",this.originalConsoleError,Ot),console.warn=this.createConsoleInterceptor("warn",this.originalConsoleWarn,It))}createBaseErrorData(){return{url:window.location.href,timestamp:new Date().toISOString()}}createErrorPayload(r){return{...this.createBaseErrorData(),level:r.level??"error",category:$e(r.message),...r}}filterError(r){const{message:t,stack:n,level:s,source:o}=r;if(t.includes("[ErrorReporter]"))return{shouldReport:!1,reason:"internal_debug"};if(Mt(t))return{shouldReport:!1,reason:"react_router_future_flag"};if(s==="warning"&&At(t))return{shouldReport:!1,reason:"deprecated_react_warning"};if(s==="error"&&t.includes("Uncaught Error")&&!xe(n))return{shouldReport:!1,reason:"no_relevant_source"};if(s==="error"&&o&&Ge.some(u=>u.test(o))&&!xe(n))return{shouldReport:!1,reason:"vendor_only_error"};const a=Ue.shouldReport(r,!1);return a.shouldReport?{shouldReport:!0}:{shouldReport:!1,reason:a.reason}}parseStackTrace(r){if(!r)return"";try{const t=r.split(`
`),n=[];for(const s of t){if(s.includes("Error")&&!s.includes("at "))continue;let o=s.trim();const a=s.match(/at (\w+) \(.*?\/src\/(.*?):(\d+):(\d+)\)/);if(a){const[,u,i,c,d]=a;o=`    at ${u} (${i}:${c}:${d})`}else{const u=s.match(/at.*?\/src\/(.*?):(\d+):(\d+)/);if(u){const[,i,c,d]=u;o=`    at ${i}:${c}:${d}`}else s.match(/at\s+(\w+)\s+\(/)&&(o=s)}o&&n.push(o)}return n.join(`
`)}catch{return r}}report(r){if(!(!this.isInitialized||typeof window>"u"))try{this.errorQueue.push(r),this.errorQueue.length>this.maxQueueSize&&this.errorQueue.shift(),this.processQueue()}catch{}}async processQueue(){if(this.isReporting||this.errorQueue.length===0)return;this.isReporting=!0;const r=[...this.errorQueue];this.errorQueue=[];try{for(const t of r)await this.sendError(t)}catch(t){console.error("[ErrorReporter] Failed to report errors:",t),this.errorQueue.unshift(...r)}finally{this.isReporting=!1}}async sendError(r){try{console.log("[ErrorReporter] Error suppressed (no server-side endpoint):",r.message)}catch(t){throw console.error("[ErrorReporter] Failed to send error:",t),t}}dispose(){this.originalConsoleWarn&&(console.warn=this.originalConsoleWarn),this.originalConsoleError&&(console.error=this.originalConsoleError),this.isInitialized=!1}}const He=e=>e.map(r=>typeof r=="string"?r:typeof r=="object"&&r?JSON.stringify(r,null,2):String(r)).join(" "),Lt=(e,r)=>({message:e,stack:new Error().stack,url:window.location.href,timestamp:new Date().toISOString(),level:r,category:$e(e)}),$t=e=>{const{message:r,stack:t,level:n}=e;if(r.includes("[ErrorReporter]")||[/React Router Future Flag Warning/i,/future flag to opt-in early/i,/reactrouter\.com.*upgrading.*future/i,/v7_\w+.*future flag/i].some(i=>i.test(r))||n==="warning"&&[/componentWillReceiveProps/,/componentWillMount/,/componentWillUpdate/,/UNSAFE_componentWill/].some(i=>i.test(r)))return!1;const a=t?t.split(`
`).some(i=>/\.tsx?$/.test(i)||/\.jsx?$/.test(i)||/\/src\//.test(i)):!1;return n==="error"&&r.includes("Uncaught Error")&&!a||r.includes("Maximum update depth exceeded")&&!a?!1:Ue.shouldReport(e,!0).shouldReport},Gt=async e=>{};if(typeof window<"u"){const e=console.warn,r=console.error,t=(n,s,o)=>function(...a){n.apply(console,a);try{const u=He(a),i=new Error().stack,c=u.includes("Warning:")?"warning":o,d={message:`${s} ${u}`,stack:i,level:c,url:window.location.href};if($t(d)){const m=Lt(d.message,c);Gt(m)}}catch{}};console.warn=t(e,"[WARNING]","warning"),console.warn.__errorReporterWrapped=!0,console.error=t(r,"[CONSOLE ERROR]","error"),console.error.__errorReporterWrapped=!0}const V=new Ft;typeof window<"u"&&window.addEventListener("beforeunload",()=>{V.dispose()});const Re=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ee=De,Ut=(e,r)=>t=>{var n;if((r==null?void 0:r.variants)==null)return Ee(e,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:o}=r,a=Object.keys(s).map(c=>{const d=t==null?void 0:t[c],m=o==null?void 0:o[c];if(d===null)return null;const f=Re(d)||Re(m);return s[c][f]}),u=t&&Object.entries(t).reduce((c,d)=>{let[m,f]=d;return f===void 0||(c[m]=f),c},{}),i=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:m,className:f,..._}=d;return Object.entries(_).every(W=>{let[p,x]=W;return Array.isArray(x)?x.includes({...o,...u}[p]):{...o,...u}[p]===x})?[...c,m,f]:c},[]);return Ee(e,a,i,t==null?void 0:t.class,t==null?void 0:t.className)};function T(...e){return lt(De(e))}function xr(e,r=95){e=e.replace(/^#/,"");let t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),s=parseInt(e.substring(4,6),16);t/=255,n/=255,s/=255;const o=Math.max(t,n,s),a=Math.min(t,n,s);let u=0,i=0,c=(o+a)/2;if(o!==a){const d=o-a;switch(i=c>.5?d/(2-o-a):d/(o+a),o){case t:u=(n-s)/d+(n<s?6:0);break;case n:u=(s-t)/d+2;break;case s:u=(t-n)/d+4;break}u/=6}return u=Math.round(u*360),i=Math.round(i*100),`${u} ${i}% ${r}%`}const Ht=Ut("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-6 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ue=g.forwardRef(({className:e,variant:r,size:t,asChild:n=!1,...s},o)=>{const a=n?ut:"button";return l.jsx(a,{className:T(Ht({variant:r,size:t,className:e})),ref:o,...s})});ue.displayName="Button";const Qe=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:T("rounded-xl border bg-card text-card-foreground shadow",e),...r}));Qe.displayName="Card";const Qt=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:T("flex flex-col space-y-1.5 p-6",e),...r}));Qt.displayName="CardHeader";const qt=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:T("font-semibold leading-none tracking-tight",e),...r}));qt.displayName="CardTitle";const Bt=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:T("text-sm text-muted-foreground",e),...r}));Bt.displayName="CardDescription";const qe=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:T("p-6 pt-0",e),...r}));qe.displayName="CardContent";const Jt=g.forwardRef(({className:e,...r},t)=>l.jsx("div",{ref:t,className:T("flex items-center p-6 pt-0",e),...r}));Jt.displayName="CardFooter";function B({title:e="Oops! Something went wrong",message:r="We're aware of the issue and actively working to fix it. Your experience matters to us.",error:t,onRetry:n,onGoHome:s,showErrorDetails:o=!0,statusMessage:a="Our team has been notified"}){const u=()=>{n?n():window.location.reload()},i=()=>{s?s():window.location.href="/"};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-rainbow opacity-5 dark:opacity-10"}),l.jsx(Qe,{className:"relative backdrop-blur-sm shadow-2xl",children:l.jsxs(qe,{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-destructive/10 flex items-center justify-center",children:l.jsx(dt,{className:"w-8 h-8 text-destructive"})}),l.jsx("h1",{className:"text-2xl font-bold",children:e}),l.jsx("p",{className:"text-muted-foreground",children:r})]}),a&&l.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500 animate-pulse"}),l.jsx("span",{children:a})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(ue,{onClick:u,className:"w-full",children:[l.jsx(ft,{className:"w-4 h-4 mr-2"}),"Try Again"]}),l.jsxs(ue,{onClick:i,variant:"secondary",className:"w-full",children:[l.jsx(ht,{className:"w-4 h-4 mr-2"}),"Go to Homepage"]})]}),!1]})}),l.jsx("p",{className:"text-center text-sm text-muted-foreground mt-6",children:"If this problem persists, please contact our support team"})]})})}class Kt extends g.Component{constructor(){super(...arguments);w(this,"state",{hasError:!1,error:null,errorInfo:null});w(this,"retry",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});w(this,"goHome",()=>{window.location.href="/"})}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,n){this.setState({errorInfo:n}),V.report({message:t.message,stack:t.stack||"",componentStack:n.componentStack,errorBoundary:!0,errorBoundaryProps:{componentName:this.constructor.name},url:window.location.href,timestamp:new Date().toISOString(),level:"error"})}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo,this.retry):l.jsx(B,{error:this.state.error,onRetry:this.retry,onGoHome:this.goHome}):this.props.children}}function Yt(e){if(!e)return;let r="Unknown route error",t="";if(Ie(e))r=`Route Error ${e.status}: ${e.statusText}`,e.data&&(r+=` - ${JSON.stringify(e.data)}`);else if(e instanceof Error)r=e.message,t=e.stack||"";else if(typeof e=="string")r=e;else try{r=JSON.stringify(e)}catch{r=String(e)}V.report({message:r,stack:t,url:window.location.href,timestamp:new Date().toISOString(),source:"react-router",error:e,level:"error"})}function Xt({error:e}){return g.useEffect(()=>{Yt(e)},[e]),Ie(e)?l.jsx(B,{title:`${e.status} ${e.statusText}`,message:"Sorry, an error occurred while loading this page.",error:e.data?{message:JSON.stringify(e.data,null,2)}:e,statusMessage:"Navigation error detected"}):l.jsx(B,{title:"Unexpected Error",message:"An unexpected error occurred while loading this page.",error:e,statusMessage:"Routing error detected"})}function Vt(){const e=nt();return l.jsx(Xt,{error:e})}function j(){const e=tt(),r=g.useContext(rt),t=!e||!r,n=e?"This router does not support route errors. Use createBrowserRouter + RouterProvider.":"Router is not mounted. Add a router at the app root.";return g.useEffect(()=>{t&&V.report({message:n,url:window.location.href,timestamp:new Date().toISOString(),source:"react-router",level:"error"})},[t,n]),t?l.jsx(B,{title:"Router configuration error",message:n,statusMessage:"Routing error boundary could not initialize"}):l.jsx(Vt,{})}function Be(e,r){let t;try{t=e()}catch{return}return{getItem:s=>{var o;const a=i=>i===null?null:JSON.parse(i,void 0),u=(o=t.getItem(s))!=null?o:null;return u instanceof Promise?u.then(a):a(u)},setItem:(s,o)=>t.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>t.removeItem(s)}}const le=e=>r=>{try{const t=e(r);return t instanceof Promise?t:{then(n){return le(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return le(n)(t)}}}},Zt=(e,r)=>(t,n,s)=>{let o={storage:Be(()=>localStorage),partialize:p=>p,version:0,merge:(p,x)=>({...x,...p}),...r},a=!1;const u=new Set,i=new Set;let c=o.storage;if(!c)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...p)},n,s);const d=()=>{const p=o.partialize({...n()});return c.setItem(o.name,{state:p,version:o.version})},m=s.setState;s.setState=(p,x)=>(m(p,x),d());const f=e((...p)=>(t(...p),d()),n,s);s.getInitialState=()=>f;let _;const W=()=>{var p,x;if(!c)return;a=!1,u.forEach(v=>{var R;return v((R=n())!=null?R:f)});const $=((x=o.onRehydrateStorage)==null?void 0:x.call(o,(p=n())!=null?p:f))||void 0;return le(c.getItem.bind(c))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate){const R=o.migrate(v.state,v.version);return R instanceof Promise?R.then(Z=>[!0,Z]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var R;const[Z,Ke]=v;if(_=o.merge(Ke,(R=n())!=null?R:f),t(_,!0),Z)return d()}).then(()=>{$==null||$(_,void 0),_=n(),a=!0,i.forEach(v=>v(_))}).catch(v=>{$==null||$(void 0,v)})};return s.persist={setOptions:p=>{o={...o,...p},p.storage&&(c=p.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>W(),hasHydrated:()=>a,onHydrate:p=>(u.add(p),()=>{u.delete(p)}),onFinishHydration:p=>(i.add(p),()=>{i.delete(p)})},o.skipHydration||W(),_||f},er=Zt,tr=e=>(r,t,n)=>(n.setState=(s,o,...a)=>{const u=typeof s=="function"?kt(s):s;return r(u,o,...a)},e(n.setState,t,n)),rr=tr,be=["#0189d0","#cc004c","#6460aa","#f37021","#07b24a","#fbb712"],I=45,he=mt()(er(rr((e,r)=>({language:typeof window<"u"&&navigator.language.startsWith("tr")?"tr":"en",teams:[],selectedDeck:null,customDeck:null,selectedWordCount:null,turnDuration:I,gameStatus:"setup",setupStep:"teams",round:1,currentTeamIndex:0,words:[],unseenWords:[],guessedWordsThisRound:[],currentWord:null,lastGuessedWord:null,lastPassedWord:null,wordsGuessedThisTurn:[],timeLeft:I,turnEndReason:null,bonusTime:null,theme:typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",setLanguage:t=>e({language:t,setupStep:"teams",teams:[],selectedDeck:null,customDeck:null,selectedWordCount:null}),setTheme:t=>e({theme:t}),setTeamCount:(t,n)=>{e(s=>{const o=new Set;s.teams=Array.from({length:t},(a,u)=>{let i="";do{const c=n.adjectives[Math.floor(Math.random()*n.adjectives.length)],d=n.nouns[Math.floor(Math.random()*n.nouns.length)];i=`${c} ${d}`}while(o.has(i));return o.add(i),{id:u,name:i,color:be[u%be.length],score:0,isNameCustomized:!1}}),s.setupStep="customize"})},updateTeam:(t,n,s)=>{e(o=>{const a=o.teams.find(u=>u.id===t);a&&(a.name!==n&&(a.isNameCustomized=!0),a.name=n,a.color=s)})},regenerateTeamName:(t,n)=>{e(s=>{const o=s.teams.find(a=>a.id===t);if(o){const a=new Set(s.teams.filter(c=>c.id!==t).map(c=>c.name));let u="",i=0;do{const c=n.adjectives[Math.floor(Math.random()*n.adjectives.length)],d=n.nouns[Math.floor(Math.random()*n.nouns.length)];u=`${c} ${d}`,i++}while(a.has(u)&&i<50);o.name=u,o.isNameCustomized=!0}})},setSetupStep:t=>e({setupStep:t}),selectDeck:t=>e({selectedDeck:t}),setCustomDeck:t=>{e({customDeck:t,selectedDeck:t})},setWordCount:t=>e({selectedWordCount:t}),setTurnDuration:t=>e({turnDuration:t}),startGame:t=>{e(n=>{const s=n.selectedWordCount??t.length,a=[...t].sort(()=>Math.random()-.5).slice(0,s);n.gameStatus="get-ready",n.words=a,n.unseenWords=[...a].sort(()=>Math.random()-.5),n.guessedWordsThisRound=[],n.currentTeamIndex=0,n.round=1,n.bonusTime=null,n.teams.forEach(u=>u.score=0),n.lastGuessedWord=null,n.lastPassedWord=null})},startTurn:()=>{e(t=>{t.gameStatus="playing",t.timeLeft=t.bonusTime??t.turnDuration,t.bonusTime=null,t.lastGuessedWord=null,t.lastPassedWord=null,t.wordsGuessedThisTurn=[],t.turnEndReason=null,t.unseenWords.length>0?t.currentWord=t.unseenWords.pop():t.currentWord=null})},endTurn:()=>{e(t=>{if(t.currentWord){const n=t.currentWord,s=Math.floor(Math.random()*(t.unseenWords.length+1));t.unseenWords.splice(s,0,n),t.currentWord=null}t.gameStatus="turn-summary",t.turnEndReason="time-up",t.lastGuessedWord=null,t.lastPassedWord=null})},proceedToNextTurn:()=>{e(t=>{const{teams:n,round:s,unseenWords:o,words:a,currentTeamIndex:u}=t,i=(u+1)%n.length;if(t.lastGuessedWord=null,t.lastPassedWord=null,o.length===0){if(s===3){t.gameStatus="game-over";return}t.bonusTime===null&&(t.currentTeamIndex=i),t.round+=1,t.guessedWordsThisRound=[],t.unseenWords=[...a].sort(()=>Math.random()-.5),t.gameStatus="get-ready"}else t.currentTeamIndex=i,t.gameStatus="get-ready"})},handleCorrect:()=>{e(t=>{if(t.currentWord){const n=t.teams[t.currentTeamIndex];n.score+=t.currentWord.difficulty,t.wordsGuessedThisTurn.push(t.currentWord),t.guessedWordsThisRound.push(t.currentWord),t.lastGuessedWord=t.currentWord,t.lastPassedWord=null}t.unseenWords.length>0?t.currentWord=t.unseenWords.pop():(t.currentWord=null,t.lastGuessedWord=null,t.lastPassedWord=null,t.timeLeft>3&&t.round<3?(t.bonusTime=t.timeLeft,t.gameStatus="turn-summary",t.turnEndReason="words-exhausted"):(t.gameStatus="turn-summary",t.turnEndReason="words-exhausted"))})},handlePass:()=>{e(t=>{if(t.currentWord&&t.unseenWords.length>0){const n=t.currentWord;t.lastPassedWord=n,t.lastGuessedWord=null,t.currentWord=t.unseenWords.pop();const s=Math.floor(Math.random()*Math.ceil(t.unseenWords.length/2));t.unseenWords.splice(s,0,n)}})},undoLastAction:()=>{e(t=>{if(t.lastGuessedWord){const n=t.teams[t.currentTeamIndex];n.score-=t.lastGuessedWord.difficulty,t.wordsGuessedThisTurn.pop(),t.guessedWordsThisRound=t.guessedWordsThisRound.filter(s=>s.term!==t.lastGuessedWord.term),t.currentWord&&t.unseenWords.push(t.currentWord),t.currentWord=t.lastGuessedWord,t.lastGuessedWord=null}else if(t.lastPassedWord){const n=t.lastPassedWord,s=t.currentWord;t.unseenWords=t.unseenWords.filter(o=>o.term!==n.term),s&&t.unseenWords.push(s),t.currentWord=n,t.lastPassedWord=null}})},tick:()=>{e(t=>{t.gameStatus==="playing"&&(t.timeLeft-=1)})},resetSetup:()=>{e({teams:[],selectedDeck:null,customDeck:null,gameStatus:"setup",setupStep:"teams",selectedWordCount:null,turnDuration:I})},resetGame:()=>{e({teams:[],selectedDeck:null,customDeck:null,gameStatus:"setup",setupStep:"teams",round:1,currentTeamIndex:0,words:[],unseenWords:[],guessedWordsThisRound:[],currentWord:null,lastGuessedWord:null,lastPassedWord:null,wordsGuessedThisTurn:[],timeLeft:I,turnEndReason:null,bonusTime:null,selectedWordCount:null,turnDuration:I})}})),{name:"yaygara-storage",storage:Be(()=>localStorage)})),We=e=>Symbol.iterator in e,je=e=>"entries"in e,Pe=(e,r)=>{const t=e instanceof Map?e:new Map(e.entries()),n=r instanceof Map?r:new Map(r.entries());if(t.size!==n.size)return!1;for(const[s,o]of t)if(!n.has(s)||!Object.is(o,n.get(s)))return!1;return!0},nr=(e,r)=>{const t=e[Symbol.iterator](),n=r[Symbol.iterator]();let s=t.next(),o=n.next();for(;!s.done&&!o.done;){if(!Object.is(s.value,o.value))return!1;s=t.next(),o=n.next()}return!!s.done&&!!o.done};function sr(e,r){return Object.is(e,r)?!0:typeof e!="object"||e===null||typeof r!="object"||r===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(r)?!1:We(e)&&We(r)?je(e)&&je(r)?Pe(e,r):nr(e,r):Pe({entries:()=>Object.entries(e)},{entries:()=>Object.entries(r)})}function or(e){const r=st.useRef(void 0);return t=>{const n=e(t);return sr(r.current,n)?r.current:r.current=n}}const ar=["en","tr"],ir="en",P=({children:e})=>{const{lang:r}=ot(),t=Oe(),{pathname:n}=at(),{language:s,setLanguage:o}=he(or(a=>({language:a.language,setLanguage:a.setLanguage})));return g.useEffect(()=>{const a=r;if(!a||!ar.includes(a)){if(!a)return;t(`/${ir}`,{replace:!0});return}a!==s&&o(a),document.documentElement.lang=a,document.documentElement.dir="ltr",cr(a,n)},[r,s,o,t,n]),l.jsx(l.Fragment,{children:e})};function cr(e,r){const t="https://yaygara.mertskaplan.com",n=["en","tr"];document.querySelectorAll('link[rel="canonical"]').forEach(f=>f.remove()),document.querySelectorAll('link[rel="alternate"][hreflang]').forEach(f=>f.remove());const s=document.createElement("link");s.setAttribute("rel","canonical"),s.setAttribute("href",`${t}${r}`),document.head.appendChild(s);const o={en:"Fun party game based on narration and guessing",tr:"Anlatma ve tahmine dayalı eğlenceli parti oyunu"},a={en:"Yaygara: Fun party game based on narration and guessing",tr:"Yaygara: Anlatma ve tahmine dayalı eğlenceli parti oyunu"},u={en:"Yaygara | Fun party game based on narration and guessing",tr:"Yaygara | Anlatma ve tahmine dayalı eğlenceli parti oyunu"};document.title=u[e];let i=document.querySelector('meta[name="description"]');i&&i.setAttribute("content",o[e]);let c=document.querySelector('meta[property="og:title"]');c&&c.setAttribute("content",a[e]);let d=document.querySelector('meta[property="og:description"]');d&&d.setAttribute("content",o[e]),n.forEach(f=>{const _=document.createElement("link");_.setAttribute("rel","alternate"),_.setAttribute("hreflang",f);const W=ke(r,f);_.setAttribute("href",`${t}${W}`),document.head.appendChild(_)});const m=document.createElement("link");m.setAttribute("rel","alternate"),m.setAttribute("hreflang","x-default"),m.setAttribute("href",`${t}${ke(r,"en")}`),document.head.appendChild(m)}const ur={setup:{en:"setup",tr:"kurulum"},kurulum:{en:"setup",tr:"kurulum"},play:{en:"play",tr:"oyun"},oyun:{en:"play",tr:"oyun"},score:{en:"score",tr:"skor"},skor:{en:"score",tr:"skor"}};function ke(e,r){const t=e.split("/").filter(Boolean);if(t.length===0)return`/${r}`;const s=t.slice(1).map(o=>{const a=ur[o];return a?a[r]:o});return`/${r}${s.length>0?"/"+s.join("/"):""}`}const lr=()=>{const e=Oe();return he(r=>r.language),g.useEffect(()=>{const t=navigator.language.split("-")[0]==="tr"?"tr":"en";e(`/${t}`,{replace:!0})},[e]),null},dr=({children:e})=>{const r=he(t=>t.theme);return g.useEffect(()=>{const t=window.document.documentElement;r==="dark"?t.classList.add("dark"):t.classList.remove("dark")},[r]),g.useEffect(()=>{const t=window.matchMedia("(prefers-color-scheme: dark)"),n=s=>{};return t.addEventListener("change",n),()=>t.removeEventListener("change",n)},[]),l.jsx(l.Fragment,{children:e})},re={},fr=["en","tr"],O={},Je=async e=>{if(re[e])return re[e];if(O[e])return O[e];const r=fetch(`/locales/${e}.json`).then(async t=>{if(!t.ok)throw new Error(`Failed to fetch ${e}.json`);const n=await t.json();return re[e]=n,delete O[e],n}).catch(t=>(console.error(`Could not load translations for language: ${e}`,t),delete O[e],e!=="en"?Je("en"):{}));return O[e]=r,r};let ne=null;const hr=()=>(ne||(console.log("Preloading all translations..."),ne=Promise.all(fr.map(e=>Je(e)))),ne);jt();hr();const mr=g.lazy(()=>J(()=>import("./HomePage-BKJ38gZn.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(e=>({default:e.HomePage}))),Ce=g.lazy(()=>J(()=>import("./SetupPage-Cy4ajsfY.js"),__vite__mapDeps([7,1,2,4,6,3,5])).then(e=>({default:e.SetupPage}))),Te=g.lazy(()=>J(()=>import("./GamePage-CphrWpJo.js"),__vite__mapDeps([8,1,2,5,6,4])).then(e=>({default:e.GamePage}))),Ne=g.lazy(()=>J(()=>import("./ScoreboardPage-Bfdg2TZO.js"),__vite__mapDeps([9,1,2,6,5,4])).then(e=>({default:e.ScoreboardPage}))),pr=()=>l.jsx("div",{className:"flex items-center justify-center h-screen-dvh bg-transparent",children:l.jsx("div",{className:"w-12 h-12 border-4 border-sky-500 border-t-transparent rounded-full animate-spin"})}),k=({children:e})=>l.jsx(g.Suspense,{fallback:l.jsx(pr,{}),children:e}),gr=it([{path:"/",element:l.jsx(lr,{}),errorElement:l.jsx(j,{})},{path:"/:lang",element:l.jsx(k,{children:l.jsx(P,{children:l.jsx(mr,{})})}),errorElement:l.jsx(j,{})},{path:"/:lang/setup",element:l.jsx(k,{children:l.jsx(P,{children:l.jsx(Ce,{})})}),errorElement:l.jsx(j,{})},{path:"/:lang/kurulum",element:l.jsx(k,{children:l.jsx(P,{children:l.jsx(Ce,{})})}),errorElement:l.jsx(j,{})},{path:"/:lang/play",element:l.jsx(k,{children:l.jsx(P,{children:l.jsx(Te,{})})}),errorElement:l.jsx(j,{})},{path:"/:lang/oyun",element:l.jsx(k,{children:l.jsx(P,{children:l.jsx(Te,{})})}),errorElement:l.jsx(j,{})},{path:"/:lang/score",element:l.jsx(k,{children:l.jsx(P,{children:l.jsx(Ne,{})})}),errorElement:l.jsx(j,{})},{path:"/:lang/skor",element:l.jsx(k,{children:l.jsx(P,{children:l.jsx(Ne,{})})}),errorElement:l.jsx(j,{})}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}});Tt.createRoot(document.getElementById("root")).render(l.jsx(g.StrictMode,{children:l.jsx(Kt,{children:l.jsx(dr,{children:l.jsx(Ve,{features:Ze,children:l.jsx(ct,{router:gr,future:{v7_startTransition:!0}})})})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});export{ue as B,be as T,or as a,Ht as b,T as c,Je as f,xr as h,re as t,he as u};


//# sourceMappingURL=data:application/json;base64,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QUN4RSxtQkFBZTFKLEVBQUEsRUFBbUIsR0FFcEMsQ0FDRSxLQUFNLGNBQ04sY0FBVTZKLEVBQUEsQ0FBZSxlQUFDbEQsR0FBZ0IsU0FBQXhJLE1BQUN1TCxHQUFBLEVBQVMsRUFBRSxFQUFrQixFQUN4RSxtQkFBZTFKLEVBQUEsRUFBbUIsR0FFcEMsQ0FDRSxLQUFNLGVBQ04sY0FBVTZKLEVBQUEsQ0FBZSxlQUFDbEQsR0FBZ0IsU0FBQXhJLE1BQUN3TCxHQUFBLEVBQWUsRUFBRSxFQUFrQixFQUM5RSxtQkFBZTNKLEVBQUEsRUFBbUIsR0FFcEMsQ0FDRSxLQUFNLGNBQ04sY0FBVTZKLEVBQUEsQ0FBZSxlQUFDbEQsR0FBZ0IsU0FBQXhJLE1BQUN3TCxHQUFBLEVBQWUsRUFBRSxFQUFrQixFQUM5RSxtQkFBZTNKLEVBQUEsRUFBbUIsRUFFdEMsRUFBRyxDQUNELE9BQVEsQ0FDTixtQkFBb0IsR0FDcEIscUJBQXNCLEdBRTFCLENBQUMsRUFJRGlLLGNBQVcsU0FBUyxlQUFlLE1BQU0sQ0FBRSxFQUFFLGFBQzFDQyxjQUNDLFNBQUEvTCxNQUFDbUIsR0FBQSxDQUNDLGVBQUNxSixHQUFBLENBQ0MsU0FBQXhLLE1BQUNnTSxHQUFBLENBQVcsU0FBVUMsR0FDcEIsU0FBQWpNLE1BQUNrTSxHQUFBLENBQ0MsT0FBQU4sR0FDQSxPQUFRLENBQ04sbUJBQW9CLEdBQ3RCLEdBRUosRUFDRixFQUNGLEVBQ0YsQ0FDRixFQUNJLGtCQUFtQixXQUNyQixPQUFPLGlCQUFpQixPQUFRLElBQU0sQ0FDcEMsVUFBVSxjQUFjLFNBQVMsb0JBQW9CLEVBQUUsS0FBS08sR0FBZ0IsQ0FDMUUsUUFBUSxJQUFJLGtCQUFtQkEsQ0FBWSxDQUM3QyxDQUFDLEVBQUUsTUFBTUMsR0FBcUIsQ0FDNUIsUUFBUSxJQUFJLDJCQUE0QkEsQ0FBaUIsQ0FDM0QsQ0FBQyxDQUNILENBQUMiLCJuYW1lcyI6WyJOT1RISU5HIiwiRFJBRlRBQkxFIiwiRFJBRlRfU1RBVEUiLCJkaWUiLCJlcnJvciIsImFyZ3MiLCJnZXRQcm90b3R5cGVPZiIsImlzRHJhZnQiLCJ2YWx1ZSIsImlzRHJhZnRhYmxlIiwiaXNQbGFpbk9iamVjdCIsIl9hIiwiaXNNYXAiLCJpc1NldCIsIm9iamVjdEN0b3JTdHJpbmciLCJjYWNoZWRDdG9yU3RyaW5ncyIsInByb3RvIiwiQ3RvciIsImN0b3JTdHJpbmciLCJlYWNoIiwib2JqIiwiaXRlciIsInN0cmljdCIsImdldEFyY2h0eXBlIiwia2V5IiwiZW50cnkiLCJpbmRleCIsInRoaW5nIiwic3RhdGUiLCJoYXMiLCJwcm9wIiwic2V0IiwicHJvcE9yT2xkVmFsdWUiLCJ0IiwiaXMiLCJ4IiwieSIsInRhcmdldCIsImxhdGVzdCIsInNoYWxsb3dDb3B5IiwiYmFzZSIsImlzUGxhaW4iLCJkZXNjcmlwdG9ycyIsImtleXMiLCJpIiwiZGVzYyIsImZyZWV6ZSIsImRlZXAiLCJpc0Zyb3plbiIsImRvbnRNdXRhdGVNZXRob2RPdmVycmlkZSIsImRvbnRNdXRhdGVGcm96ZW5Db2xsZWN0aW9ucyIsInBsdWdpbnMiLCJnZXRQbHVnaW4iLCJwbHVnaW5LZXkiLCJwbHVnaW4iLCJsb2FkUGx1Z2luIiwiaW1wbGVtZW50YXRpb24iLCJjdXJyZW50U2NvcGUiLCJnZXRDdXJyZW50U2NvcGUiLCJjcmVhdGVTY29wZSIsInBhcmVudF8iLCJpbW1lcl8iLCJ1c2VQYXRjaGVzSW5TY29wZSIsInNjb3BlIiwicGF0Y2hMaXN0ZW5lciIsInJldm9rZVNjb3BlIiwibGVhdmVTY29wZSIsInJldm9rZURyYWZ0IiwiZW50ZXJTY29wZSIsImltbWVyMiIsImRyYWZ0IiwicHJvY2Vzc1Jlc3VsdCIsInJlc3VsdCIsImJhc2VEcmFmdCIsImZpbmFsaXplIiwibWF5YmVGcmVlemUiLCJyb290U2NvcGUiLCJwYXRoIiwidXNlU3RyaWN0SXRlcmF0aW9uIiwiY2hpbGRWYWx1ZSIsImZpbmFsaXplUHJvcGVydHkiLCJyZXN1bHRFYWNoIiwiaXNTZXQyIiwicGFyZW50U3RhdGUiLCJ0YXJnZXRPYmplY3QiLCJyb290UGF0aCIsInRhcmdldElzU2V0IiwiY2hpbGRJc0Zyb3plbiIsInJlcyIsImNyZWF0ZVByb3h5UHJveHkiLCJwYXJlbnQiLCJpc0FycmF5IiwidHJhcHMiLCJvYmplY3RUcmFwcyIsImFycmF5VHJhcHMiLCJyZXZva2UiLCJwcm94eSIsInNvdXJjZSIsInJlYWRQcm9wRnJvbVByb3RvIiwicGVlayIsInByZXBhcmVDb3B5IiwiY3JlYXRlUHJveHkiLCJnZXREZXNjcmlwdG9yRnJvbVByb3RvIiwiY3VycmVudDIiLCJjdXJyZW50U3RhdGUiLCJtYXJrQ2hhbmdlZCIsIm93bmVyIiwiZm4iLCJJbW1lcjIiLCJjb25maWciLCJyZWNpcGUiLCJkZWZhdWx0QmFzZSIsInNlbGYiLCJiYXNlMiIsImhhc0Vycm9yIiwicCIsImlwIiwicGF0Y2hlcyIsImludmVyc2VQYXRjaGVzIiwiY3VycmVudCIsInBhdGNoIiwiYXBwbHlQYXRjaGVzSW1wbCIsImN1cnJlbnRJbXBsIiwiY29weSIsImVuYWJsZU1hcFNldCIsIkRyYWZ0TWFwIiwiYXNzZXJ0VW5yZXZva2VkIiwicHJlcGFyZU1hcENvcHkiLCJjYiIsInRoaXNBcmciLCJfdmFsdWUiLCJfbWFwIiwiaXRlcmF0b3IiLCJyIiwicHJveHlNYXBfIiwiRHJhZnRTZXQiLCJwcmVwYXJlU2V0Q29weSIsInByb3h5U2V0XyIsImltbWVyIiwicHJvZHVjZSIsIm0iLCJyZXF1aXJlJCQwIiwiY2xpZW50IiwiY2F0ZWdvcml6ZSIsIm1lc3NhZ2UiLCJSRUFDVF9XQVJOSU5HX1BBVFRFUk4iLCJXQVJOSU5HX1BSRUZJWCIsIkNPTlNPTEVfRVJST1JfUFJFRklYIiwiU09VUkNFX0ZJTEVfUEFUVEVSTlMiLCJWRU5ET1JfUEFUVEVSTlMiLCJpc1JlYWN0Um91dGVyRnV0dXJlRmxhZ01lc3NhZ2UiLCJpc0RlcHJlY2F0ZWRSZWFjdFdhcm5pbmdNZXNzYWdlIiwiaGFzUmVsZXZhbnRTb3VyY2VJblN0YWNrIiwic3RhY2siLCJsaW5lcyIsImxpbmUiLCJwYXQiLCJHbG9iYWxFcnJvckRlZHVwbGljYXRpb24iLCJfX3B1YmxpY0ZpZWxkIiwiY29udGV4dCIsImhhc1NvdXJjZUNvZGUiLCJpc1dhcm5pbmciLCJzdGFja0RlcHRoIiwibmV3UHJlYyIsImV4aXN0aW5nUHJlYyIsIm1lc3NhZ2VDb3JlIiwiaW1tZWRpYXRlIiwic2lnbmF0dXJlIiwicHJlY2VkZW5jZSIsImV4aXN0aW5nIiwibm93IiwiY3V0b2ZmIiwiZGF0YSIsImdsb2JhbERlZHVwbGljYXRpb24iLCJFcnJvclJlcG9ydGVyIiwiZXJyIiwib3JpZ2luYWxIYW5kbGVyIiwibGluZW5vIiwiY29sbm8iLCJlcnJvck1lc3NhZ2UiLCJwYXlsb2FkIiwiZXZlbnQiLCJtZXRob2QiLCJvcmlnaW5hbCIsInByZWZpeCIsImZvcm1hdENvbnNvbGVBcmdzIiwibGV2ZWwiLCJjdXJyZW50V2FybiIsImN1cnJlbnRFcnJvciIsInBhdHRlcm4iLCJkZWR1cGxpY2F0aW9uUmVzdWx0IiwicGFyc2VkTGluZXMiLCJwYXJzZWRMaW5lIiwiY29tcG9uZW50TWF0Y2giLCJjb21wb25lbnROYW1lIiwiZmlsZVBhdGgiLCJsaW5lTnVtIiwiY29sTnVtIiwic3JjTWF0Y2giLCJlcnJvcnNUb1JlcG9ydCIsImFyZyIsImNyZWF0ZUltbWVkaWF0ZUVycm9yUGF5bG9hZCIsInNob3VsZFJlcG9ydEltbWVkaWF0ZSIsInNlbmRJbW1lZGlhdGVFcnJvciIsIm9yaWdpbmFsV2FybiIsIm9yaWdpbmFsRXJyb3IiLCJjcmVhdGVJbW1lZGlhdGVJbnRlcmNlcHRvciIsImRlZmF1bHRMZXZlbCIsImVycm9yUmVwb3J0ZXIiLCJmYWxzeVRvU3RyaW5nIiwiY3giLCJjbHN4IiwiY3ZhIiwicHJvcHMiLCJfY29uZmlnX2NvbXBvdW5kVmFyaWFudHMiLCJ2YXJpYW50cyIsImRlZmF1bHRWYXJpYW50cyIsImdldFZhcmlhbnRDbGFzc05hbWVzIiwidmFyaWFudCIsInZhcmlhbnRQcm9wIiwiZGVmYXVsdFZhcmlhbnRQcm9wIiwidmFyaWFudEtleSIsInByb3BzV2l0aG91dFVuZGVmaW5lZCIsImFjYyIsInBhcmFtIiwiZ2V0Q29tcG91bmRWYXJpYW50Q2xhc3NOYW1lcyIsImN2Q2xhc3MiLCJjdkNsYXNzTmFtZSIsImNvbXBvdW5kVmFyaWFudE9wdGlvbnMiLCJjbiIsImlucHV0cyIsInR3TWVyZ2UiLCJoZXhUb0hzbCIsImhleCIsImxpZ2h0bmVzcyIsImciLCJiIiwibWF4IiwibWluIiwiaCIsInMiLCJsIiwiYnV0dG9uVmFyaWFudHMiLCJCdXR0b24iLCJSZWFjdC5mb3J3YXJkUmVmIiwiY2xhc3NOYW1lIiwic2l6ZSIsImFzQ2hpbGQiLCJyZWYiLCJDb21wIiwiU2xvdCIsImpzeCIsIkNhcmQiLCJDYXJkSGVhZGVyIiwiQ2FyZFRpdGxlIiwiQ2FyZERlc2NyaXB0aW9uIiwiQ2FyZENvbnRlbnQiLCJDYXJkRm9vdGVyIiwiRXJyb3JGYWxsYmFjayIsInRpdGxlIiwib25SZXRyeSIsIm9uR29Ib21lIiwic2hvd0Vycm9yRGV0YWlscyIsInN0YXR1c01lc3NhZ2UiLCJoYW5kbGVSZXRyeSIsImhhbmRsZUdvSG9tZSIsImpzeHMiLCJBbGVydFRyaWFuZ2xlIiwiUmVmcmVzaEN3IiwiSG9tZSIsIkVycm9yQm91bmRhcnkiLCJDb21wb25lbnQiLCJlcnJvckluZm8iLCJyZXBvcnRSb3V0ZUVycm9yIiwiZXJyb3JTdGFjayIsImlzUm91dGVFcnJvclJlc3BvbnNlIiwiUm91dGVFcnJvckJvdW5kYXJ5VmlldyIsInVzZUVmZmVjdCIsIkRhdGFSb3V0ZXJSb3V0ZUVycm9yQm91bmRhcnkiLCJ1c2VSb3V0ZUVycm9yIiwiUm91dGVFcnJvckJvdW5kYXJ5IiwiaW5Sb3V0ZXIiLCJ1c2VJblJvdXRlckNvbnRleHQiLCJkYXRhUm91dGVyU3RhdGUiLCJ1c2VDb250ZXh0IiwiVU5TQUZFX0RhdGFSb3V0ZXJTdGF0ZUNvbnRleHQiLCJtaXNjb25maWd1cmVkIiwiY3JlYXRlSlNPTlN0b3JhZ2UiLCJnZXRTdG9yYWdlIiwib3B0aW9ucyIsInN0b3JhZ2UiLCJuYW1lIiwicGFyc2UiLCJzdHIyIiwic3RyIiwibmV3VmFsdWUiLCJ0b1RoZW5hYmxlIiwiaW5wdXQiLCJvbkZ1bGZpbGxlZCIsIl9vblJlamVjdGVkIiwiZSIsIl9vbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJwZXJzaXN0SW1wbCIsImJhc2VPcHRpb25zIiwiZ2V0IiwiYXBpIiwicGVyc2lzdGVkU3RhdGUiLCJoYXNIeWRyYXRlZCIsImh5ZHJhdGlvbkxpc3RlbmVycyIsImZpbmlzaEh5ZHJhdGlvbkxpc3RlbmVycyIsInNldEl0ZW0iLCJzYXZlZFNldFN0YXRlIiwicmVwbGFjZSIsImNvbmZpZ1Jlc3VsdCIsInN0YXRlRnJvbVN0b3JhZ2UiLCJoeWRyYXRlIiwiX2IiLCJfYTIiLCJwb3N0UmVoeWRyYXRpb25DYWxsYmFjayIsImRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZSIsIm1pZ3JhdGlvbiIsIm1pZ3JhdGlvblJlc3VsdCIsIm1pZ3JhdGVkIiwibWlncmF0ZWRTdGF0ZSIsIm5ld09wdGlvbnMiLCJwZXJzaXN0IiwiaW1tZXJJbXBsIiwiaW5pdGlhbGl6ZXIiLCJzdG9yZSIsInVwZGF0ZXIiLCJuZXh0U3RhdGUiLCJURUFNX0NPTE9SUyIsIkRFRkFVTFRfVFVSTl9EVVJBVElPTiIsInVzZUdhbWVTdG9yZSIsImNyZWF0ZSIsImxhbmciLCJ0aGVtZSIsImNvdW50IiwibmFtZVBhcnRzIiwidXNlZE5hbWVzIiwiXyIsImFkaiIsIm5vdW4iLCJpZCIsImNvbG9yIiwidGVhbSIsInRlYW1JZCIsInRlYW1Ub1VwZGF0ZSIsIm5ld05hbWUiLCJhdHRlbXB0cyIsInN0ZXAiLCJkZWNrIiwiZHVyYXRpb24iLCJ3b3JkcyIsImdhbWVXb3JkcyIsImV4cGlyZWRXb3JkIiwiaW5zZXJ0SW5kZXgiLCJ0ZWFtcyIsInJvdW5kIiwidW5zZWVuV29yZHMiLCJjdXJyZW50VGVhbUluZGV4IiwibmV4dFRlYW1JbmRleCIsInBhc3NlZFdvcmQiLCJ3b3JkIiwid29yZFRvUmVzdG9yZUFzQ3VycmVudCIsIndvcmRUb1JldHVyblRvRGVjayIsImlzSXRlcmFibGUiLCJoYXNJdGVyYWJsZUVudHJpZXMiLCJjb21wYXJlRW50cmllcyIsInZhbHVlQSIsInZhbHVlQiIsIm1hcEEiLCJtYXBCIiwiY29tcGFyZUl0ZXJhYmxlcyIsIml0ZXJhdG9yQSIsIml0ZXJhdG9yQiIsIm5leHRBIiwibmV4dEIiLCJzaGFsbG93IiwidXNlU2hhbGxvdyIsInNlbGVjdG9yIiwicHJldiIsIlJlYWN0IiwibmV4dCIsIlNVUFBPUlRFRF9MQU5HVUFHRVMiLCJERUZBVUxUX0xBTkdVQUdFIiwiTGFuZ3VhZ2VXcmFwcGVyIiwiY2hpbGRyZW4iLCJ1c2VQYXJhbXMiLCJuYXZpZ2F0ZSIsInVzZU5hdmlnYXRlIiwicGF0aG5hbWUiLCJ1c2VMb2NhdGlvbiIsImxhbmd1YWdlIiwic2V0TGFuZ3VhZ2UiLCJjdXJyZW50TGFuZyIsInVwZGF0ZVNFT1RhZ3MiLCJiYXNlVXJsIiwibGFuZ3VhZ2VzIiwiZWwiLCJjYW5vbmljYWwiLCJkZXNjcmlwdGlvbnMiLCJvZ1RpdGxlcyIsInRpdGxlcyIsIm1ldGFEZXNjIiwib2dUaXRsZSIsIm9nRGVzYyIsImxpbmsiLCJ0YXJnZXRQYXRoIiwiZ2V0TG9jYWxpemVkUGF0aCIsInhEZWZhdWx0IiwiU0xVR19NQVAiLCJ0YXJnZXRMYW5nIiwicGFydHMiLCJsb2NhbGl6ZWRQYXJ0cyIsInBhcnQiLCJtYXBwaW5nIiwiUm9vdFJlZGlyZWN0b3IiLCJUaGVtZU1hbmFnZXIiLCJyb290IiwibWVkaWFRdWVyeSIsImhhbmRsZUNoYW5nZSIsInRyYW5zbGF0aW9uc0NhY2hlIiwicGVuZGluZ0ZldGNoZXMiLCJmZXRjaFRyYW5zbGF0aW9ucyIsImZldGNoUHJvbWlzZSIsInJlc3BvbnNlIiwicHJlbG9hZFByb21pc2UiLCJwcmVsb2FkVHJhbnNsYXRpb25zIiwiSG9tZVBhZ2UiLCJsYXp5IiwiX192aXRlUHJlbG9hZCIsIlNldHVwUGFnZSIsIkdhbWVQYWdlIiwiU2NvcmVib2FyZFBhZ2UiLCJMb2FkaW5nUGFnZSIsIlN1c3BlbnNlTGF5b3V0IiwiU3VzcGVuc2UiLCJyb3V0ZXIiLCJjcmVhdGVCcm93c2VyUm91dGVyIiwiY3JlYXRlUm9vdCIsIlN0cmljdE1vZGUiLCJMYXp5TW90aW9uIiwiZG9tQW5pbWF0aW9uIiwiUm91dGVyUHJvdmlkZXIiLCJyZWdpc3RyYXRpb24iLCJyZWdpc3RyYXRpb25FcnJvciJdLCJpZ25vcmVMaXN0IjpbMCwxLDMsMTAsMTEsMTMsMTRdLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9pbW1lci9kaXN0L2ltbWVyLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vY2xpZW50LmpzIiwiLi4vLi4vc3JjL2xpYi9lcnJvclJlcG9ydGVyLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eS9kaXN0L2luZGV4Lm1qcyIsIi4uLy4uL3NyYy9saWIvdXRpbHMudHMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy91aS9idXR0b24udHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvdWkvY2FyZC50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9FcnJvckZhbGxiYWNrLnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0Vycm9yQm91bmRhcnkudHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvUm91dGVFcnJvckJvdW5kYXJ5LnRzeCIsIi4uLy4uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9taWRkbGV3YXJlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9taWRkbGV3YXJlL2ltbWVyLm1qcyIsIi4uLy4uL3NyYy9zdG9yZXMvdXNlR2FtZVN0b3JlLnRzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL3ZhbmlsbGEvc2hhbGxvdy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vcmVhY3Qvc2hhbGxvdy5tanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9MYW5ndWFnZVdyYXBwZXIudHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvUm9vdFJlZGlyZWN0b3IudHN4IiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvVGhlbWVNYW5hZ2VyLnRzeCIsIi4uLy4uL3NyYy9saWIvaTE4bi50cyIsIi4uLy4uL3NyYy9tYWluLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvZW52LnRzXG52YXIgTk9USElORyA9IFN5bWJvbC5mb3IoXCJpbW1lci1ub3RoaW5nXCIpO1xudmFyIERSQUZUQUJMRSA9IFN5bWJvbC5mb3IoXCJpbW1lci1kcmFmdGFibGVcIik7XG52YXIgRFJBRlRfU1RBVEUgPSBTeW1ib2wuZm9yKFwiaW1tZXItc3RhdGVcIik7XG5cbi8vIHNyYy91dGlscy9lcnJvcnMudHNcbnZhciBlcnJvcnMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBbXG4gIC8vIEFsbCBlcnJvciBjb2Rlcywgc3RhcnRpbmcgYnkgMDpcbiAgZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgcmV0dXJuIGBUaGUgcGx1Z2luIGZvciAnJHtwbHVnaW59JyBoYXMgbm90IGJlZW4gbG9hZGVkIGludG8gSW1tZXIuIFRvIGVuYWJsZSB0aGUgcGx1Z2luLCBpbXBvcnQgYW5kIGNhbGwgXFxgZW5hYmxlJHtwbHVnaW59KClcXGAgd2hlbiBpbml0aWFsaXppbmcgeW91ciBhcHBsaWNhdGlvbi5gO1xuICB9LFxuICBmdW5jdGlvbih0aGluZykge1xuICAgIHJldHVybiBgcHJvZHVjZSBjYW4gb25seSBiZSBjYWxsZWQgb24gdGhpbmdzIHRoYXQgYXJlIGRyYWZ0YWJsZTogcGxhaW4gb2JqZWN0cywgYXJyYXlzLCBNYXAsIFNldCBvciBjbGFzc2VzIHRoYXQgYXJlIG1hcmtlZCB3aXRoICdbaW1tZXJhYmxlXTogdHJ1ZScuIEdvdCAnJHt0aGluZ30nYDtcbiAgfSxcbiAgXCJUaGlzIG9iamVjdCBoYXMgYmVlbiBmcm96ZW4gYW5kIHNob3VsZCBub3QgYmUgbXV0YXRlZFwiLFxuICBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIFwiQ2Fubm90IHVzZSBhIHByb3h5IHRoYXQgaGFzIGJlZW4gcmV2b2tlZC4gRGlkIHlvdSBwYXNzIGFuIG9iamVjdCBmcm9tIGluc2lkZSBhbiBpbW1lciBmdW5jdGlvbiB0byBhbiBhc3luYyBwcm9jZXNzPyBcIiArIGRhdGE7XG4gIH0sXG4gIFwiQW4gaW1tZXIgcHJvZHVjZXIgcmV0dXJuZWQgYSBuZXcgdmFsdWUgKmFuZCogbW9kaWZpZWQgaXRzIGRyYWZ0LiBFaXRoZXIgcmV0dXJuIGEgbmV3IHZhbHVlICpvciogbW9kaWZ5IHRoZSBkcmFmdC5cIixcbiAgXCJJbW1lciBmb3JiaWRzIGNpcmN1bGFyIHJlZmVyZW5jZXNcIixcbiAgXCJUaGUgZmlyc3Qgb3Igc2Vjb25kIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb25cIixcbiAgXCJUaGUgdGhpcmQgYXJndW1lbnQgdG8gYHByb2R1Y2VgIG11c3QgYmUgYSBmdW5jdGlvbiBvciB1bmRlZmluZWRcIixcbiAgXCJGaXJzdCBhcmd1bWVudCB0byBgY3JlYXRlRHJhZnRgIG11c3QgYmUgYSBwbGFpbiBvYmplY3QsIGFuIGFycmF5LCBvciBhbiBpbW1lcmFibGUgb2JqZWN0XCIsXG4gIFwiRmlyc3QgYXJndW1lbnQgdG8gYGZpbmlzaERyYWZ0YCBtdXN0IGJlIGEgZHJhZnQgcmV0dXJuZWQgYnkgYGNyZWF0ZURyYWZ0YFwiLFxuICBmdW5jdGlvbih0aGluZykge1xuICAgIHJldHVybiBgJ2N1cnJlbnQnIGV4cGVjdHMgYSBkcmFmdCwgZ290OiAke3RoaW5nfWA7XG4gIH0sXG4gIFwiT2JqZWN0LmRlZmluZVByb3BlcnR5KCkgY2Fubm90IGJlIHVzZWQgb24gYW4gSW1tZXIgZHJhZnRcIixcbiAgXCJPYmplY3Quc2V0UHJvdG90eXBlT2YoKSBjYW5ub3QgYmUgdXNlZCBvbiBhbiBJbW1lciBkcmFmdFwiLFxuICBcIkltbWVyIG9ubHkgc3VwcG9ydHMgZGVsZXRpbmcgYXJyYXkgaW5kaWNlc1wiLFxuICBcIkltbWVyIG9ubHkgc3VwcG9ydHMgc2V0dGluZyBhcnJheSBpbmRpY2VzIGFuZCB0aGUgJ2xlbmd0aCcgcHJvcGVydHlcIixcbiAgZnVuY3Rpb24odGhpbmcpIHtcbiAgICByZXR1cm4gYCdvcmlnaW5hbCcgZXhwZWN0cyBhIGRyYWZ0LCBnb3Q6ICR7dGhpbmd9YDtcbiAgfVxuICAvLyBOb3RlOiBpZiBtb3JlIGVycm9ycyBhcmUgYWRkZWQsIHRoZSBlcnJvck9mZnNldCBpbiBQYXRjaGVzLnRzIHNob3VsZCBiZSBpbmNyZWFzZWRcbiAgLy8gU2VlIFBhdGNoZXMudHMgZm9yIGFkZGl0aW9uYWwgZXJyb3JzXG5dIDogW107XG5mdW5jdGlvbiBkaWUoZXJyb3IsIC4uLmFyZ3MpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGNvbnN0IGUgPSBlcnJvcnNbZXJyb3JdO1xuICAgIGNvbnN0IG1zZyA9IHR5cGVvZiBlID09PSBcImZ1bmN0aW9uXCIgPyBlLmFwcGx5KG51bGwsIGFyZ3MpIDogZTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFtJbW1lcl0gJHttc2d9YCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgIGBbSW1tZXJdIG1pbmlmaWVkIGVycm9yIG5yOiAke2Vycm9yfS4gRnVsbCBlcnJvciBhdDogaHR0cHM6Ly9iaXQubHkvM2NYRUtXZmBcbiAgKTtcbn1cblxuLy8gc3JjL3V0aWxzL2NvbW1vbi50c1xudmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuZnVuY3Rpb24gaXNEcmFmdCh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiAhIXZhbHVlW0RSQUZUX1NUQVRFXTtcbn1cbmZ1bmN0aW9uIGlzRHJhZnRhYmxlKHZhbHVlKSB7XG4gIGlmICghdmFsdWUpXG4gICAgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWx1ZSkgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgISF2YWx1ZVtEUkFGVEFCTEVdIHx8ICEhdmFsdWUuY29uc3RydWN0b3I/LltEUkFGVEFCTEVdIHx8IGlzTWFwKHZhbHVlKSB8fCBpc1NldCh2YWx1ZSk7XG59XG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IudG9TdHJpbmcoKTtcbnZhciBjYWNoZWRDdG9yU3RyaW5ncyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIilcbiAgICByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgaWYgKHByb3RvID09PSBudWxsIHx8IHByb3RvID09PSBPYmplY3QucHJvdG90eXBlKVxuICAgIHJldHVybiB0cnVlO1xuICBjb25zdCBDdG9yID0gT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocHJvdG8sIFwiY29uc3RydWN0b3JcIikgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIGlmIChDdG9yID09PSBPYmplY3QpXG4gICAgcmV0dXJuIHRydWU7XG4gIGlmICh0eXBlb2YgQ3RvciAhPT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBmYWxzZTtcbiAgbGV0IGN0b3JTdHJpbmcgPSBjYWNoZWRDdG9yU3RyaW5ncy5nZXQoQ3Rvcik7XG4gIGlmIChjdG9yU3RyaW5nID09PSB2b2lkIDApIHtcbiAgICBjdG9yU3RyaW5nID0gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChDdG9yKTtcbiAgICBjYWNoZWRDdG9yU3RyaW5ncy5zZXQoQ3RvciwgY3RvclN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIGN0b3JTdHJpbmcgPT09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5mdW5jdGlvbiBvcmlnaW5hbCh2YWx1ZSkge1xuICBpZiAoIWlzRHJhZnQodmFsdWUpKVxuICAgIGRpZSgxNSwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWVbRFJBRlRfU1RBVEVdLmJhc2VfO1xufVxuZnVuY3Rpb24gZWFjaChvYmosIGl0ZXIsIHN0cmljdCA9IHRydWUpIHtcbiAgaWYgKGdldEFyY2h0eXBlKG9iaikgPT09IDAgLyogT2JqZWN0ICovKSB7XG4gICAgY29uc3Qga2V5cyA9IHN0cmljdCA/IFJlZmxlY3Qub3duS2V5cyhvYmopIDogT2JqZWN0LmtleXMob2JqKTtcbiAgICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaXRlcihrZXksIG9ialtrZXldLCBvYmopO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9iai5mb3JFYWNoKChlbnRyeSwgaW5kZXgpID0+IGl0ZXIoaW5kZXgsIGVudHJ5LCBvYmopKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0QXJjaHR5cGUodGhpbmcpIHtcbiAgY29uc3Qgc3RhdGUgPSB0aGluZ1tEUkFGVF9TVEFURV07XG4gIHJldHVybiBzdGF0ZSA/IHN0YXRlLnR5cGVfIDogQXJyYXkuaXNBcnJheSh0aGluZykgPyAxIC8qIEFycmF5ICovIDogaXNNYXAodGhpbmcpID8gMiAvKiBNYXAgKi8gOiBpc1NldCh0aGluZykgPyAzIC8qIFNldCAqLyA6IDAgLyogT2JqZWN0ICovO1xufVxuZnVuY3Rpb24gaGFzKHRoaW5nLCBwcm9wKSB7XG4gIHJldHVybiBnZXRBcmNodHlwZSh0aGluZykgPT09IDIgLyogTWFwICovID8gdGhpbmcuaGFzKHByb3ApIDogT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaW5nLCBwcm9wKTtcbn1cbmZ1bmN0aW9uIGdldCh0aGluZywgcHJvcCkge1xuICByZXR1cm4gZ2V0QXJjaHR5cGUodGhpbmcpID09PSAyIC8qIE1hcCAqLyA/IHRoaW5nLmdldChwcm9wKSA6IHRoaW5nW3Byb3BdO1xufVxuZnVuY3Rpb24gc2V0KHRoaW5nLCBwcm9wT3JPbGRWYWx1ZSwgdmFsdWUpIHtcbiAgY29uc3QgdCA9IGdldEFyY2h0eXBlKHRoaW5nKTtcbiAgaWYgKHQgPT09IDIgLyogTWFwICovKVxuICAgIHRoaW5nLnNldChwcm9wT3JPbGRWYWx1ZSwgdmFsdWUpO1xuICBlbHNlIGlmICh0ID09PSAzIC8qIFNldCAqLykge1xuICAgIHRoaW5nLmFkZCh2YWx1ZSk7XG4gIH0gZWxzZVxuICAgIHRoaW5nW3Byb3BPck9sZFZhbHVlXSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gaXMoeCwgeSkge1xuICBpZiAoeCA9PT0geSkge1xuICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICB9XG59XG5mdW5jdGlvbiBpc01hcCh0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldCBpbnN0YW5jZW9mIE1hcDtcbn1cbmZ1bmN0aW9uIGlzU2V0KHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0IGluc3RhbmNlb2YgU2V0O1xufVxuZnVuY3Rpb24gbGF0ZXN0KHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZS5jb3B5XyB8fCBzdGF0ZS5iYXNlXztcbn1cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KGJhc2UsIHN0cmljdCkge1xuICBpZiAoaXNNYXAoYmFzZSkpIHtcbiAgICByZXR1cm4gbmV3IE1hcChiYXNlKTtcbiAgfVxuICBpZiAoaXNTZXQoYmFzZSkpIHtcbiAgICByZXR1cm4gbmV3IFNldChiYXNlKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShiYXNlKSlcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYmFzZSk7XG4gIGNvbnN0IGlzUGxhaW4gPSBpc1BsYWluT2JqZWN0KGJhc2UpO1xuICBpZiAoc3RyaWN0ID09PSB0cnVlIHx8IHN0cmljdCA9PT0gXCJjbGFzc19vbmx5XCIgJiYgIWlzUGxhaW4pIHtcbiAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGJhc2UpO1xuICAgIGRlbGV0ZSBkZXNjcmlwdG9yc1tEUkFGVF9TVEFURV07XG4gICAgbGV0IGtleXMgPSBSZWZsZWN0Lm93bktleXMoZGVzY3JpcHRvcnMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGNvbnN0IGRlc2MgPSBkZXNjcmlwdG9yc1trZXldO1xuICAgICAgaWYgKGRlc2Mud3JpdGFibGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGRlc2Mud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICBkZXNjLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpXG4gICAgICAgIGRlc2NyaXB0b3JzW2tleV0gPSB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIC8vIGNvdWxkIGxpdmUgd2l0aCAhIWRlc2Muc2V0IGFzIHdlbGwgaGVyZS4uLlxuICAgICAgICAgIGVudW1lcmFibGU6IGRlc2MuZW51bWVyYWJsZSxcbiAgICAgICAgICB2YWx1ZTogYmFzZVtrZXldXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKGdldFByb3RvdHlwZU9mKGJhc2UpLCBkZXNjcmlwdG9ycyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcHJvdG8gPSBnZXRQcm90b3R5cGVPZihiYXNlKTtcbiAgICBpZiAocHJvdG8gIT09IG51bGwgJiYgaXNQbGFpbikge1xuICAgICAgcmV0dXJuIHsgLi4uYmFzZSB9O1xuICAgIH1cbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKHByb3RvKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmosIGJhc2UpO1xuICB9XG59XG5mdW5jdGlvbiBmcmVlemUob2JqLCBkZWVwID0gZmFsc2UpIHtcbiAgaWYgKGlzRnJvemVuKG9iaikgfHwgaXNEcmFmdChvYmopIHx8ICFpc0RyYWZ0YWJsZShvYmopKVxuICAgIHJldHVybiBvYmo7XG4gIGlmIChnZXRBcmNodHlwZShvYmopID4gMSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgc2V0OiBkb250TXV0YXRlTWV0aG9kT3ZlcnJpZGUsXG4gICAgICBhZGQ6IGRvbnRNdXRhdGVNZXRob2RPdmVycmlkZSxcbiAgICAgIGNsZWFyOiBkb250TXV0YXRlTWV0aG9kT3ZlcnJpZGUsXG4gICAgICBkZWxldGU6IGRvbnRNdXRhdGVNZXRob2RPdmVycmlkZVxuICAgIH0pO1xuICB9XG4gIE9iamVjdC5mcmVlemUob2JqKTtcbiAgaWYgKGRlZXApXG4gICAgT2JqZWN0LnZhbHVlcyhvYmopLmZvckVhY2goKHZhbHVlKSA9PiBmcmVlemUodmFsdWUsIHRydWUpKTtcbiAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIGRvbnRNdXRhdGVGcm96ZW5Db2xsZWN0aW9ucygpIHtcbiAgZGllKDIpO1xufVxudmFyIGRvbnRNdXRhdGVNZXRob2RPdmVycmlkZSA9IHtcbiAgdmFsdWU6IGRvbnRNdXRhdGVGcm96ZW5Db2xsZWN0aW9uc1xufTtcbmZ1bmN0aW9uIGlzRnJvemVuKG9iaikge1xuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiBPYmplY3QuaXNGcm96ZW4ob2JqKTtcbn1cblxuLy8gc3JjL3V0aWxzL3BsdWdpbnMudHNcbnZhciBwbHVnaW5zID0ge307XG5mdW5jdGlvbiBnZXRQbHVnaW4ocGx1Z2luS2V5KSB7XG4gIGNvbnN0IHBsdWdpbiA9IHBsdWdpbnNbcGx1Z2luS2V5XTtcbiAgaWYgKCFwbHVnaW4pIHtcbiAgICBkaWUoMCwgcGx1Z2luS2V5KTtcbiAgfVxuICByZXR1cm4gcGx1Z2luO1xufVxuZnVuY3Rpb24gbG9hZFBsdWdpbihwbHVnaW5LZXksIGltcGxlbWVudGF0aW9uKSB7XG4gIGlmICghcGx1Z2luc1twbHVnaW5LZXldKVxuICAgIHBsdWdpbnNbcGx1Z2luS2V5XSA9IGltcGxlbWVudGF0aW9uO1xufVxuXG4vLyBzcmMvY29yZS9zY29wZS50c1xudmFyIGN1cnJlbnRTY29wZTtcbmZ1bmN0aW9uIGdldEN1cnJlbnRTY29wZSgpIHtcbiAgcmV0dXJuIGN1cnJlbnRTY29wZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNjb3BlKHBhcmVudF8sIGltbWVyXykge1xuICByZXR1cm4ge1xuICAgIGRyYWZ0c186IFtdLFxuICAgIHBhcmVudF8sXG4gICAgaW1tZXJfLFxuICAgIC8vIFdoZW5ldmVyIHRoZSBtb2RpZmllZCBkcmFmdCBjb250YWlucyBhIGRyYWZ0IGZyb20gYW5vdGhlciBzY29wZSwgd2VcbiAgICAvLyBuZWVkIHRvIHByZXZlbnQgYXV0by1mcmVlemluZyBzbyB0aGUgdW5vd25lZCBkcmFmdCBjYW4gYmUgZmluYWxpemVkLlxuICAgIGNhbkF1dG9GcmVlemVfOiB0cnVlLFxuICAgIHVuZmluYWxpemVkRHJhZnRzXzogMFxuICB9O1xufVxuZnVuY3Rpb24gdXNlUGF0Y2hlc0luU2NvcGUoc2NvcGUsIHBhdGNoTGlzdGVuZXIpIHtcbiAgaWYgKHBhdGNoTGlzdGVuZXIpIHtcbiAgICBnZXRQbHVnaW4oXCJQYXRjaGVzXCIpO1xuICAgIHNjb3BlLnBhdGNoZXNfID0gW107XG4gICAgc2NvcGUuaW52ZXJzZVBhdGNoZXNfID0gW107XG4gICAgc2NvcGUucGF0Y2hMaXN0ZW5lcl8gPSBwYXRjaExpc3RlbmVyO1xuICB9XG59XG5mdW5jdGlvbiByZXZva2VTY29wZShzY29wZSkge1xuICBsZWF2ZVNjb3BlKHNjb3BlKTtcbiAgc2NvcGUuZHJhZnRzXy5mb3JFYWNoKHJldm9rZURyYWZ0KTtcbiAgc2NvcGUuZHJhZnRzXyA9IG51bGw7XG59XG5mdW5jdGlvbiBsZWF2ZVNjb3BlKHNjb3BlKSB7XG4gIGlmIChzY29wZSA9PT0gY3VycmVudFNjb3BlKSB7XG4gICAgY3VycmVudFNjb3BlID0gc2NvcGUucGFyZW50XztcbiAgfVxufVxuZnVuY3Rpb24gZW50ZXJTY29wZShpbW1lcjIpIHtcbiAgcmV0dXJuIGN1cnJlbnRTY29wZSA9IGNyZWF0ZVNjb3BlKGN1cnJlbnRTY29wZSwgaW1tZXIyKTtcbn1cbmZ1bmN0aW9uIHJldm9rZURyYWZ0KGRyYWZ0KSB7XG4gIGNvbnN0IHN0YXRlID0gZHJhZnRbRFJBRlRfU1RBVEVdO1xuICBpZiAoc3RhdGUudHlwZV8gPT09IDAgLyogT2JqZWN0ICovIHx8IHN0YXRlLnR5cGVfID09PSAxIC8qIEFycmF5ICovKVxuICAgIHN0YXRlLnJldm9rZV8oKTtcbiAgZWxzZVxuICAgIHN0YXRlLnJldm9rZWRfID0gdHJ1ZTtcbn1cblxuLy8gc3JjL2NvcmUvZmluYWxpemUudHNcbmZ1bmN0aW9uIHByb2Nlc3NSZXN1bHQocmVzdWx0LCBzY29wZSkge1xuICBzY29wZS51bmZpbmFsaXplZERyYWZ0c18gPSBzY29wZS5kcmFmdHNfLmxlbmd0aDtcbiAgY29uc3QgYmFzZURyYWZ0ID0gc2NvcGUuZHJhZnRzX1swXTtcbiAgY29uc3QgaXNSZXBsYWNlZCA9IHJlc3VsdCAhPT0gdm9pZCAwICYmIHJlc3VsdCAhPT0gYmFzZURyYWZ0O1xuICBpZiAoaXNSZXBsYWNlZCkge1xuICAgIGlmIChiYXNlRHJhZnRbRFJBRlRfU1RBVEVdLm1vZGlmaWVkXykge1xuICAgICAgcmV2b2tlU2NvcGUoc2NvcGUpO1xuICAgICAgZGllKDQpO1xuICAgIH1cbiAgICBpZiAoaXNEcmFmdGFibGUocmVzdWx0KSkge1xuICAgICAgcmVzdWx0ID0gZmluYWxpemUoc2NvcGUsIHJlc3VsdCk7XG4gICAgICBpZiAoIXNjb3BlLnBhcmVudF8pXG4gICAgICAgIG1heWJlRnJlZXplKHNjb3BlLCByZXN1bHQpO1xuICAgIH1cbiAgICBpZiAoc2NvcGUucGF0Y2hlc18pIHtcbiAgICAgIGdldFBsdWdpbihcIlBhdGNoZXNcIikuZ2VuZXJhdGVSZXBsYWNlbWVudFBhdGNoZXNfKFxuICAgICAgICBiYXNlRHJhZnRbRFJBRlRfU1RBVEVdLmJhc2VfLFxuICAgICAgICByZXN1bHQsXG4gICAgICAgIHNjb3BlLnBhdGNoZXNfLFxuICAgICAgICBzY29wZS5pbnZlcnNlUGF0Y2hlc19cbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IGZpbmFsaXplKHNjb3BlLCBiYXNlRHJhZnQsIFtdKTtcbiAgfVxuICByZXZva2VTY29wZShzY29wZSk7XG4gIGlmIChzY29wZS5wYXRjaGVzXykge1xuICAgIHNjb3BlLnBhdGNoTGlzdGVuZXJfKHNjb3BlLnBhdGNoZXNfLCBzY29wZS5pbnZlcnNlUGF0Y2hlc18pO1xuICB9XG4gIHJldHVybiByZXN1bHQgIT09IE5PVEhJTkcgPyByZXN1bHQgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBmaW5hbGl6ZShyb290U2NvcGUsIHZhbHVlLCBwYXRoKSB7XG4gIGlmIChpc0Zyb3plbih2YWx1ZSkpXG4gICAgcmV0dXJuIHZhbHVlO1xuICBjb25zdCB1c2VTdHJpY3RJdGVyYXRpb24gPSByb290U2NvcGUuaW1tZXJfLnNob3VsZFVzZVN0cmljdEl0ZXJhdGlvbigpO1xuICBjb25zdCBzdGF0ZSA9IHZhbHVlW0RSQUZUX1NUQVRFXTtcbiAgaWYgKCFzdGF0ZSkge1xuICAgIGVhY2goXG4gICAgICB2YWx1ZSxcbiAgICAgIChrZXksIGNoaWxkVmFsdWUpID0+IGZpbmFsaXplUHJvcGVydHkocm9vdFNjb3BlLCBzdGF0ZSwgdmFsdWUsIGtleSwgY2hpbGRWYWx1ZSwgcGF0aCksXG4gICAgICB1c2VTdHJpY3RJdGVyYXRpb25cbiAgICApO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoc3RhdGUuc2NvcGVfICE9PSByb290U2NvcGUpXG4gICAgcmV0dXJuIHZhbHVlO1xuICBpZiAoIXN0YXRlLm1vZGlmaWVkXykge1xuICAgIG1heWJlRnJlZXplKHJvb3RTY29wZSwgc3RhdGUuYmFzZV8sIHRydWUpO1xuICAgIHJldHVybiBzdGF0ZS5iYXNlXztcbiAgfVxuICBpZiAoIXN0YXRlLmZpbmFsaXplZF8pIHtcbiAgICBzdGF0ZS5maW5hbGl6ZWRfID0gdHJ1ZTtcbiAgICBzdGF0ZS5zY29wZV8udW5maW5hbGl6ZWREcmFmdHNfLS07XG4gICAgY29uc3QgcmVzdWx0ID0gc3RhdGUuY29weV87XG4gICAgbGV0IHJlc3VsdEVhY2ggPSByZXN1bHQ7XG4gICAgbGV0IGlzU2V0MiA9IGZhbHNlO1xuICAgIGlmIChzdGF0ZS50eXBlXyA9PT0gMyAvKiBTZXQgKi8pIHtcbiAgICAgIHJlc3VsdEVhY2ggPSBuZXcgU2V0KHJlc3VsdCk7XG4gICAgICByZXN1bHQuY2xlYXIoKTtcbiAgICAgIGlzU2V0MiA9IHRydWU7XG4gICAgfVxuICAgIGVhY2goXG4gICAgICByZXN1bHRFYWNoLFxuICAgICAgKGtleSwgY2hpbGRWYWx1ZSkgPT4gZmluYWxpemVQcm9wZXJ0eShcbiAgICAgICAgcm9vdFNjb3BlLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICBrZXksXG4gICAgICAgIGNoaWxkVmFsdWUsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIGlzU2V0MlxuICAgICAgKSxcbiAgICAgIHVzZVN0cmljdEl0ZXJhdGlvblxuICAgICk7XG4gICAgbWF5YmVGcmVlemUocm9vdFNjb3BlLCByZXN1bHQsIGZhbHNlKTtcbiAgICBpZiAocGF0aCAmJiByb290U2NvcGUucGF0Y2hlc18pIHtcbiAgICAgIGdldFBsdWdpbihcIlBhdGNoZXNcIikuZ2VuZXJhdGVQYXRjaGVzXyhcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIHJvb3RTY29wZS5wYXRjaGVzXyxcbiAgICAgICAgcm9vdFNjb3BlLmludmVyc2VQYXRjaGVzX1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0YXRlLmNvcHlfO1xufVxuZnVuY3Rpb24gZmluYWxpemVQcm9wZXJ0eShyb290U2NvcGUsIHBhcmVudFN0YXRlLCB0YXJnZXRPYmplY3QsIHByb3AsIGNoaWxkVmFsdWUsIHJvb3RQYXRoLCB0YXJnZXRJc1NldCkge1xuICBpZiAoY2hpbGRWYWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgY2hpbGRWYWx1ZSAhPT0gXCJvYmplY3RcIiAmJiAhdGFyZ2V0SXNTZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY2hpbGRJc0Zyb3plbiA9IGlzRnJvemVuKGNoaWxkVmFsdWUpO1xuICBpZiAoY2hpbGRJc0Zyb3plbiAmJiAhdGFyZ2V0SXNTZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiBjaGlsZFZhbHVlID09PSB0YXJnZXRPYmplY3QpXG4gICAgZGllKDUpO1xuICBpZiAoaXNEcmFmdChjaGlsZFZhbHVlKSkge1xuICAgIGNvbnN0IHBhdGggPSByb290UGF0aCAmJiBwYXJlbnRTdGF0ZSAmJiBwYXJlbnRTdGF0ZS50eXBlXyAhPT0gMyAvKiBTZXQgKi8gJiYgLy8gU2V0IG9iamVjdHMgYXJlIGF0b21pYyBzaW5jZSB0aGV5IGhhdmUgbm8ga2V5cy5cbiAgICAhaGFzKHBhcmVudFN0YXRlLmFzc2lnbmVkXywgcHJvcCkgPyByb290UGF0aC5jb25jYXQocHJvcCkgOiB2b2lkIDA7XG4gICAgY29uc3QgcmVzID0gZmluYWxpemUocm9vdFNjb3BlLCBjaGlsZFZhbHVlLCBwYXRoKTtcbiAgICBzZXQodGFyZ2V0T2JqZWN0LCBwcm9wLCByZXMpO1xuICAgIGlmIChpc0RyYWZ0KHJlcykpIHtcbiAgICAgIHJvb3RTY29wZS5jYW5BdXRvRnJlZXplXyA9IGZhbHNlO1xuICAgIH0gZWxzZVxuICAgICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKHRhcmdldElzU2V0KSB7XG4gICAgdGFyZ2V0T2JqZWN0LmFkZChjaGlsZFZhbHVlKTtcbiAgfVxuICBpZiAoaXNEcmFmdGFibGUoY2hpbGRWYWx1ZSkgJiYgIWNoaWxkSXNGcm96ZW4pIHtcbiAgICBpZiAoIXJvb3RTY29wZS5pbW1lcl8uYXV0b0ZyZWV6ZV8gJiYgcm9vdFNjb3BlLnVuZmluYWxpemVkRHJhZnRzXyA8IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHBhcmVudFN0YXRlICYmIHBhcmVudFN0YXRlLmJhc2VfICYmIHBhcmVudFN0YXRlLmJhc2VfW3Byb3BdID09PSBjaGlsZFZhbHVlICYmIGNoaWxkSXNGcm96ZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmluYWxpemUocm9vdFNjb3BlLCBjaGlsZFZhbHVlKTtcbiAgICBpZiAoKCFwYXJlbnRTdGF0ZSB8fCAhcGFyZW50U3RhdGUuc2NvcGVfLnBhcmVudF8pICYmIHR5cGVvZiBwcm9wICE9PSBcInN5bWJvbFwiICYmIChpc01hcCh0YXJnZXRPYmplY3QpID8gdGFyZ2V0T2JqZWN0Lmhhcyhwcm9wKSA6IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh0YXJnZXRPYmplY3QsIHByb3ApKSlcbiAgICAgIG1heWJlRnJlZXplKHJvb3RTY29wZSwgY2hpbGRWYWx1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIG1heWJlRnJlZXplKHNjb3BlLCB2YWx1ZSwgZGVlcCA9IGZhbHNlKSB7XG4gIGlmICghc2NvcGUucGFyZW50XyAmJiBzY29wZS5pbW1lcl8uYXV0b0ZyZWV6ZV8gJiYgc2NvcGUuY2FuQXV0b0ZyZWV6ZV8pIHtcbiAgICBmcmVlemUodmFsdWUsIGRlZXApO1xuICB9XG59XG5cbi8vIHNyYy9jb3JlL3Byb3h5LnRzXG5mdW5jdGlvbiBjcmVhdGVQcm94eVByb3h5KGJhc2UsIHBhcmVudCkge1xuICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShiYXNlKTtcbiAgY29uc3Qgc3RhdGUgPSB7XG4gICAgdHlwZV86IGlzQXJyYXkgPyAxIC8qIEFycmF5ICovIDogMCAvKiBPYmplY3QgKi8sXG4gICAgLy8gVHJhY2sgd2hpY2ggcHJvZHVjZSBjYWxsIHRoaXMgaXMgYXNzb2NpYXRlZCB3aXRoLlxuICAgIHNjb3BlXzogcGFyZW50ID8gcGFyZW50LnNjb3BlXyA6IGdldEN1cnJlbnRTY29wZSgpLFxuICAgIC8vIFRydWUgZm9yIGJvdGggc2hhbGxvdyBhbmQgZGVlcCBjaGFuZ2VzLlxuICAgIG1vZGlmaWVkXzogZmFsc2UsXG4gICAgLy8gVXNlZCBkdXJpbmcgZmluYWxpemF0aW9uLlxuICAgIGZpbmFsaXplZF86IGZhbHNlLFxuICAgIC8vIFRyYWNrIHdoaWNoIHByb3BlcnRpZXMgaGF2ZSBiZWVuIGFzc2lnbmVkICh0cnVlKSBvciBkZWxldGVkIChmYWxzZSkuXG4gICAgYXNzaWduZWRfOiB7fSxcbiAgICAvLyBUaGUgcGFyZW50IGRyYWZ0IHN0YXRlLlxuICAgIHBhcmVudF86IHBhcmVudCxcbiAgICAvLyBUaGUgYmFzZSBzdGF0ZS5cbiAgICBiYXNlXzogYmFzZSxcbiAgICAvLyBUaGUgYmFzZSBwcm94eS5cbiAgICBkcmFmdF86IG51bGwsXG4gICAgLy8gc2V0IGJlbG93XG4gICAgLy8gVGhlIGJhc2UgY29weSB3aXRoIGFueSB1cGRhdGVkIHZhbHVlcy5cbiAgICBjb3B5XzogbnVsbCxcbiAgICAvLyBDYWxsZWQgYnkgdGhlIGBwcm9kdWNlYCBmdW5jdGlvbi5cbiAgICByZXZva2VfOiBudWxsLFxuICAgIGlzTWFudWFsXzogZmFsc2VcbiAgfTtcbiAgbGV0IHRhcmdldCA9IHN0YXRlO1xuICBsZXQgdHJhcHMgPSBvYmplY3RUcmFwcztcbiAgaWYgKGlzQXJyYXkpIHtcbiAgICB0YXJnZXQgPSBbc3RhdGVdO1xuICAgIHRyYXBzID0gYXJyYXlUcmFwcztcbiAgfVxuICBjb25zdCB7IHJldm9rZSwgcHJveHkgfSA9IFByb3h5LnJldm9jYWJsZSh0YXJnZXQsIHRyYXBzKTtcbiAgc3RhdGUuZHJhZnRfID0gcHJveHk7XG4gIHN0YXRlLnJldm9rZV8gPSByZXZva2U7XG4gIHJldHVybiBwcm94eTtcbn1cbnZhciBvYmplY3RUcmFwcyA9IHtcbiAgZ2V0KHN0YXRlLCBwcm9wKSB7XG4gICAgaWYgKHByb3AgPT09IERSQUZUX1NUQVRFKVxuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIGNvbnN0IHNvdXJjZSA9IGxhdGVzdChzdGF0ZSk7XG4gICAgaWYgKCFoYXMoc291cmNlLCBwcm9wKSkge1xuICAgICAgcmV0dXJuIHJlYWRQcm9wRnJvbVByb3RvKHN0YXRlLCBzb3VyY2UsIHByb3ApO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IHNvdXJjZVtwcm9wXTtcbiAgICBpZiAoc3RhdGUuZmluYWxpemVkXyB8fCAhaXNEcmFmdGFibGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gcGVlayhzdGF0ZS5iYXNlXywgcHJvcCkpIHtcbiAgICAgIHByZXBhcmVDb3B5KHN0YXRlKTtcbiAgICAgIHJldHVybiBzdGF0ZS5jb3B5X1twcm9wXSA9IGNyZWF0ZVByb3h5KHZhbHVlLCBzdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcbiAgaGFzKHN0YXRlLCBwcm9wKSB7XG4gICAgcmV0dXJuIHByb3AgaW4gbGF0ZXN0KHN0YXRlKTtcbiAgfSxcbiAgb3duS2V5cyhzdGF0ZSkge1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXMobGF0ZXN0KHN0YXRlKSk7XG4gIH0sXG4gIHNldChzdGF0ZSwgcHJvcCwgdmFsdWUpIHtcbiAgICBjb25zdCBkZXNjID0gZ2V0RGVzY3JpcHRvckZyb21Qcm90byhsYXRlc3Qoc3RhdGUpLCBwcm9wKTtcbiAgICBpZiAoZGVzYz8uc2V0KSB7XG4gICAgICBkZXNjLnNldC5jYWxsKHN0YXRlLmRyYWZ0XywgdmFsdWUpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghc3RhdGUubW9kaWZpZWRfKSB7XG4gICAgICBjb25zdCBjdXJyZW50MiA9IHBlZWsobGF0ZXN0KHN0YXRlKSwgcHJvcCk7XG4gICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBjdXJyZW50Mj8uW0RSQUZUX1NUQVRFXTtcbiAgICAgIGlmIChjdXJyZW50U3RhdGUgJiYgY3VycmVudFN0YXRlLmJhc2VfID09PSB2YWx1ZSkge1xuICAgICAgICBzdGF0ZS5jb3B5X1twcm9wXSA9IHZhbHVlO1xuICAgICAgICBzdGF0ZS5hc3NpZ25lZF9bcHJvcF0gPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaXModmFsdWUsIGN1cnJlbnQyKSAmJiAodmFsdWUgIT09IHZvaWQgMCB8fCBoYXMoc3RhdGUuYmFzZV8sIHByb3ApKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBwcmVwYXJlQ29weShzdGF0ZSk7XG4gICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5jb3B5X1twcm9wXSA9PT0gdmFsdWUgJiYgLy8gc3BlY2lhbCBjYXNlOiBoYW5kbGUgbmV3IHByb3BzIHdpdGggdmFsdWUgJ3VuZGVmaW5lZCdcbiAgICAodmFsdWUgIT09IHZvaWQgMCB8fCBwcm9wIGluIHN0YXRlLmNvcHlfKSB8fCAvLyBzcGVjaWFsIGNhc2U6IE5hTlxuICAgIE51bWJlci5pc05hTih2YWx1ZSkgJiYgTnVtYmVyLmlzTmFOKHN0YXRlLmNvcHlfW3Byb3BdKSlcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIHN0YXRlLmNvcHlfW3Byb3BdID0gdmFsdWU7XG4gICAgc3RhdGUuYXNzaWduZWRfW3Byb3BdID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgZGVsZXRlUHJvcGVydHkoc3RhdGUsIHByb3ApIHtcbiAgICBpZiAocGVlayhzdGF0ZS5iYXNlXywgcHJvcCkgIT09IHZvaWQgMCB8fCBwcm9wIGluIHN0YXRlLmJhc2VfKSB7XG4gICAgICBzdGF0ZS5hc3NpZ25lZF9bcHJvcF0gPSBmYWxzZTtcbiAgICAgIHByZXBhcmVDb3B5KHN0YXRlKTtcbiAgICAgIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHN0YXRlLmFzc2lnbmVkX1twcm9wXTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmNvcHlfKSB7XG4gICAgICBkZWxldGUgc3RhdGUuY29weV9bcHJvcF07XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICAvLyBOb3RlOiBXZSBuZXZlciBjb2VyY2UgYGRlc2MudmFsdWVgIGludG8gYW4gSW1tZXIgZHJhZnQsIGJlY2F1c2Ugd2UgY2FuJ3QgbWFrZVxuICAvLyB0aGUgc2FtZSBndWFyYW50ZWUgaW4gRVM1IG1vZGUuXG4gIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzdGF0ZSwgcHJvcCkge1xuICAgIGNvbnN0IG93bmVyID0gbGF0ZXN0KHN0YXRlKTtcbiAgICBjb25zdCBkZXNjID0gUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob3duZXIsIHByb3ApO1xuICAgIGlmICghZGVzYylcbiAgICAgIHJldHVybiBkZXNjO1xuICAgIHJldHVybiB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogc3RhdGUudHlwZV8gIT09IDEgLyogQXJyYXkgKi8gfHwgcHJvcCAhPT0gXCJsZW5ndGhcIixcbiAgICAgIGVudW1lcmFibGU6IGRlc2MuZW51bWVyYWJsZSxcbiAgICAgIHZhbHVlOiBvd25lcltwcm9wXVxuICAgIH07XG4gIH0sXG4gIGRlZmluZVByb3BlcnR5KCkge1xuICAgIGRpZSgxMSk7XG4gIH0sXG4gIGdldFByb3RvdHlwZU9mKHN0YXRlKSB7XG4gICAgcmV0dXJuIGdldFByb3RvdHlwZU9mKHN0YXRlLmJhc2VfKTtcbiAgfSxcbiAgc2V0UHJvdG90eXBlT2YoKSB7XG4gICAgZGllKDEyKTtcbiAgfVxufTtcbnZhciBhcnJheVRyYXBzID0ge307XG5lYWNoKG9iamVjdFRyYXBzLCAoa2V5LCBmbikgPT4ge1xuICBhcnJheVRyYXBzW2tleV0gPSBmdW5jdGlvbigpIHtcbiAgICBhcmd1bWVudHNbMF0gPSBhcmd1bWVudHNbMF1bMF07XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59KTtcbmFycmF5VHJhcHMuZGVsZXRlUHJvcGVydHkgPSBmdW5jdGlvbihzdGF0ZSwgcHJvcCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGlzTmFOKHBhcnNlSW50KHByb3ApKSlcbiAgICBkaWUoMTMpO1xuICByZXR1cm4gYXJyYXlUcmFwcy5zZXQuY2FsbCh0aGlzLCBzdGF0ZSwgcHJvcCwgdm9pZCAwKTtcbn07XG5hcnJheVRyYXBzLnNldCA9IGZ1bmN0aW9uKHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIHByb3AgIT09IFwibGVuZ3RoXCIgJiYgaXNOYU4ocGFyc2VJbnQocHJvcCkpKVxuICAgIGRpZSgxNCk7XG4gIHJldHVybiBvYmplY3RUcmFwcy5zZXQuY2FsbCh0aGlzLCBzdGF0ZVswXSwgcHJvcCwgdmFsdWUsIHN0YXRlWzBdKTtcbn07XG5mdW5jdGlvbiBwZWVrKGRyYWZ0LCBwcm9wKSB7XG4gIGNvbnN0IHN0YXRlID0gZHJhZnRbRFJBRlRfU1RBVEVdO1xuICBjb25zdCBzb3VyY2UgPSBzdGF0ZSA/IGxhdGVzdChzdGF0ZSkgOiBkcmFmdDtcbiAgcmV0dXJuIHNvdXJjZVtwcm9wXTtcbn1cbmZ1bmN0aW9uIHJlYWRQcm9wRnJvbVByb3RvKHN0YXRlLCBzb3VyY2UsIHByb3ApIHtcbiAgY29uc3QgZGVzYyA9IGdldERlc2NyaXB0b3JGcm9tUHJvdG8oc291cmNlLCBwcm9wKTtcbiAgcmV0dXJuIGRlc2MgPyBgdmFsdWVgIGluIGRlc2MgPyBkZXNjLnZhbHVlIDogKFxuICAgIC8vIFRoaXMgaXMgYSB2ZXJ5IHNwZWNpYWwgY2FzZSwgaWYgdGhlIHByb3AgaXMgYSBnZXR0ZXIgZGVmaW5lZCBieSB0aGVcbiAgICAvLyBwcm90b3R5cGUsIHdlIHNob3VsZCBpbnZva2UgaXQgd2l0aCB0aGUgZHJhZnQgYXMgY29udGV4dCFcbiAgICBkZXNjLmdldD8uY2FsbChzdGF0ZS5kcmFmdF8pXG4gICkgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBnZXREZXNjcmlwdG9yRnJvbVByb3RvKHNvdXJjZSwgcHJvcCkge1xuICBpZiAoIShwcm9wIGluIHNvdXJjZSkpXG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgbGV0IHByb3RvID0gZ2V0UHJvdG90eXBlT2Yoc291cmNlKTtcbiAgd2hpbGUgKHByb3RvKSB7XG4gICAgY29uc3QgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIHByb3ApO1xuICAgIGlmIChkZXNjKVxuICAgICAgcmV0dXJuIGRlc2M7XG4gICAgcHJvdG8gPSBnZXRQcm90b3R5cGVPZihwcm90byk7XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIG1hcmtDaGFuZ2VkKHN0YXRlKSB7XG4gIGlmICghc3RhdGUubW9kaWZpZWRfKSB7XG4gICAgc3RhdGUubW9kaWZpZWRfID0gdHJ1ZTtcbiAgICBpZiAoc3RhdGUucGFyZW50Xykge1xuICAgICAgbWFya0NoYW5nZWQoc3RhdGUucGFyZW50Xyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBwcmVwYXJlQ29weShzdGF0ZSkge1xuICBpZiAoIXN0YXRlLmNvcHlfKSB7XG4gICAgc3RhdGUuY29weV8gPSBzaGFsbG93Q29weShcbiAgICAgIHN0YXRlLmJhc2VfLFxuICAgICAgc3RhdGUuc2NvcGVfLmltbWVyXy51c2VTdHJpY3RTaGFsbG93Q29weV9cbiAgICApO1xuICB9XG59XG5cbi8vIHNyYy9jb3JlL2ltbWVyQ2xhc3MudHNcbnZhciBJbW1lcjIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMuYXV0b0ZyZWV6ZV8gPSB0cnVlO1xuICAgIHRoaXMudXNlU3RyaWN0U2hhbGxvd0NvcHlfID0gZmFsc2U7XG4gICAgdGhpcy51c2VTdHJpY3RJdGVyYXRpb25fID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBUaGUgYHByb2R1Y2VgIGZ1bmN0aW9uIHRha2VzIGEgdmFsdWUgYW5kIGEgXCJyZWNpcGUgZnVuY3Rpb25cIiAod2hvc2VcbiAgICAgKiByZXR1cm4gdmFsdWUgb2Z0ZW4gZGVwZW5kcyBvbiB0aGUgYmFzZSBzdGF0ZSkuIFRoZSByZWNpcGUgZnVuY3Rpb24gaXNcbiAgICAgKiBmcmVlIHRvIG11dGF0ZSBpdHMgZmlyc3QgYXJndW1lbnQgaG93ZXZlciBpdCB3YW50cy4gQWxsIG11dGF0aW9ucyBhcmVcbiAgICAgKiBvbmx5IGV2ZXIgYXBwbGllZCB0byBhIF9fY29weV9fIG9mIHRoZSBiYXNlIHN0YXRlLlxuICAgICAqXG4gICAgICogUGFzcyBvbmx5IGEgZnVuY3Rpb24gdG8gY3JlYXRlIGEgXCJjdXJyaWVkIHByb2R1Y2VyXCIgd2hpY2ggcmVsaWV2ZXMgeW91XG4gICAgICogZnJvbSBwYXNzaW5nIHRoZSByZWNpcGUgZnVuY3Rpb24gZXZlcnkgdGltZS5cbiAgICAgKlxuICAgICAqIE9ubHkgcGxhaW4gb2JqZWN0cyBhbmQgYXJyYXlzIGFyZSBtYWRlIG11dGFibGUuIEFsbCBvdGhlciBvYmplY3RzIGFyZVxuICAgICAqIGNvbnNpZGVyZWQgdW5jb3B5YWJsZS5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgZnVuY3Rpb24gaXMgX19ib3VuZF9fIHRvIGl0cyBgSW1tZXJgIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IGJhc2UgLSB0aGUgaW5pdGlhbCBzdGF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlY2lwZSAtIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYSBwcm94eSBvZiB0aGUgYmFzZSBzdGF0ZSBhcyBmaXJzdCBhcmd1bWVudCBhbmQgd2hpY2ggY2FuIGJlIGZyZWVseSBtb2RpZmllZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhdGNoTGlzdGVuZXIgLSBvcHRpb25hbCBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggYWxsIHRoZSBwYXRjaGVzIHByb2R1Y2VkIGhlcmVcbiAgICAgKiBAcmV0dXJucyB7YW55fSBhIG5ldyBzdGF0ZSwgb3IgdGhlIGluaXRpYWwgc3RhdGUgaWYgbm90aGluZyB3YXMgbW9kaWZpZWRcbiAgICAgKi9cbiAgICB0aGlzLnByb2R1Y2UgPSAoYmFzZSwgcmVjaXBlLCBwYXRjaExpc3RlbmVyKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGJhc2UgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgcmVjaXBlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEJhc2UgPSByZWNpcGU7XG4gICAgICAgIHJlY2lwZSA9IGJhc2U7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gY3VycmllZFByb2R1Y2UoYmFzZTIgPSBkZWZhdWx0QmFzZSwgLi4uYXJncykge1xuICAgICAgICAgIHJldHVybiBzZWxmLnByb2R1Y2UoYmFzZTIsIChkcmFmdCkgPT4gcmVjaXBlLmNhbGwodGhpcywgZHJhZnQsIC4uLmFyZ3MpKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcmVjaXBlICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGRpZSg2KTtcbiAgICAgIGlmIChwYXRjaExpc3RlbmVyICE9PSB2b2lkIDAgJiYgdHlwZW9mIHBhdGNoTGlzdGVuZXIgIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZGllKDcpO1xuICAgICAgbGV0IHJlc3VsdDtcbiAgICAgIGlmIChpc0RyYWZ0YWJsZShiYXNlKSkge1xuICAgICAgICBjb25zdCBzY29wZSA9IGVudGVyU2NvcGUodGhpcyk7XG4gICAgICAgIGNvbnN0IHByb3h5ID0gY3JlYXRlUHJveHkoYmFzZSwgdm9pZCAwKTtcbiAgICAgICAgbGV0IGhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXN1bHQgPSByZWNpcGUocHJveHkpO1xuICAgICAgICAgIGhhc0Vycm9yID0gZmFsc2U7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKGhhc0Vycm9yKVxuICAgICAgICAgICAgcmV2b2tlU2NvcGUoc2NvcGUpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGxlYXZlU2NvcGUoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIHVzZVBhdGNoZXNJblNjb3BlKHNjb3BlLCBwYXRjaExpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NSZXN1bHQocmVzdWx0LCBzY29wZSk7XG4gICAgICB9IGVsc2UgaWYgKCFiYXNlIHx8IHR5cGVvZiBiYXNlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlY2lwZShiYXNlKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKVxuICAgICAgICAgIHJlc3VsdCA9IGJhc2U7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IE5PVEhJTkcpXG4gICAgICAgICAgcmVzdWx0ID0gdm9pZCAwO1xuICAgICAgICBpZiAodGhpcy5hdXRvRnJlZXplXylcbiAgICAgICAgICBmcmVlemUocmVzdWx0LCB0cnVlKTtcbiAgICAgICAgaWYgKHBhdGNoTGlzdGVuZXIpIHtcbiAgICAgICAgICBjb25zdCBwID0gW107XG4gICAgICAgICAgY29uc3QgaXAgPSBbXTtcbiAgICAgICAgICBnZXRQbHVnaW4oXCJQYXRjaGVzXCIpLmdlbmVyYXRlUmVwbGFjZW1lbnRQYXRjaGVzXyhiYXNlLCByZXN1bHQsIHAsIGlwKTtcbiAgICAgICAgICBwYXRjaExpc3RlbmVyKHAsIGlwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBlbHNlXG4gICAgICAgIGRpZSgxLCBiYXNlKTtcbiAgICB9O1xuICAgIHRoaXMucHJvZHVjZVdpdGhQYXRjaGVzID0gKGJhc2UsIHJlY2lwZSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBiYXNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIChzdGF0ZSwgLi4uYXJncykgPT4gdGhpcy5wcm9kdWNlV2l0aFBhdGNoZXMoc3RhdGUsIChkcmFmdCkgPT4gYmFzZShkcmFmdCwgLi4uYXJncykpO1xuICAgICAgfVxuICAgICAgbGV0IHBhdGNoZXMsIGludmVyc2VQYXRjaGVzO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wcm9kdWNlKGJhc2UsIHJlY2lwZSwgKHAsIGlwKSA9PiB7XG4gICAgICAgIHBhdGNoZXMgPSBwO1xuICAgICAgICBpbnZlcnNlUGF0Y2hlcyA9IGlwO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gW3Jlc3VsdCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXNdO1xuICAgIH07XG4gICAgaWYgKHR5cGVvZiBjb25maWc/LmF1dG9GcmVlemUgPT09IFwiYm9vbGVhblwiKVxuICAgICAgdGhpcy5zZXRBdXRvRnJlZXplKGNvbmZpZy5hdXRvRnJlZXplKTtcbiAgICBpZiAodHlwZW9mIGNvbmZpZz8udXNlU3RyaWN0U2hhbGxvd0NvcHkgPT09IFwiYm9vbGVhblwiKVxuICAgICAgdGhpcy5zZXRVc2VTdHJpY3RTaGFsbG93Q29weShjb25maWcudXNlU3RyaWN0U2hhbGxvd0NvcHkpO1xuICAgIGlmICh0eXBlb2YgY29uZmlnPy51c2VTdHJpY3RJdGVyYXRpb24gPT09IFwiYm9vbGVhblwiKVxuICAgICAgdGhpcy5zZXRVc2VTdHJpY3RJdGVyYXRpb24oY29uZmlnLnVzZVN0cmljdEl0ZXJhdGlvbik7XG4gIH1cbiAgY3JlYXRlRHJhZnQoYmFzZSkge1xuICAgIGlmICghaXNEcmFmdGFibGUoYmFzZSkpXG4gICAgICBkaWUoOCk7XG4gICAgaWYgKGlzRHJhZnQoYmFzZSkpXG4gICAgICBiYXNlID0gY3VycmVudChiYXNlKTtcbiAgICBjb25zdCBzY29wZSA9IGVudGVyU2NvcGUodGhpcyk7XG4gICAgY29uc3QgcHJveHkgPSBjcmVhdGVQcm94eShiYXNlLCB2b2lkIDApO1xuICAgIHByb3h5W0RSQUZUX1NUQVRFXS5pc01hbnVhbF8gPSB0cnVlO1xuICAgIGxlYXZlU2NvcGUoc2NvcGUpO1xuICAgIHJldHVybiBwcm94eTtcbiAgfVxuICBmaW5pc2hEcmFmdChkcmFmdCwgcGF0Y2hMaXN0ZW5lcikge1xuICAgIGNvbnN0IHN0YXRlID0gZHJhZnQgJiYgZHJhZnRbRFJBRlRfU1RBVEVdO1xuICAgIGlmICghc3RhdGUgfHwgIXN0YXRlLmlzTWFudWFsXylcbiAgICAgIGRpZSg5KTtcbiAgICBjb25zdCB7IHNjb3BlXzogc2NvcGUgfSA9IHN0YXRlO1xuICAgIHVzZVBhdGNoZXNJblNjb3BlKHNjb3BlLCBwYXRjaExpc3RlbmVyKTtcbiAgICByZXR1cm4gcHJvY2Vzc1Jlc3VsdCh2b2lkIDAsIHNjb3BlKTtcbiAgfVxuICAvKipcbiAgICogUGFzcyB0cnVlIHRvIGF1dG9tYXRpY2FsbHkgZnJlZXplIGFsbCBjb3BpZXMgY3JlYXRlZCBieSBJbW1lci5cbiAgICpcbiAgICogQnkgZGVmYXVsdCwgYXV0by1mcmVlemluZyBpcyBlbmFibGVkLlxuICAgKi9cbiAgc2V0QXV0b0ZyZWV6ZSh2YWx1ZSkge1xuICAgIHRoaXMuYXV0b0ZyZWV6ZV8gPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogUGFzcyB0cnVlIHRvIGVuYWJsZSBzdHJpY3Qgc2hhbGxvdyBjb3B5LlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCBpbW1lciBkb2VzIG5vdCBjb3B5IHRoZSBvYmplY3QgZGVzY3JpcHRvcnMgc3VjaCBhcyBnZXR0ZXIsIHNldHRlciBhbmQgbm9uLWVudW1yYWJsZSBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgc2V0VXNlU3RyaWN0U2hhbGxvd0NvcHkodmFsdWUpIHtcbiAgICB0aGlzLnVzZVN0cmljdFNoYWxsb3dDb3B5XyA9IHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBQYXNzIGZhbHNlIHRvIHVzZSBmYXN0ZXIgaXRlcmF0aW9uIHRoYXQgc2tpcHMgbm9uLWVudW1lcmFibGUgcHJvcGVydGllc1xuICAgKiBidXQgc3RpbGwgaGFuZGxlcyBzeW1ib2xzIGZvciBjb21wYXRpYmlsaXR5LlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCBzdHJpY3QgaXRlcmF0aW9uIGlzIGVuYWJsZWQgKGluY2x1ZGVzIGFsbCBvd24gcHJvcGVydGllcykuXG4gICAqL1xuICBzZXRVc2VTdHJpY3RJdGVyYXRpb24odmFsdWUpIHtcbiAgICB0aGlzLnVzZVN0cmljdEl0ZXJhdGlvbl8gPSB2YWx1ZTtcbiAgfVxuICBzaG91bGRVc2VTdHJpY3RJdGVyYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlU3RyaWN0SXRlcmF0aW9uXztcbiAgfVxuICBhcHBseVBhdGNoZXMoYmFzZSwgcGF0Y2hlcykge1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IHBhdGNoZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gcGF0Y2hlc1tpXTtcbiAgICAgIGlmIChwYXRjaC5wYXRoLmxlbmd0aCA9PT0gMCAmJiBwYXRjaC5vcCA9PT0gXCJyZXBsYWNlXCIpIHtcbiAgICAgICAgYmFzZSA9IHBhdGNoLnZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGkgPiAtMSkge1xuICAgICAgcGF0Y2hlcyA9IHBhdGNoZXMuc2xpY2UoaSArIDEpO1xuICAgIH1cbiAgICBjb25zdCBhcHBseVBhdGNoZXNJbXBsID0gZ2V0UGx1Z2luKFwiUGF0Y2hlc1wiKS5hcHBseVBhdGNoZXNfO1xuICAgIGlmIChpc0RyYWZ0KGJhc2UpKSB7XG4gICAgICByZXR1cm4gYXBwbHlQYXRjaGVzSW1wbChiYXNlLCBwYXRjaGVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvZHVjZShcbiAgICAgIGJhc2UsXG4gICAgICAoZHJhZnQpID0+IGFwcGx5UGF0Y2hlc0ltcGwoZHJhZnQsIHBhdGNoZXMpXG4gICAgKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZVByb3h5KHZhbHVlLCBwYXJlbnQpIHtcbiAgY29uc3QgZHJhZnQgPSBpc01hcCh2YWx1ZSkgPyBnZXRQbHVnaW4oXCJNYXBTZXRcIikucHJveHlNYXBfKHZhbHVlLCBwYXJlbnQpIDogaXNTZXQodmFsdWUpID8gZ2V0UGx1Z2luKFwiTWFwU2V0XCIpLnByb3h5U2V0Xyh2YWx1ZSwgcGFyZW50KSA6IGNyZWF0ZVByb3h5UHJveHkodmFsdWUsIHBhcmVudCk7XG4gIGNvbnN0IHNjb3BlID0gcGFyZW50ID8gcGFyZW50LnNjb3BlXyA6IGdldEN1cnJlbnRTY29wZSgpO1xuICBzY29wZS5kcmFmdHNfLnB1c2goZHJhZnQpO1xuICByZXR1cm4gZHJhZnQ7XG59XG5cbi8vIHNyYy9jb3JlL2N1cnJlbnQudHNcbmZ1bmN0aW9uIGN1cnJlbnQodmFsdWUpIHtcbiAgaWYgKCFpc0RyYWZ0KHZhbHVlKSlcbiAgICBkaWUoMTAsIHZhbHVlKTtcbiAgcmV0dXJuIGN1cnJlbnRJbXBsKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGN1cnJlbnRJbXBsKHZhbHVlKSB7XG4gIGlmICghaXNEcmFmdGFibGUodmFsdWUpIHx8IGlzRnJvemVuKHZhbHVlKSlcbiAgICByZXR1cm4gdmFsdWU7XG4gIGNvbnN0IHN0YXRlID0gdmFsdWVbRFJBRlRfU1RBVEVdO1xuICBsZXQgY29weTtcbiAgbGV0IHN0cmljdCA9IHRydWU7XG4gIGlmIChzdGF0ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWRfKVxuICAgICAgcmV0dXJuIHN0YXRlLmJhc2VfO1xuICAgIHN0YXRlLmZpbmFsaXplZF8gPSB0cnVlO1xuICAgIGNvcHkgPSBzaGFsbG93Q29weSh2YWx1ZSwgc3RhdGUuc2NvcGVfLmltbWVyXy51c2VTdHJpY3RTaGFsbG93Q29weV8pO1xuICAgIHN0cmljdCA9IHN0YXRlLnNjb3BlXy5pbW1lcl8uc2hvdWxkVXNlU3RyaWN0SXRlcmF0aW9uKCk7XG4gIH0gZWxzZSB7XG4gICAgY29weSA9IHNoYWxsb3dDb3B5KHZhbHVlLCB0cnVlKTtcbiAgfVxuICBlYWNoKFxuICAgIGNvcHksXG4gICAgKGtleSwgY2hpbGRWYWx1ZSkgPT4ge1xuICAgICAgc2V0KGNvcHksIGtleSwgY3VycmVudEltcGwoY2hpbGRWYWx1ZSkpO1xuICAgIH0sXG4gICAgc3RyaWN0XG4gICk7XG4gIGlmIChzdGF0ZSkge1xuICAgIHN0YXRlLmZpbmFsaXplZF8gPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gY29weTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvcGF0Y2hlcy50c1xuZnVuY3Rpb24gZW5hYmxlUGF0Y2hlcygpIHtcbiAgY29uc3QgZXJyb3JPZmZzZXQgPSAxNjtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGVycm9ycy5wdXNoKFxuICAgICAgJ1NldHMgY2Fubm90IGhhdmUgXCJyZXBsYWNlXCIgcGF0Y2hlcy4nLFxuICAgICAgZnVuY3Rpb24ob3ApIHtcbiAgICAgICAgcmV0dXJuIFwiVW5zdXBwb3J0ZWQgcGF0Y2ggb3BlcmF0aW9uOiBcIiArIG9wO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIFwiQ2Fubm90IGFwcGx5IHBhdGNoLCBwYXRoIGRvZXNuJ3QgcmVzb2x2ZTogXCIgKyBwYXRoO1xuICAgICAgfSxcbiAgICAgIFwiUGF0Y2hpbmcgcmVzZXJ2ZWQgYXR0cmlidXRlcyBsaWtlIF9fcHJvdG9fXywgcHJvdG90eXBlIGFuZCBjb25zdHJ1Y3RvciBpcyBub3QgYWxsb3dlZFwiXG4gICAgKTtcbiAgfVxuICBjb25zdCBSRVBMQUNFID0gXCJyZXBsYWNlXCI7XG4gIGNvbnN0IEFERCA9IFwiYWRkXCI7XG4gIGNvbnN0IFJFTU9WRSA9IFwicmVtb3ZlXCI7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlUGF0Y2hlc18oc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIHN3aXRjaCAoc3RhdGUudHlwZV8pIHtcbiAgICAgIGNhc2UgMCAvKiBPYmplY3QgKi86XG4gICAgICBjYXNlIDIgLyogTWFwICovOlxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVQYXRjaGVzRnJvbUFzc2lnbmVkKFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIGJhc2VQYXRoLFxuICAgICAgICAgIHBhdGNoZXMsXG4gICAgICAgICAgaW52ZXJzZVBhdGNoZXNcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgMSAvKiBBcnJheSAqLzpcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlQXJyYXlQYXRjaGVzKHN0YXRlLCBiYXNlUGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpO1xuICAgICAgY2FzZSAzIC8qIFNldCAqLzpcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlU2V0UGF0Y2hlcyhcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBiYXNlUGF0aCxcbiAgICAgICAgICBwYXRjaGVzLFxuICAgICAgICAgIGludmVyc2VQYXRjaGVzXG4gICAgICAgICk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdlbmVyYXRlQXJyYXlQYXRjaGVzKHN0YXRlLCBiYXNlUGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpIHtcbiAgICBsZXQgeyBiYXNlXywgYXNzaWduZWRfIH0gPSBzdGF0ZTtcbiAgICBsZXQgY29weV8gPSBzdGF0ZS5jb3B5XztcbiAgICBpZiAoY29weV8ubGVuZ3RoIDwgYmFzZV8ubGVuZ3RoKSB7XG4gICAgICA7XG4gICAgICBbYmFzZV8sIGNvcHlfXSA9IFtjb3B5XywgYmFzZV9dO1xuICAgICAgW3BhdGNoZXMsIGludmVyc2VQYXRjaGVzXSA9IFtpbnZlcnNlUGF0Y2hlcywgcGF0Y2hlc107XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFzZV8ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhc3NpZ25lZF9baV0gJiYgY29weV9baV0gIT09IGJhc2VfW2ldKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBiYXNlUGF0aC5jb25jYXQoW2ldKTtcbiAgICAgICAgcGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICBvcDogUkVQTEFDRSxcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIC8vIE5lZWQgdG8gbWF5YmUgY2xvbmUgaXQsIGFzIGl0IGNhbiBpbiBmYWN0IGJlIHRoZSBvcmlnaW5hbCB2YWx1ZVxuICAgICAgICAgIC8vIGR1ZSB0byB0aGUgYmFzZS9jb3B5IGludmVyc2lvbiBhdCB0aGUgc3RhcnQgb2YgdGhpcyBmdW5jdGlvblxuICAgICAgICAgIHZhbHVlOiBjbG9uZVBhdGNoVmFsdWVJZk5lZWRlZChjb3B5X1tpXSlcbiAgICAgICAgfSk7XG4gICAgICAgIGludmVyc2VQYXRjaGVzLnB1c2goe1xuICAgICAgICAgIG9wOiBSRVBMQUNFLFxuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgdmFsdWU6IGNsb25lUGF0Y2hWYWx1ZUlmTmVlZGVkKGJhc2VfW2ldKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGJhc2VfLmxlbmd0aDsgaSA8IGNvcHlfLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwYXRoID0gYmFzZVBhdGguY29uY2F0KFtpXSk7XG4gICAgICBwYXRjaGVzLnB1c2goe1xuICAgICAgICBvcDogQURELFxuICAgICAgICBwYXRoLFxuICAgICAgICAvLyBOZWVkIHRvIG1heWJlIGNsb25lIGl0LCBhcyBpdCBjYW4gaW4gZmFjdCBiZSB0aGUgb3JpZ2luYWwgdmFsdWVcbiAgICAgICAgLy8gZHVlIHRvIHRoZSBiYXNlL2NvcHkgaW52ZXJzaW9uIGF0IHRoZSBzdGFydCBvZiB0aGlzIGZ1bmN0aW9uXG4gICAgICAgIHZhbHVlOiBjbG9uZVBhdGNoVmFsdWVJZk5lZWRlZChjb3B5X1tpXSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gY29weV8ubGVuZ3RoIC0gMTsgYmFzZV8ubGVuZ3RoIDw9IGk7IC0taSkge1xuICAgICAgY29uc3QgcGF0aCA9IGJhc2VQYXRoLmNvbmNhdChbaV0pO1xuICAgICAgaW52ZXJzZVBhdGNoZXMucHVzaCh7XG4gICAgICAgIG9wOiBSRU1PVkUsXG4gICAgICAgIHBhdGhcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZW5lcmF0ZVBhdGNoZXNGcm9tQXNzaWduZWQoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIGNvbnN0IHsgYmFzZV8sIGNvcHlfIH0gPSBzdGF0ZTtcbiAgICBlYWNoKHN0YXRlLmFzc2lnbmVkXywgKGtleSwgYXNzaWduZWRWYWx1ZSkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ1ZhbHVlID0gZ2V0KGJhc2VfLCBrZXkpO1xuICAgICAgY29uc3QgdmFsdWUgPSBnZXQoY29weV8sIGtleSk7XG4gICAgICBjb25zdCBvcCA9ICFhc3NpZ25lZFZhbHVlID8gUkVNT1ZFIDogaGFzKGJhc2VfLCBrZXkpID8gUkVQTEFDRSA6IEFERDtcbiAgICAgIGlmIChvcmlnVmFsdWUgPT09IHZhbHVlICYmIG9wID09PSBSRVBMQUNFKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBwYXRoID0gYmFzZVBhdGguY29uY2F0KGtleSk7XG4gICAgICBwYXRjaGVzLnB1c2gob3AgPT09IFJFTU9WRSA/IHsgb3AsIHBhdGggfSA6IHsgb3AsIHBhdGgsIHZhbHVlIH0pO1xuICAgICAgaW52ZXJzZVBhdGNoZXMucHVzaChcbiAgICAgICAgb3AgPT09IEFERCA/IHsgb3A6IFJFTU9WRSwgcGF0aCB9IDogb3AgPT09IFJFTU9WRSA/IHsgb3A6IEFERCwgcGF0aCwgdmFsdWU6IGNsb25lUGF0Y2hWYWx1ZUlmTmVlZGVkKG9yaWdWYWx1ZSkgfSA6IHsgb3A6IFJFUExBQ0UsIHBhdGgsIHZhbHVlOiBjbG9uZVBhdGNoVmFsdWVJZk5lZWRlZChvcmlnVmFsdWUpIH1cbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2VuZXJhdGVTZXRQYXRjaGVzKHN0YXRlLCBiYXNlUGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpIHtcbiAgICBsZXQgeyBiYXNlXywgY29weV8gfSA9IHN0YXRlO1xuICAgIGxldCBpID0gMDtcbiAgICBiYXNlXy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCFjb3B5Xy5oYXModmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBiYXNlUGF0aC5jb25jYXQoW2ldKTtcbiAgICAgICAgcGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICBvcDogUkVNT1ZFLFxuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIGludmVyc2VQYXRjaGVzLnVuc2hpZnQoe1xuICAgICAgICAgIG9wOiBBREQsXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9KTtcbiAgICBpID0gMDtcbiAgICBjb3B5Xy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKCFiYXNlXy5oYXModmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBiYXNlUGF0aC5jb25jYXQoW2ldKTtcbiAgICAgICAgcGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICBvcDogQURELFxuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICAgIGludmVyc2VQYXRjaGVzLnVuc2hpZnQoe1xuICAgICAgICAgIG9wOiBSRU1PVkUsXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBnZW5lcmF0ZVJlcGxhY2VtZW50UGF0Y2hlc18oYmFzZVZhbHVlLCByZXBsYWNlbWVudCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpIHtcbiAgICBwYXRjaGVzLnB1c2goe1xuICAgICAgb3A6IFJFUExBQ0UsXG4gICAgICBwYXRoOiBbXSxcbiAgICAgIHZhbHVlOiByZXBsYWNlbWVudCA9PT0gTk9USElORyA/IHZvaWQgMCA6IHJlcGxhY2VtZW50XG4gICAgfSk7XG4gICAgaW52ZXJzZVBhdGNoZXMucHVzaCh7XG4gICAgICBvcDogUkVQTEFDRSxcbiAgICAgIHBhdGg6IFtdLFxuICAgICAgdmFsdWU6IGJhc2VWYWx1ZVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGFwcGx5UGF0Y2hlc18oZHJhZnQsIHBhdGNoZXMpIHtcbiAgICBwYXRjaGVzLmZvckVhY2goKHBhdGNoKSA9PiB7XG4gICAgICBjb25zdCB7IHBhdGgsIG9wIH0gPSBwYXRjaDtcbiAgICAgIGxldCBiYXNlID0gZHJhZnQ7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudFR5cGUgPSBnZXRBcmNodHlwZShiYXNlKTtcbiAgICAgICAgbGV0IHAgPSBwYXRoW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHAgIT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHAgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBwID0gXCJcIiArIHA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwYXJlbnRUeXBlID09PSAwIC8qIE9iamVjdCAqLyB8fCBwYXJlbnRUeXBlID09PSAxIC8qIEFycmF5ICovKSAmJiAocCA9PT0gXCJfX3Byb3RvX19cIiB8fCBwID09PSBcImNvbnN0cnVjdG9yXCIpKVxuICAgICAgICAgIGRpZShlcnJvck9mZnNldCArIDMpO1xuICAgICAgICBpZiAodHlwZW9mIGJhc2UgPT09IFwiZnVuY3Rpb25cIiAmJiBwID09PSBcInByb3RvdHlwZVwiKVxuICAgICAgICAgIGRpZShlcnJvck9mZnNldCArIDMpO1xuICAgICAgICBiYXNlID0gZ2V0KGJhc2UsIHApO1xuICAgICAgICBpZiAodHlwZW9mIGJhc2UgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgZGllKGVycm9yT2Zmc2V0ICsgMiwgcGF0aC5qb2luKFwiL1wiKSk7XG4gICAgICB9XG4gICAgICBjb25zdCB0eXBlID0gZ2V0QXJjaHR5cGUoYmFzZSk7XG4gICAgICBjb25zdCB2YWx1ZSA9IGRlZXBDbG9uZVBhdGNoVmFsdWUocGF0Y2gudmFsdWUpO1xuICAgICAgY29uc3Qga2V5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgc3dpdGNoIChvcCkge1xuICAgICAgICBjYXNlIFJFUExBQ0U6XG4gICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDIgLyogTWFwICovOlxuICAgICAgICAgICAgICByZXR1cm4gYmFzZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlIDMgLyogU2V0ICovOlxuICAgICAgICAgICAgICBkaWUoZXJyb3JPZmZzZXQpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2Vba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBBREQ6XG4gICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDEgLyogQXJyYXkgKi86XG4gICAgICAgICAgICAgIHJldHVybiBrZXkgPT09IFwiLVwiID8gYmFzZS5wdXNoKHZhbHVlKSA6IGJhc2Uuc3BsaWNlKGtleSwgMCwgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAyIC8qIE1hcCAqLzpcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2Uuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAzIC8qIFNldCAqLzpcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2UuYWRkKHZhbHVlKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBiYXNlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgUkVNT1ZFOlxuICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxIC8qIEFycmF5ICovOlxuICAgICAgICAgICAgICByZXR1cm4gYmFzZS5zcGxpY2Uoa2V5LCAxKTtcbiAgICAgICAgICAgIGNhc2UgMiAvKiBNYXAgKi86XG4gICAgICAgICAgICAgIHJldHVybiBiYXNlLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgY2FzZSAzIC8qIFNldCAqLzpcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2UuZGVsZXRlKHBhdGNoLnZhbHVlKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBkZWxldGUgYmFzZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBkaWUoZXJyb3JPZmZzZXQgKyAxLCBvcCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRyYWZ0O1xuICB9XG4gIGZ1bmN0aW9uIGRlZXBDbG9uZVBhdGNoVmFsdWUob2JqKSB7XG4gICAgaWYgKCFpc0RyYWZ0YWJsZShvYmopKVxuICAgICAgcmV0dXJuIG9iajtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKVxuICAgICAgcmV0dXJuIG9iai5tYXAoZGVlcENsb25lUGF0Y2hWYWx1ZSk7XG4gICAgaWYgKGlzTWFwKG9iaikpXG4gICAgICByZXR1cm4gbmV3IE1hcChcbiAgICAgICAgQXJyYXkuZnJvbShvYmouZW50cmllcygpKS5tYXAoKFtrLCB2XSkgPT4gW2ssIGRlZXBDbG9uZVBhdGNoVmFsdWUodildKVxuICAgICAgKTtcbiAgICBpZiAoaXNTZXQob2JqKSlcbiAgICAgIHJldHVybiBuZXcgU2V0KEFycmF5LmZyb20ob2JqKS5tYXAoZGVlcENsb25lUGF0Y2hWYWx1ZSkpO1xuICAgIGNvbnN0IGNsb25lZCA9IE9iamVjdC5jcmVhdGUoZ2V0UHJvdG90eXBlT2Yob2JqKSk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKVxuICAgICAgY2xvbmVkW2tleV0gPSBkZWVwQ2xvbmVQYXRjaFZhbHVlKG9ialtrZXldKTtcbiAgICBpZiAoaGFzKG9iaiwgRFJBRlRBQkxFKSlcbiAgICAgIGNsb25lZFtEUkFGVEFCTEVdID0gb2JqW0RSQUZUQUJMRV07XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxuICBmdW5jdGlvbiBjbG9uZVBhdGNoVmFsdWVJZk5lZWRlZChvYmopIHtcbiAgICBpZiAoaXNEcmFmdChvYmopKSB7XG4gICAgICByZXR1cm4gZGVlcENsb25lUGF0Y2hWYWx1ZShvYmopO1xuICAgIH0gZWxzZVxuICAgICAgcmV0dXJuIG9iajtcbiAgfVxuICBsb2FkUGx1Z2luKFwiUGF0Y2hlc1wiLCB7XG4gICAgYXBwbHlQYXRjaGVzXyxcbiAgICBnZW5lcmF0ZVBhdGNoZXNfLFxuICAgIGdlbmVyYXRlUmVwbGFjZW1lbnRQYXRjaGVzX1xuICB9KTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvbWFwc2V0LnRzXG5mdW5jdGlvbiBlbmFibGVNYXBTZXQoKSB7XG4gIGNsYXNzIERyYWZ0TWFwIGV4dGVuZHMgTWFwIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIHBhcmVudCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXNbRFJBRlRfU1RBVEVdID0ge1xuICAgICAgICB0eXBlXzogMiAvKiBNYXAgKi8sXG4gICAgICAgIHBhcmVudF86IHBhcmVudCxcbiAgICAgICAgc2NvcGVfOiBwYXJlbnQgPyBwYXJlbnQuc2NvcGVfIDogZ2V0Q3VycmVudFNjb3BlKCksXG4gICAgICAgIG1vZGlmaWVkXzogZmFsc2UsXG4gICAgICAgIGZpbmFsaXplZF86IGZhbHNlLFxuICAgICAgICBjb3B5Xzogdm9pZCAwLFxuICAgICAgICBhc3NpZ25lZF86IHZvaWQgMCxcbiAgICAgICAgYmFzZV86IHRhcmdldCxcbiAgICAgICAgZHJhZnRfOiB0aGlzLFxuICAgICAgICBpc01hbnVhbF86IGZhbHNlLFxuICAgICAgICByZXZva2VkXzogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgcmV0dXJuIGxhdGVzdCh0aGlzW0RSQUZUX1NUQVRFXSkuc2l6ZTtcbiAgICB9XG4gICAgaGFzKGtleSkge1xuICAgICAgcmV0dXJuIGxhdGVzdCh0aGlzW0RSQUZUX1NUQVRFXSkuaGFzKGtleSk7XG4gICAgfVxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgIGlmICghbGF0ZXN0KHN0YXRlKS5oYXMoa2V5KSB8fCBsYXRlc3Qoc3RhdGUpLmdldChrZXkpICE9PSB2YWx1ZSkge1xuICAgICAgICBwcmVwYXJlTWFwQ29weShzdGF0ZSk7XG4gICAgICAgIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgc3RhdGUuYXNzaWduZWRfLnNldChrZXksIHRydWUpO1xuICAgICAgICBzdGF0ZS5jb3B5Xy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHN0YXRlLmFzc2lnbmVkXy5zZXQoa2V5LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICBpZiAoIXRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgICBwcmVwYXJlTWFwQ29weShzdGF0ZSk7XG4gICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICBpZiAoc3RhdGUuYmFzZV8uaGFzKGtleSkpIHtcbiAgICAgICAgc3RhdGUuYXNzaWduZWRfLnNldChrZXksIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLmFzc2lnbmVkXy5kZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmNvcHlfLmRlbGV0ZShrZXkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgICBpZiAobGF0ZXN0KHN0YXRlKS5zaXplKSB7XG4gICAgICAgIHByZXBhcmVNYXBDb3B5KHN0YXRlKTtcbiAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICBzdGF0ZS5hc3NpZ25lZF8gPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgICBlYWNoKHN0YXRlLmJhc2VfLCAoa2V5KSA9PiB7XG4gICAgICAgICAgc3RhdGUuYXNzaWduZWRfLnNldChrZXksIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXRlLmNvcHlfLmNsZWFyKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvckVhY2goY2IsIHRoaXNBcmcpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV07XG4gICAgICBsYXRlc3Qoc3RhdGUpLmZvckVhY2goKF92YWx1ZSwga2V5LCBfbWFwKSA9PiB7XG4gICAgICAgIGNiLmNhbGwodGhpc0FyZywgdGhpcy5nZXQoa2V5KSwga2V5LCB0aGlzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgIGNvbnN0IHZhbHVlID0gbGF0ZXN0KHN0YXRlKS5nZXQoa2V5KTtcbiAgICAgIGlmIChzdGF0ZS5maW5hbGl6ZWRfIHx8ICFpc0RyYWZ0YWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlICE9PSBzdGF0ZS5iYXNlXy5nZXQoa2V5KSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFmdCA9IGNyZWF0ZVByb3h5KHZhbHVlLCBzdGF0ZSk7XG4gICAgICBwcmVwYXJlTWFwQ29weShzdGF0ZSk7XG4gICAgICBzdGF0ZS5jb3B5Xy5zZXQoa2V5LCBkcmFmdCk7XG4gICAgICByZXR1cm4gZHJhZnQ7XG4gICAgfVxuICAgIGtleXMoKSB7XG4gICAgICByZXR1cm4gbGF0ZXN0KHRoaXNbRFJBRlRfU1RBVEVdKS5rZXlzKCk7XG4gICAgfVxuICAgIHZhbHVlcygpIHtcbiAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5rZXlzKCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4gdGhpcy52YWx1ZXMoKSxcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHIgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXQoci52YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBlbnRyaWVzKCkge1xuICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLmtleXMoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PiB0aGlzLmVudHJpZXMoKSxcbiAgICAgICAgbmV4dDogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHIgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXQoci52YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IFtyLnZhbHVlLCB2YWx1ZV1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBbKERSQUZUX1NUQVRFLCBTeW1ib2wuaXRlcmF0b3IpXSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVudHJpZXMoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHJveHlNYXBfKHRhcmdldCwgcGFyZW50KSB7XG4gICAgcmV0dXJuIG5ldyBEcmFmdE1hcCh0YXJnZXQsIHBhcmVudCk7XG4gIH1cbiAgZnVuY3Rpb24gcHJlcGFyZU1hcENvcHkoc3RhdGUpIHtcbiAgICBpZiAoIXN0YXRlLmNvcHlfKSB7XG4gICAgICBzdGF0ZS5hc3NpZ25lZF8gPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgc3RhdGUuY29weV8gPSBuZXcgTWFwKHN0YXRlLmJhc2VfKTtcbiAgICB9XG4gIH1cbiAgY2xhc3MgRHJhZnRTZXQgZXh0ZW5kcyBTZXQge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpc1tEUkFGVF9TVEFURV0gPSB7XG4gICAgICAgIHR5cGVfOiAzIC8qIFNldCAqLyxcbiAgICAgICAgcGFyZW50XzogcGFyZW50LFxuICAgICAgICBzY29wZV86IHBhcmVudCA/IHBhcmVudC5zY29wZV8gOiBnZXRDdXJyZW50U2NvcGUoKSxcbiAgICAgICAgbW9kaWZpZWRfOiBmYWxzZSxcbiAgICAgICAgZmluYWxpemVkXzogZmFsc2UsXG4gICAgICAgIGNvcHlfOiB2b2lkIDAsXG4gICAgICAgIGJhc2VfOiB0YXJnZXQsXG4gICAgICAgIGRyYWZ0XzogdGhpcyxcbiAgICAgICAgZHJhZnRzXzogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgICAgcmV2b2tlZF86IGZhbHNlLFxuICAgICAgICBpc01hbnVhbF86IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIHJldHVybiBsYXRlc3QodGhpc1tEUkFGVF9TVEFURV0pLnNpemU7XG4gICAgfVxuICAgIGhhcyh2YWx1ZSkge1xuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgICBpZiAoIXN0YXRlLmNvcHlfKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5iYXNlXy5oYXModmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmNvcHlfLmhhcyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHN0YXRlLmRyYWZ0c18uaGFzKHZhbHVlKSAmJiBzdGF0ZS5jb3B5Xy5oYXMoc3RhdGUuZHJhZnRzXy5nZXQodmFsdWUpKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGFkZCh2YWx1ZSkge1xuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgICBpZiAoIXRoaXMuaGFzKHZhbHVlKSkge1xuICAgICAgICBwcmVwYXJlU2V0Q29weShzdGF0ZSk7XG4gICAgICAgIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgc3RhdGUuY29weV8uYWRkKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZWxldGUodmFsdWUpIHtcbiAgICAgIGlmICghdGhpcy5oYXModmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV07XG4gICAgICBhc3NlcnRVbnJldm9rZWQoc3RhdGUpO1xuICAgICAgcHJlcGFyZVNldENvcHkoc3RhdGUpO1xuICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgcmV0dXJuIHN0YXRlLmNvcHlfLmRlbGV0ZSh2YWx1ZSkgfHwgKHN0YXRlLmRyYWZ0c18uaGFzKHZhbHVlKSA/IHN0YXRlLmNvcHlfLmRlbGV0ZShzdGF0ZS5kcmFmdHNfLmdldCh2YWx1ZSkpIDogKFxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBmYWxzZVxuICAgICAgKSk7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzW0RSQUZUX1NUQVRFXTtcbiAgICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgICBpZiAobGF0ZXN0KHN0YXRlKS5zaXplKSB7XG4gICAgICAgIHByZXBhcmVTZXRDb3B5KHN0YXRlKTtcbiAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICBzdGF0ZS5jb3B5Xy5jbGVhcigpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YWx1ZXMoKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXNbRFJBRlRfU1RBVEVdO1xuICAgICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICAgIHByZXBhcmVTZXRDb3B5KHN0YXRlKTtcbiAgICAgIHJldHVybiBzdGF0ZS5jb3B5Xy52YWx1ZXMoKTtcbiAgICB9XG4gICAgZW50cmllcygpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpc1tEUkFGVF9TVEFURV07XG4gICAgICBhc3NlcnRVbnJldm9rZWQoc3RhdGUpO1xuICAgICAgcHJlcGFyZVNldENvcHkoc3RhdGUpO1xuICAgICAgcmV0dXJuIHN0YXRlLmNvcHlfLmVudHJpZXMoKTtcbiAgICB9XG4gICAga2V5cygpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xuICAgIH1cbiAgICBbKERSQUZUX1NUQVRFLCBTeW1ib2wuaXRlcmF0b3IpXSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlcygpO1xuICAgIH1cbiAgICBmb3JFYWNoKGNiLCB0aGlzQXJnKSB7XG4gICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMudmFsdWVzKCk7XG4gICAgICBsZXQgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgd2hpbGUgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICBjYi5jYWxsKHRoaXNBcmcsIHJlc3VsdC52YWx1ZSwgcmVzdWx0LnZhbHVlLCB0aGlzKTtcbiAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm94eVNldF8odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICByZXR1cm4gbmV3IERyYWZ0U2V0KHRhcmdldCwgcGFyZW50KTtcbiAgfVxuICBmdW5jdGlvbiBwcmVwYXJlU2V0Q29weShzdGF0ZSkge1xuICAgIGlmICghc3RhdGUuY29weV8pIHtcbiAgICAgIHN0YXRlLmNvcHlfID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIHN0YXRlLmJhc2VfLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChpc0RyYWZ0YWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICBjb25zdCBkcmFmdCA9IGNyZWF0ZVByb3h5KHZhbHVlLCBzdGF0ZSk7XG4gICAgICAgICAgc3RhdGUuZHJhZnRzXy5zZXQodmFsdWUsIGRyYWZ0KTtcbiAgICAgICAgICBzdGF0ZS5jb3B5Xy5hZGQoZHJhZnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLmNvcHlfLmFkZCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBhc3NlcnRVbnJldm9rZWQoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucmV2b2tlZF8pXG4gICAgICBkaWUoMywgSlNPTi5zdHJpbmdpZnkobGF0ZXN0KHN0YXRlKSkpO1xuICB9XG4gIGxvYWRQbHVnaW4oXCJNYXBTZXRcIiwgeyBwcm94eU1hcF8sIHByb3h5U2V0XyB9KTtcbn1cblxuLy8gc3JjL2ltbWVyLnRzXG52YXIgaW1tZXIgPSBuZXcgSW1tZXIyKCk7XG52YXIgcHJvZHVjZSA9IGltbWVyLnByb2R1Y2U7XG52YXIgcHJvZHVjZVdpdGhQYXRjaGVzID0gLyogQF9fUFVSRV9fICovIGltbWVyLnByb2R1Y2VXaXRoUGF0Y2hlcy5iaW5kKFxuICBpbW1lclxuKTtcbnZhciBzZXRBdXRvRnJlZXplID0gLyogQF9fUFVSRV9fICovIGltbWVyLnNldEF1dG9GcmVlemUuYmluZChpbW1lcik7XG52YXIgc2V0VXNlU3RyaWN0U2hhbGxvd0NvcHkgPSAvKiBAX19QVVJFX18gKi8gaW1tZXIuc2V0VXNlU3RyaWN0U2hhbGxvd0NvcHkuYmluZChcbiAgaW1tZXJcbik7XG52YXIgc2V0VXNlU3RyaWN0SXRlcmF0aW9uID0gLyogQF9fUFVSRV9fICovIGltbWVyLnNldFVzZVN0cmljdEl0ZXJhdGlvbi5iaW5kKFxuICBpbW1lclxuKTtcbnZhciBhcHBseVBhdGNoZXMgPSAvKiBAX19QVVJFX18gKi8gaW1tZXIuYXBwbHlQYXRjaGVzLmJpbmQoaW1tZXIpO1xudmFyIGNyZWF0ZURyYWZ0ID0gLyogQF9fUFVSRV9fICovIGltbWVyLmNyZWF0ZURyYWZ0LmJpbmQoaW1tZXIpO1xudmFyIGZpbmlzaERyYWZ0ID0gLyogQF9fUFVSRV9fICovIGltbWVyLmZpbmlzaERyYWZ0LmJpbmQoaW1tZXIpO1xuZnVuY3Rpb24gY2FzdERyYWZ0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNhc3RJbW11dGFibGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IHtcbiAgSW1tZXIyIGFzIEltbWVyLFxuICBhcHBseVBhdGNoZXMsXG4gIGNhc3REcmFmdCxcbiAgY2FzdEltbXV0YWJsZSxcbiAgY3JlYXRlRHJhZnQsXG4gIGN1cnJlbnQsXG4gIGVuYWJsZU1hcFNldCxcbiAgZW5hYmxlUGF0Y2hlcyxcbiAgZmluaXNoRHJhZnQsXG4gIGZyZWV6ZSxcbiAgRFJBRlRBQkxFIGFzIGltbWVyYWJsZSxcbiAgaXNEcmFmdCxcbiAgaXNEcmFmdGFibGUsXG4gIE5PVEhJTkcgYXMgbm90aGluZyxcbiAgb3JpZ2luYWwsXG4gIHByb2R1Y2UsXG4gIHByb2R1Y2VXaXRoUGF0Y2hlcyxcbiAgc2V0QXV0b0ZyZWV6ZSxcbiAgc2V0VXNlU3RyaWN0SXRlcmF0aW9uLFxuICBzZXRVc2VTdHJpY3RTaGFsbG93Q29weVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltbWVyLm1qcy5tYXAiLCIndXNlIHN0cmljdCc7XG5cbnZhciBtID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBleHBvcnRzLmNyZWF0ZVJvb3QgPSBtLmNyZWF0ZVJvb3Q7XG4gIGV4cG9ydHMuaHlkcmF0ZVJvb3QgPSBtLmh5ZHJhdGVSb290O1xufSBlbHNlIHtcbiAgdmFyIGkgPSBtLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEO1xuICBleHBvcnRzLmNyZWF0ZVJvb3QgPSBmdW5jdGlvbihjLCBvKSB7XG4gICAgaS51c2luZ0NsaWVudEVudHJ5UG9pbnQgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbS5jcmVhdGVSb290KGMsIG8pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpLnVzaW5nQ2xpZW50RW50cnlQb2ludCA9IGZhbHNlO1xuICAgIH1cbiAgfTtcbiAgZXhwb3J0cy5oeWRyYXRlUm9vdCA9IGZ1bmN0aW9uKGMsIGgsIG8pIHtcbiAgICBpLnVzaW5nQ2xpZW50RW50cnlQb2ludCA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBtLmh5ZHJhdGVSb290KGMsIGgsIG8pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpLnVzaW5nQ2xpZW50RW50cnlQb2ludCA9IGZhbHNlO1xuICAgIH1cbiAgfTtcbn1cbiIsImludGVyZmFjZSBCYXNlRXJyb3JEYXRhIHtcbiAgdXJsOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgRXJyb3JSZXBvcnQgZXh0ZW5kcyBCYXNlRXJyb3JEYXRhIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzdGFjaz86IHN0cmluZztcbiAgY29tcG9uZW50U3RhY2s/OiBzdHJpbmc7XG4gIGVycm9yQm91bmRhcnk/OiBib29sZWFuO1xuICBlcnJvckJvdW5kYXJ5UHJvcHM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgc291cmNlPzogc3RyaW5nO1xuICBsaW5lbm8/OiBudW1iZXI7XG4gIGNvbG5vPzogbnVtYmVyO1xuICBlcnJvcj86IHVua25vd247XG4gIGxldmVsOiBcImVycm9yXCIgfCBcIndhcm5pbmdcIiB8IFwiaW5mb1wiO1xuICBwYXJzZWRTdGFjaz86IHN0cmluZztcbiAgY2F0ZWdvcnk/OiBcInJlYWN0XCIgfCBcImphdmFzY3JpcHRcIiB8IFwibmV0d29ya1wiIHwgXCJ1c2VyXCIgfCBcInVua25vd25cIjtcbn1cblxuLy8gUmVtb3ZlZCBsZWdhY3kgRXJyb3JTaWduYXR1cmUgYW5kIHJlbGF0ZWQgaW50ZXJuYWwgZGVkdXAgbG9naWMgaW4gZmF2b3Igb2YgR2xvYmFsRXJyb3JEZWR1cGxpY2F0aW9uXG5cbnR5cGUgQ29uc29sZU1ldGhvZCA9IFwid2FyblwiIHwgXCJlcnJvclwiO1xudHlwZSBDb25zb2xlQXJncyA9IHVua25vd25bXTtcblxuaW50ZXJmYWNlIEVycm9yRmlsdGVyUmVzdWx0IHtcbiAgc2hvdWxkUmVwb3J0OiBib29sZWFuO1xuICByZWFzb24/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBFcnJvckNvbnRleHQge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHN0YWNrPzogc3RyaW5nO1xuICBzb3VyY2U/OiBzdHJpbmc7XG4gIHVybD86IHN0cmluZztcbiAgbGV2ZWw6IFwiZXJyb3JcIiB8IFwid2FybmluZ1wiIHwgXCJpbmZvXCI7XG59XG5cbi8vIFNoYXJlZCBjYXRlZ29yaXphdGlvbiB1dGlsaXR5ICh1c2VkIGJ5IGJvdGggY2xhc3MgYW5kIGltbWVkaWF0ZSBpbnRlcmNlcHRvcnMpXG5jb25zdCBjYXRlZ29yaXplID0gKG1lc3NhZ2U6IHN0cmluZyk6IEVycm9yUmVwb3J0W1wiY2F0ZWdvcnlcIl0gPT4ge1xuICBpZiAobWVzc2FnZS5pbmNsdWRlcyhcIldhcm5pbmc6XCIpIHx8IG1lc3NhZ2UuaW5jbHVkZXMoXCJSZWFjdFwiKSkgcmV0dXJuIFwicmVhY3RcIjtcbiAgaWYgKFxuICAgIG1lc3NhZ2UuaW5jbHVkZXMoXCJmZXRjaFwiKSB8fFxuICAgIG1lc3NhZ2UuaW5jbHVkZXMoXCJuZXR3b3JrXCIpIHx8XG4gICAgbWVzc2FnZS5pbmNsdWRlcyhcIkZhaWxlZCB0byBsb2FkXCIpXG4gIClcbiAgICByZXR1cm4gXCJuZXR3b3JrXCI7XG4gIGlmIChcbiAgICBtZXNzYWdlLmluY2x1ZGVzKFwiVHlwZUVycm9yXCIpIHx8XG4gICAgbWVzc2FnZS5pbmNsdWRlcyhcIlJlZmVyZW5jZUVycm9yXCIpIHx8XG4gICAgbWVzc2FnZS5pbmNsdWRlcyhcIlN5bnRheEVycm9yXCIpXG4gIClcbiAgICByZXR1cm4gXCJqYXZhc2NyaXB0XCI7XG4gIHJldHVybiBcInVua25vd25cIjtcbn07XG5cbi8vIFNoYXJlZCBwYXR0ZXJucyBhbmQgd3JhcHBlcnNcbmNvbnN0IFJFQUNUX1dBUk5JTkdfUEFUVEVSTiA9IFwiV2FybmluZzpcIiBhcyBjb25zdDtcbmNvbnN0IFdBUk5JTkdfUFJFRklYID0gXCJbV0FSTklOR11cIiBhcyBjb25zdDtcbmNvbnN0IENPTlNPTEVfRVJST1JfUFJFRklYID0gXCJbQ09OU09MRSBFUlJPUl1cIiBhcyBjb25zdDtcbmNvbnN0IFNPVVJDRV9GSUxFX1BBVFRFUk5TOiBSZWFkb25seUFycmF5PFJlZ0V4cD4gPSBbXG4gIC9cXC50c3g/JC8sXG4gIC9cXC5qc3g/JC8sXG4gIC9cXC9zcmNcXC8vLFxuXTtcbmNvbnN0IFZFTkRPUl9QQVRURVJOUzogUmVhZG9ubHlBcnJheTxSZWdFeHA+ID0gW1xuICAvbm9kZV9tb2R1bGVzLyxcbiAgL1xcLnZpdGUvLFxuICAvY2h1bmstLyxcbiAgL2RlcHMvLFxuXTtcblxudHlwZSBXcmFwcGVkQ29uc29sZUZuID0gKCguLi5hcmdzOiB1bmtub3duW10pID0+IHZvaWQpICYge1xuICBfX2Vycm9yUmVwb3J0ZXJXcmFwcGVkPzogYm9vbGVhbjtcbn07XG50eXBlIENvbnNvbGVOYXRpdmUgPSAoLi4uYXJnczogdW5rbm93bltdKSA9PiB2b2lkO1xuXG5jb25zdCBpc1JlYWN0Um91dGVyRnV0dXJlRmxhZ01lc3NhZ2UgPSAobWVzc2FnZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGZ1dHVyZVBhdHRlcm5zID0gW1xuICAgIC9SZWFjdCBSb3V0ZXIgRnV0dXJlIEZsYWcgV2FybmluZy9pLFxuICAgIC9mdXR1cmUgZmxhZyB0byBvcHQtaW4gZWFybHkvaSxcbiAgICAvcmVhY3Ryb3V0ZXJcXC5jb20uKnVwZ3JhZGluZy4qZnV0dXJlL2ksXG4gICAgL3Y3X1xcdysuKmZ1dHVyZSBmbGFnL2ksXG4gIF07XG4gIHJldHVybiBmdXR1cmVQYXR0ZXJucy5zb21lKChwKSA9PiBwLnRlc3QobWVzc2FnZSkpO1xufTtcblxuY29uc3QgaXNEZXByZWNhdGVkUmVhY3RXYXJuaW5nTWVzc2FnZSA9IChtZXNzYWdlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgY29uc3QgZGVwcmVjYXRlZFBhdHRlcm5zID0gW1xuICAgIC9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLyxcbiAgICAvY29tcG9uZW50V2lsbE1vdW50LyxcbiAgICAvY29tcG9uZW50V2lsbFVwZGF0ZS8sXG4gICAgL1VOU0FGRV9jb21wb25lbnRXaWxsLyxcbiAgXTtcbiAgcmV0dXJuIGRlcHJlY2F0ZWRQYXR0ZXJucy5zb21lKChwKSA9PiBwLnRlc3QobWVzc2FnZSkpO1xufTtcblxuY29uc3QgaGFzUmVsZXZhbnRTb3VyY2VJblN0YWNrID0gKHN0YWNrPzogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIGlmICghc3RhY2spIHJldHVybiBmYWxzZTtcbiAgY29uc3QgbGluZXMgPSBzdGFjay5zcGxpdChcIlxcblwiKTtcbiAgY29uc3QgaGFzU291cmNlRmlsZXMgPSBsaW5lcy5zb21lKChsaW5lKSA9PlxuICAgIFNPVVJDRV9GSUxFX1BBVFRFUk5TLnNvbWUoKHBhdCkgPT4gcGF0LnRlc3QobGluZSkpXG4gICk7XG4gIGlmIChoYXNTb3VyY2VGaWxlcykgcmV0dXJuIHRydWU7XG5cbiAgY29uc3QgaXNBbGxWZW5kb3IgPSBsaW5lcy5ldmVyeShcbiAgICAobGluZSkgPT5cbiAgICAgIGxpbmUudHJpbSgpID09PSBcIlwiIHx8XG4gICAgICBsaW5lLmluY2x1ZGVzKFwiRXJyb3JcIikgfHxcbiAgICAgIFZFTkRPUl9QQVRURVJOUy5zb21lKChwYXQpID0+IHBhdC50ZXN0KGxpbmUpKVxuICApO1xuICByZXR1cm4gIWlzQWxsVmVuZG9yO1xufTtcblxuaW50ZXJmYWNlIEVycm9yUHJlY2VkZW5jZSB7XG4gIGhhc1NvdXJjZUNvZGU6IGJvb2xlYW47XG4gIGlzV2FybmluZzogYm9vbGVhbjtcbiAgc3RhY2tEZXB0aDogbnVtYmVyO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbn1cblxuLy8gU2hhcmVkIGRlZHVwbGljYXRpb24gc3lzdGVtIGJldHdlZW4gaW1tZWRpYXRlIGFuZCBjbGFzcyBpbnRlcmNlcHRvcnNcbmNsYXNzIEdsb2JhbEVycm9yRGVkdXBsaWNhdGlvbiB7XG4gIHByaXZhdGUgcmVwb3J0ZWRFcnJvcnMgPSBuZXcgTWFwPFxuICAgIHN0cmluZyxcbiAgICB7IHRpbWVzdGFtcDogbnVtYmVyOyBwcmVjZWRlbmNlOiBFcnJvclByZWNlZGVuY2U7IHJlcG9ydGVkOiBib29sZWFuIH1cbiAgPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IGRlZHVwbGljYXRpb25XaW5kb3cgPSA1MDAwOyAvLyA1IHNlY29uZHNcbiAgcHJpdmF0ZSByZWFkb25seSBjbGVhbnVwSW50ZXJ2YWwgPSA2MDAwMDsgLy8gMSBtaW51dGVcbiAgcHJpdmF0ZSBsYXN0Q2xlYW51cCA9IERhdGUubm93KCk7XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVQcmVjZWRlbmNlKGNvbnRleHQ6IEVycm9yQ29udGV4dCk6IEVycm9yUHJlY2VkZW5jZSB7XG4gICAgY29uc3QgaGFzU291cmNlQ29kZSA9IHRoaXMuaGFzUmVsZXZhbnRTb3VyY2VDb2RlKGNvbnRleHQuc3RhY2spO1xuICAgIGNvbnN0IGlzV2FybmluZyA9IGNvbnRleHQubGV2ZWwgPT09IFwid2FybmluZ1wiO1xuICAgIGNvbnN0IHN0YWNrRGVwdGggPSBjb250ZXh0LnN0YWNrID8gY29udGV4dC5zdGFjay5zcGxpdChcIlxcblwiKS5sZW5ndGggOiAwO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhhc1NvdXJjZUNvZGUsXG4gICAgICBpc1dhcm5pbmcsXG4gICAgICBzdGFja0RlcHRoLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGhhc1JlbGV2YW50U291cmNlQ29kZShzdGFjaz86IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmICghc3RhY2spIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gc3RhY2tcbiAgICAgIC5zcGxpdChcIlxcblwiKVxuICAgICAgLnNvbWUoXG4gICAgICAgIChsaW5lKSA9PlxuICAgICAgICAgIC9cXC50c3g/JC8udGVzdChsaW5lKSB8fCAvXFwuanN4PyQvLnRlc3QobGluZSkgfHwgL1xcL3NyY1xcLy8udGVzdChsaW5lKVxuICAgICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNIaWdoZXJQcmVjZWRlbmNlKFxuICAgIG5ld1ByZWM6IEVycm9yUHJlY2VkZW5jZSxcbiAgICBleGlzdGluZ1ByZWM6IEVycm9yUHJlY2VkZW5jZVxuICApOiBib29sZWFuIHtcbiAgICAvLyBQcmVmZXIgZXJyb3JzIHdpdGggc291cmNlIGNvZGVcbiAgICBpZiAobmV3UHJlYy5oYXNTb3VyY2VDb2RlICE9PSBleGlzdGluZ1ByZWMuaGFzU291cmNlQ29kZSkge1xuICAgICAgcmV0dXJuIG5ld1ByZWMuaGFzU291cmNlQ29kZTtcbiAgICB9XG5cbiAgICAvLyBGb3Igc2FtZSBzb3VyY2UgY29kZSBwcmVzZW5jZSwgcHJlZmVyIHdhcm5pbmdzICh0aGV5IG9mdGVuIGhhdmUgYmV0dGVyIHN0YWNrIHRyYWNlcylcbiAgICBpZiAobmV3UHJlYy5pc1dhcm5pbmcgIT09IGV4aXN0aW5nUHJlYy5pc1dhcm5pbmcpIHtcbiAgICAgIHJldHVybiBuZXdQcmVjLmlzV2FybmluZztcbiAgICB9XG5cbiAgICAvLyBQcmVmZXIgZGVlcGVyIHN0YWNrIHRyYWNlcyAobW9yZSBjb250ZXh0KVxuICAgIGlmIChuZXdQcmVjLnN0YWNrRGVwdGggIT09IGV4aXN0aW5nUHJlYy5zdGFja0RlcHRoKSB7XG4gICAgICByZXR1cm4gbmV3UHJlYy5zdGFja0RlcHRoID4gZXhpc3RpbmdQcmVjLnN0YWNrRGVwdGg7XG4gICAgfVxuXG4gICAgLy8gUHJlZmVyIG5ld2VyIGVycm9yc1xuICAgIHJldHVybiBuZXdQcmVjLnRpbWVzdGFtcCA+IGV4aXN0aW5nUHJlYy50aW1lc3RhbXA7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlU2lnbmF0dXJlKGNvbnRleHQ6IEVycm9yQ29udGV4dCk6IHN0cmluZyB7XG4gICAgLy8gTm9ybWFsaXplIG1lc3NhZ2UgdG8gZ3JvdXAgYWxsIHZhcmlhbnRzIG9mIHRoZSBzYW1lIGVycm9yXG4gICAgbGV0IG1lc3NhZ2VDb3JlID0gY29udGV4dC5tZXNzYWdlXG4gICAgICAucmVwbGFjZSgvXFxbQ09OU09MRSBFUlJPUlxcXXxcXFtXQVJOSU5HXFxdL2csIFwiXCIpXG4gICAgICAucmVwbGFjZSgvXlVuY2F1Z2h0IEVycm9yOlxccyovaSwgXCJcIilcbiAgICAgIC5yZXBsYWNlKC9eRXJyb3I6XFxzKi9pLCBcIlwiKVxuICAgICAgLnJlcGxhY2UoLyVzLio/XFxuL2csIFwiXCIpIC8vIFJlbW92ZSBSZWFjdCBmb3JtYXR0aW5nXG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIikgLy8gTm9ybWFsaXplIHdoaXRlc3BhY2VcbiAgICAgIC50cmltKCk7XG5cbiAgICAvLyBFeHRyYWN0IHRoZSBjb3JlIGVycm9yIG1lc3NhZ2UgZm9yIGJldHRlciBncm91cGluZ1xuICAgIC8vIEZvciBcIk1heGltdW0gdXBkYXRlIGRlcHRoIGV4Y2VlZGVkXCIgZXJyb3JzLCB1c2UganVzdCB0aGF0IGtleSBwaHJhc2VcbiAgICBpZiAobWVzc2FnZUNvcmUuaW5jbHVkZXMoXCJNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZFwiKSkge1xuICAgICAgbWVzc2FnZUNvcmUgPSBcIk1heGltdW0gdXBkYXRlIGRlcHRoIGV4Y2VlZGVkXCI7XG4gICAgfVxuICAgIC8vIEZvciBnZXRTbmFwc2hvdCBlcnJvcnNcbiAgICBlbHNlIGlmIChcbiAgICAgIG1lc3NhZ2VDb3JlLmluY2x1ZGVzKFwiVGhlIHJlc3VsdCBvZiBnZXRTbmFwc2hvdCBzaG91bGQgYmUgY2FjaGVkXCIpXG4gICAgKSB7XG4gICAgICBtZXNzYWdlQ29yZSA9IFwiVGhlIHJlc3VsdCBvZiBnZXRTbmFwc2hvdCBzaG91bGQgYmUgY2FjaGVkXCI7XG4gICAgfVxuICAgIC8vIEZvciBSZWFjdCBSb3V0ZXIgY2F1Z2h0IGVycm9yc1xuICAgIGVsc2UgaWYgKG1lc3NhZ2VDb3JlLmluY2x1ZGVzKFwiUmVhY3QgUm91dGVyIGNhdWdodCB0aGUgZm9sbG93aW5nIGVycm9yXCIpKSB7XG4gICAgICBtZXNzYWdlQ29yZSA9IFwiUmVhY3QgUm91dGVyIGNhdWdodCBlcnJvclwiO1xuICAgIH1cblxuICAgIC8vIERvbid0IGluY2x1ZGUgc3RhY2sgaW4gc2lnbmF0dXJlIC0ganVzdCB0aGUgY29yZSBtZXNzYWdlXG4gICAgLy8gVGhpcyBlbnN1cmVzIGFsbCB2YXJpYW50cyBvZiB0aGUgc2FtZSBlcnJvciBhcmUgZ3JvdXBlZCB0b2dldGhlclxuICAgIHJldHVybiBtZXNzYWdlQ29yZTtcbiAgfVxuXG4gIHNob3VsZFJlcG9ydChcbiAgICBjb250ZXh0OiBFcnJvckNvbnRleHQsXG4gICAgaW1tZWRpYXRlID0gZmFsc2VcbiAgKTogeyBzaG91bGRSZXBvcnQ6IGJvb2xlYW47IHJlYXNvbj86IHN0cmluZyB9IHtcbiAgICB0aGlzLm1heWJlQ2xlYW51cCgpO1xuXG4gICAgY29uc3Qgc2lnbmF0dXJlID0gdGhpcy5nZW5lcmF0ZVNpZ25hdHVyZShjb250ZXh0KTtcbiAgICBjb25zdCBwcmVjZWRlbmNlID0gdGhpcy5jYWxjdWxhdGVQcmVjZWRlbmNlKGNvbnRleHQpO1xuICAgIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5yZXBvcnRlZEVycm9ycy5nZXQoc2lnbmF0dXJlKTtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKCFleGlzdGluZykge1xuICAgICAgLy8gRm9yIGltbWVkaWF0ZSByZXBvcnRpbmcsIHJlcXVpcmUgc291cmNlIGNvZGUgdG8gYXZvaWQgdmVuZG9yLW9ubHkgbm9pc2VcbiAgICAgIGlmIChpbW1lZGlhdGUgJiYgIXByZWNlZGVuY2UuaGFzU291cmNlQ29kZSkge1xuICAgICAgICByZXR1cm4geyBzaG91bGRSZXBvcnQ6IGZhbHNlLCByZWFzb246IFwibm9fc291cmNlX2NvZGVcIiB9O1xuICAgICAgfVxuICAgICAgLy8gUmVjb3JkIGFuZCBhbGxvdyByZXBvcnRpbmdcbiAgICAgIHRoaXMucmVwb3J0ZWRFcnJvcnMuc2V0KHNpZ25hdHVyZSwge1xuICAgICAgICB0aW1lc3RhbXA6IG5vdyxcbiAgICAgICAgcHJlY2VkZW5jZSxcbiAgICAgICAgcmVwb3J0ZWQ6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHNob3VsZFJlcG9ydDogdHJ1ZSB9O1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBiZXR0ZXIgdmVyc2lvbiBvZiB0aGUgc2FtZSBlcnJvclxuICAgIGlmICh0aGlzLmlzSGlnaGVyUHJlY2VkZW5jZShwcmVjZWRlbmNlLCBleGlzdGluZy5wcmVjZWRlbmNlKSkge1xuICAgICAgLy8gT25seSByZXBvcnQgaWYgc2lnbmlmaWNhbnRseSBiZXR0ZXIgKGhhcyBzb3VyY2UgY29kZSB3aGVuIGV4aXN0aW5nIGRvZXNuJ3QpXG4gICAgICBpZiAocHJlY2VkZW5jZS5oYXNTb3VyY2VDb2RlICYmICFleGlzdGluZy5wcmVjZWRlbmNlLmhhc1NvdXJjZUNvZGUpIHtcbiAgICAgICAgZXhpc3RpbmcucHJlY2VkZW5jZSA9IHByZWNlZGVuY2U7XG4gICAgICAgIGV4aXN0aW5nLnRpbWVzdGFtcCA9IG5vdztcbiAgICAgICAgZXhpc3RpbmcucmVwb3J0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4geyBzaG91bGRSZXBvcnQ6IHRydWUgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayBkZWR1cGxpY2F0aW9uIHdpbmRvd1xuICAgIGlmIChub3cgLSBleGlzdGluZy50aW1lc3RhbXAgPCB0aGlzLmRlZHVwbGljYXRpb25XaW5kb3cpIHtcbiAgICAgIHJldHVybiB7IHNob3VsZFJlcG9ydDogZmFsc2UsIHJlYXNvbjogXCJkdXBsaWNhdGVfaW5fd2luZG93XCIgfTtcbiAgICB9XG5cbiAgICAvLyBFbm91Z2ggdGltZSBoYXMgcGFzc2VkLCBidXQgY2hlY2sgc291cmNlIGNvZGUgcmVxdWlyZW1lbnQgZm9yIGltbWVkaWF0ZVxuICAgIGlmIChpbW1lZGlhdGUgJiYgIXByZWNlZGVuY2UuaGFzU291cmNlQ29kZSkge1xuICAgICAgcmV0dXJuIHsgc2hvdWxkUmVwb3J0OiBmYWxzZSwgcmVhc29uOiBcIm5vX3NvdXJjZV9jb2RlXCIgfTtcbiAgICB9XG5cbiAgICAvLyBBbGxvdyByZXBvcnRpbmcgYWZ0ZXIgd2luZG93IGV4cGlyZXNcbiAgICBleGlzdGluZy50aW1lc3RhbXAgPSBub3c7XG4gICAgZXhpc3RpbmcucHJlY2VkZW5jZSA9IHByZWNlZGVuY2U7XG4gICAgZXhpc3RpbmcucmVwb3J0ZWQgPSB0cnVlO1xuICAgIHJldHVybiB7IHNob3VsZFJlcG9ydDogdHJ1ZSB9O1xuICB9XG5cbiAgLy8gUmVtb3ZlZCBkZWZlcnJlZCBiZXN0LXZlcnNpb24gcmVwb3J0aW5nOyBkZWR1cGxpY2F0aW9uIGlzIHN5bmNocm9ub3VzIG5vd1xuXG4gIHByaXZhdGUgbWF5YmVDbGVhbnVwKCkge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKG5vdyAtIHRoaXMubGFzdENsZWFudXAgPiB0aGlzLmNsZWFudXBJbnRlcnZhbCkge1xuICAgICAgY29uc3QgY3V0b2ZmID0gbm93IC0gMzAwMDAwOyAvLyA1IG1pbnV0ZXNcbiAgICAgIGZvciAoY29uc3QgW3NpZ25hdHVyZSwgZGF0YV0gb2YgdGhpcy5yZXBvcnRlZEVycm9ycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKGRhdGEudGltZXN0YW1wIDwgY3V0b2ZmKSB7XG4gICAgICAgICAgdGhpcy5yZXBvcnRlZEVycm9ycy5kZWxldGUoc2lnbmF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5sYXN0Q2xlYW51cCA9IG5vdztcbiAgICB9XG4gIH1cbn1cblxuLy8gR2xvYmFsIGluc3RhbmNlIHNoYXJlZCBhY3Jvc3MgYWxsIGludGVyY2VwdG9yc1xuY29uc3QgZ2xvYmFsRGVkdXBsaWNhdGlvbiA9IG5ldyBHbG9iYWxFcnJvckRlZHVwbGljYXRpb24oKTtcblxuY2xhc3MgRXJyb3JSZXBvcnRlciB7XG4gIHByaXZhdGUgZXJyb3JRdWV1ZTogRXJyb3JSZXBvcnRbXSA9IFtdO1xuICBwcml2YXRlIGlzUmVwb3J0aW5nID0gZmFsc2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgbWF4UXVldWVTaXplID0gMTA7XG4gIHByaXZhdGUgcmVhZG9ubHkgcmVwb3J0aW5nRW5kcG9pbnQgPSBcIi9hcGkvY2xpZW50LWVycm9yc1wiO1xuICBwcml2YXRlIG9yaWdpbmFsQ29uc29sZVdhcm46IHR5cGVvZiBjb25zb2xlLndhcm4gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBvcmlnaW5hbENvbnNvbGVFcnJvcjogdHlwZW9mIGNvbnNvbGUuZXJyb3IgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBpc0luaXRpYWxpemVkID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjsgLy8gU2tpcCBpbiBTU1JcblxuICAgIHRyeSB7XG4gICAgICAvLyBTZXQgdXAgaW50ZXJjZXB0b3JzIElNTUVESUFURUxZIHVzaW5nIHByb3BlcnR5IGRlc2NyaXB0b3JzIHRvIGludGVyY2VwdCBldmVuIGNhY2hlZCByZWZlcmVuY2VzXG4gICAgICB0aGlzLnNldHVwQ29uc29sZUludGVyY2VwdG9ycygpO1xuICAgICAgdGhpcy5zZXR1cEdsb2JhbEVycm9ySGFuZGxlcigpO1xuICAgICAgdGhpcy5zZXR1cFVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZXIoKTtcblxuICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbRXJyb3JSZXBvcnRlcl0gRmFpbGVkIHRvIGluaXRpYWxpemU6XCIsIGVycik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cEdsb2JhbEVycm9ySGFuZGxlcigpIHtcbiAgICBjb25zdCBvcmlnaW5hbEhhbmRsZXIgPSB3aW5kb3cub25lcnJvcjtcbiAgICB3aW5kb3cub25lcnJvciA9IChtZXNzYWdlLCBzb3VyY2UsIGxpbmVubywgY29sbm8sIGVycm9yKSA9PiB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIjtcblxuICAgICAgY29uc3QgY29udGV4dDogRXJyb3JDb250ZXh0ID0ge1xuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBlcnJvcj8uc3RhY2ssXG4gICAgICAgIHNvdXJjZTogc291cmNlIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgbGV2ZWw6IFwiZXJyb3JcIixcbiAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGZpbHRlclJlc3VsdCA9IHRoaXMuZmlsdGVyRXJyb3IoY29udGV4dCk7XG4gICAgICBpZiAoIWZpbHRlclJlc3VsdC5zaG91bGRSZXBvcnQpIHtcbiAgICAgICAgLy8gU3RpbGwgY2FsbCBvcmlnaW5hbCBoYW5kbGVyIGV2ZW4gaWYgd2UgZG9uJ3QgcmVwb3J0XG4gICAgICAgIGlmIChvcmlnaW5hbEhhbmRsZXIpIHtcbiAgICAgICAgICByZXR1cm4gb3JpZ2luYWxIYW5kbGVyKG1lc3NhZ2UsIHNvdXJjZSwgbGluZW5vLCBjb2xubywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYXlsb2FkID0gdGhpcy5jcmVhdGVFcnJvclBheWxvYWQoe1xuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBlcnJvcj8uc3RhY2ssXG4gICAgICAgIHBhcnNlZFN0YWNrOiB0aGlzLnBhcnNlU3RhY2tUcmFjZShlcnJvcj8uc3RhY2spLFxuICAgICAgICBzb3VyY2U6IHNvdXJjZSB8fCB1bmRlZmluZWQsXG4gICAgICAgIGxpbmVubzogbGluZW5vIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgY29sbm86IGNvbG5vIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMucmVwb3J0KHBheWxvYWQpO1xuXG4gICAgICAvLyBDYWxsIG9yaWdpbmFsIGhhbmRsZXIgaWYgaXQgZXhpc3RzXG4gICAgICBpZiAob3JpZ2luYWxIYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbEhhbmRsZXIobWVzc2FnZSwgc291cmNlLCBsaW5lbm8sIGNvbG5vLCBlcnJvcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gUHJldmVudCBkZWZhdWx0IGJyb3dzZXIgZXJyb3IgaGFuZGxpbmdcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cFVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZXIoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIiwgKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBlcnJvciA9IGV2ZW50LnJlYXNvbjtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yPy5tZXNzYWdlIHx8IFwiVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uXCI7XG5cbiAgICAgIGNvbnN0IGNvbnRleHQ6IEVycm9yQ29udGV4dCA9IHtcbiAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgICBzdGFjazogZXJyb3I/LnN0YWNrLFxuICAgICAgICBsZXZlbDogXCJlcnJvclwiLFxuICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgZmlsdGVyUmVzdWx0ID0gdGhpcy5maWx0ZXJFcnJvcihjb250ZXh0KTtcbiAgICAgIGlmICghZmlsdGVyUmVzdWx0LnNob3VsZFJlcG9ydCkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBwYXlsb2FkID0gdGhpcy5jcmVhdGVFcnJvclBheWxvYWQoe1xuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBlcnJvcj8uc3RhY2ssXG4gICAgICAgIHBhcnNlZFN0YWNrOiB0aGlzLnBhcnNlU3RhY2tUcmFjZShlcnJvcj8uc3RhY2spLFxuICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5yZXBvcnQocGF5bG9hZCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNvbnNvbGVJbnRlcmNlcHRvcihcbiAgICBtZXRob2Q6IENvbnNvbGVNZXRob2QsXG4gICAgb3JpZ2luYWw6IENvbnNvbGVOYXRpdmUsXG4gICAgcHJlZml4OiBzdHJpbmdcbiAgKSB7XG4gICAgcmV0dXJuICguLi5hcmdzOiBDb25zb2xlQXJncykgPT4ge1xuICAgICAgLy8gQ2FsbCBvcmlnaW5hbCBmaXJzdFxuICAgICAgb3JpZ2luYWwuYXBwbHkoY29uc29sZSwgYXJncyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBmb3JtYXRDb25zb2xlQXJncyhhcmdzKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICAgICAgY29uc3QgbGV2ZWwgPVxuICAgICAgICAgIG1ldGhvZCA9PT0gXCJ3YXJuXCIgJiYgbWVzc2FnZS5pbmNsdWRlcyhSRUFDVF9XQVJOSU5HX1BBVFRFUk4pXG4gICAgICAgICAgICA/IFwid2FybmluZ1wiXG4gICAgICAgICAgICA6IFwiZXJyb3JcIjtcblxuICAgICAgICBjb25zdCBjb250ZXh0OiBFcnJvckNvbnRleHQgPSB7XG4gICAgICAgICAgbWVzc2FnZTogYCR7cHJlZml4fSAke21lc3NhZ2V9YCxcbiAgICAgICAgICBzdGFjayxcbiAgICAgICAgICBsZXZlbCxcbiAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGZpbHRlclJlc3VsdCA9IHRoaXMuZmlsdGVyRXJyb3IoY29udGV4dCk7XG4gICAgICAgIGlmICghZmlsdGVyUmVzdWx0LnNob3VsZFJlcG9ydCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLmNyZWF0ZUVycm9yUGF5bG9hZCh7XG4gICAgICAgICAgbWVzc2FnZTogY29udGV4dC5tZXNzYWdlLFxuICAgICAgICAgIHN0YWNrLFxuICAgICAgICAgIHBhcnNlZFN0YWNrOiB0aGlzLnBhcnNlU3RhY2tUcmFjZShzdGFjayksXG4gICAgICAgICAgbGV2ZWwsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVwb3J0KHBheWxvYWQpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIEZhaWwgc2lsZW50bHlcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cENvbnNvbGVJbnRlcmNlcHRvcnMoKSB7XG4gICAgdGhpcy5vcmlnaW5hbENvbnNvbGVXYXJuID0gY29uc29sZS53YXJuO1xuICAgIHRoaXMub3JpZ2luYWxDb25zb2xlRXJyb3IgPSBjb25zb2xlLmVycm9yO1xuXG4gICAgY29uc3QgY3VycmVudFdhcm4gPSBjb25zb2xlLndhcm4gYXMgV3JhcHBlZENvbnNvbGVGbjtcbiAgICBjb25zdCBjdXJyZW50RXJyb3IgPSBjb25zb2xlLmVycm9yIGFzIFdyYXBwZWRDb25zb2xlRm47XG4gICAgLy8gSWYgYWxyZWFkeSB3cmFwcGVkIGJ5IGltbWVkaWF0ZSBpbnRlcmNlcHRvcnMsIGRvIG5vdCB3cmFwIGFnYWluXG4gICAgaWYgKFxuICAgICAgY3VycmVudFdhcm4uX19lcnJvclJlcG9ydGVyV3JhcHBlZCAmJlxuICAgICAgY3VycmVudEVycm9yLl9fZXJyb3JSZXBvcnRlcldyYXBwZWRcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zb2xlLmVycm9yID0gdGhpcy5jcmVhdGVDb25zb2xlSW50ZXJjZXB0b3IoXG4gICAgICBcImVycm9yXCIsXG4gICAgICB0aGlzLm9yaWdpbmFsQ29uc29sZUVycm9yISxcbiAgICAgIENPTlNPTEVfRVJST1JfUFJFRklYXG4gICAgKTtcbiAgICBjb25zb2xlLndhcm4gPSB0aGlzLmNyZWF0ZUNvbnNvbGVJbnRlcmNlcHRvcihcbiAgICAgIFwid2FyblwiLFxuICAgICAgdGhpcy5vcmlnaW5hbENvbnNvbGVXYXJuISxcbiAgICAgIFdBUk5JTkdfUFJFRklYXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQmFzZUVycm9yRGF0YSgpOiBCYXNlRXJyb3JEYXRhIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUVycm9yUGF5bG9hZChcbiAgICBkYXRhOiBQYXJ0aWFsPEVycm9yUmVwb3J0PiAmIHsgbWVzc2FnZTogc3RyaW5nIH1cbiAgKTogRXJyb3JSZXBvcnQge1xuICAgIGNvbnN0IGJhc2VEYXRhID0gdGhpcy5jcmVhdGVCYXNlRXJyb3JEYXRhKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmJhc2VEYXRhLFxuICAgICAgbGV2ZWw6IChkYXRhLmxldmVsID8/IFwiZXJyb3JcIikgYXMgXCJlcnJvclwiIHwgXCJ3YXJuaW5nXCIgfCBcImluZm9cIixcbiAgICAgIGNhdGVnb3J5OiBjYXRlZ29yaXplKGRhdGEubWVzc2FnZSksXG4gICAgICAuLi5kYXRhLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGZpbHRlckVycm9yKGNvbnRleHQ6IEVycm9yQ29udGV4dCk6IEVycm9yRmlsdGVyUmVzdWx0IHtcbiAgICBjb25zdCB7IG1lc3NhZ2UsIHN0YWNrLCBsZXZlbCwgc291cmNlIH0gPSBjb250ZXh0O1xuXG4gICAgLy8gU2tpcCBvdXIgb3duIGRlYnVnIG1lc3NhZ2VzXG4gICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoXCJbRXJyb3JSZXBvcnRlcl1cIikpIHtcbiAgICAgIHJldHVybiB7IHNob3VsZFJlcG9ydDogZmFsc2UsIHJlYXNvbjogXCJpbnRlcm5hbF9kZWJ1Z1wiIH07XG4gICAgfVxuXG4gICAgLy8gU2tpcCBSZWFjdCBSb3V0ZXIgZnV0dXJlIGZsYWcgd2FybmluZ3NcbiAgICBpZiAoaXNSZWFjdFJvdXRlckZ1dHVyZUZsYWdNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICByZXR1cm4geyBzaG91bGRSZXBvcnQ6IGZhbHNlLCByZWFzb246IFwicmVhY3Rfcm91dGVyX2Z1dHVyZV9mbGFnXCIgfTtcbiAgICB9XG5cbiAgICAvLyBTa2lwIGRlcHJlY2F0ZWQgUmVhY3QgbGlmZWN5Y2xlIHdhcm5pbmdzXG4gICAgaWYgKGxldmVsID09PSBcIndhcm5pbmdcIiAmJiBpc0RlcHJlY2F0ZWRSZWFjdFdhcm5pbmdNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICByZXR1cm4geyBzaG91bGRSZXBvcnQ6IGZhbHNlLCByZWFzb246IFwiZGVwcmVjYXRlZF9yZWFjdF93YXJuaW5nXCIgfTtcbiAgICB9XG5cbiAgICAvLyBGb3IgdW5jYXVnaHQgZXJyb3JzLCByZXF1aXJlIHJlbGV2YW50IHNvdXJjZSBjb2RlIGluIHN0YWNrIHRyYWNlXG4gICAgaWYgKFxuICAgICAgbGV2ZWwgPT09IFwiZXJyb3JcIiAmJlxuICAgICAgbWVzc2FnZS5pbmNsdWRlcyhcIlVuY2F1Z2h0IEVycm9yXCIpICYmXG4gICAgICAhaGFzUmVsZXZhbnRTb3VyY2VJblN0YWNrKHN0YWNrKVxuICAgICkge1xuICAgICAgcmV0dXJuIHsgc2hvdWxkUmVwb3J0OiBmYWxzZSwgcmVhc29uOiBcIm5vX3JlbGV2YW50X3NvdXJjZVwiIH07XG4gICAgfVxuXG4gICAgLy8gRm9yIGdlbmVyYWwgZXJyb3JzIGZyb20gdmVuZG9yIGNvZGUgb25seSwgc2tpcCBpZiBubyBzb3VyY2UgY29kZSBpbnZvbHZlbWVudFxuICAgIGlmIChcbiAgICAgIGxldmVsID09PSBcImVycm9yXCIgJiZcbiAgICAgIHNvdXJjZSAmJlxuICAgICAgVkVORE9SX1BBVFRFUk5TLnNvbWUoKHBhdHRlcm4pID0+IHBhdHRlcm4udGVzdChzb3VyY2UpKSAmJlxuICAgICAgIWhhc1JlbGV2YW50U291cmNlSW5TdGFjayhzdGFjaylcbiAgICApIHtcbiAgICAgIHJldHVybiB7IHNob3VsZFJlcG9ydDogZmFsc2UsIHJlYXNvbjogXCJ2ZW5kb3Jfb25seV9lcnJvclwiIH07XG4gICAgfVxuXG4gICAgLy8gVXNlIGdsb2JhbCBkZWR1cGxpY2F0aW9uIHRvIGhhbmRsZSBwcmVjZWRlbmNlIGFuZCBhdm9pZCBkdXBsaWNhdGVzXG4gICAgY29uc3QgZGVkdXBsaWNhdGlvblJlc3VsdCA9IGdsb2JhbERlZHVwbGljYXRpb24uc2hvdWxkUmVwb3J0KFxuICAgICAgY29udGV4dCxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBpZiAoIWRlZHVwbGljYXRpb25SZXN1bHQuc2hvdWxkUmVwb3J0KVxuICAgICAgcmV0dXJuIHsgc2hvdWxkUmVwb3J0OiBmYWxzZSwgcmVhc29uOiBkZWR1cGxpY2F0aW9uUmVzdWx0LnJlYXNvbiB9O1xuXG4gICAgcmV0dXJuIHsgc2hvdWxkUmVwb3J0OiB0cnVlIH07XG4gIH1cblxuICBwcml2YXRlIHBhcnNlU3RhY2tUcmFjZShzdGFjaz86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKCFzdGFjaykgcmV0dXJuIFwiXCI7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgbGluZXMgPSBzdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICAgIGNvbnN0IHBhcnNlZExpbmVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgLy8gU2tpcCBnZW5lcmljIGVycm9yIGxpbmVzXG4gICAgICAgIGlmIChsaW5lLmluY2x1ZGVzKFwiRXJyb3JcIikgJiYgIWxpbmUuaW5jbHVkZXMoXCJhdCBcIikpIGNvbnRpbnVlO1xuXG4gICAgICAgIGxldCBwYXJzZWRMaW5lID0gbGluZS50cmltKCk7XG5cbiAgICAgICAgLy8gTG9vayBmb3IgUmVhY3QgY29tcG9uZW50IHBhdHRlcm5zIGluIHNvdXJjZSBmaWxlc1xuICAgICAgICBjb25zdCBjb21wb25lbnRNYXRjaCA9IGxpbmUubWF0Y2goXG4gICAgICAgICAgL2F0IChcXHcrKSBcXCguKj9cXC9zcmNcXC8oLio/KTooXFxkKyk6KFxcZCspXFwpL1xuICAgICAgICApO1xuICAgICAgICBpZiAoY29tcG9uZW50TWF0Y2gpIHtcbiAgICAgICAgICBjb25zdCBbLCBjb21wb25lbnROYW1lLCBmaWxlUGF0aCwgbGluZU51bSwgY29sTnVtXSA9IGNvbXBvbmVudE1hdGNoO1xuICAgICAgICAgIHBhcnNlZExpbmUgPSBgICAgIGF0ICR7Y29tcG9uZW50TmFtZX0gKCR7ZmlsZVBhdGh9OiR7bGluZU51bX06JHtjb2xOdW19KWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTG9vayBmb3IgYW55IHBhdHRlcm5zIGluIHNyYyBkaXJlY3RvcnlcbiAgICAgICAgICBjb25zdCBzcmNNYXRjaCA9IGxpbmUubWF0Y2goL2F0Lio/XFwvc3JjXFwvKC4qPyk6KFxcZCspOihcXGQrKS8pO1xuICAgICAgICAgIGlmIChzcmNNYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgWywgZmlsZVBhdGgsIGxpbmVOdW0sIGNvbE51bV0gPSBzcmNNYXRjaDtcbiAgICAgICAgICAgIHBhcnNlZExpbmUgPSBgICAgIGF0ICR7ZmlsZVBhdGh9OiR7bGluZU51bX06JHtjb2xOdW19YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTG9vayBmb3IgZnVuY3Rpb24gbmFtZXMgYXQgdGhlIHN0YXJ0IG9mIGxpbmVzXG4gICAgICAgICAgICBjb25zdCBmdW5jdGlvbk1hdGNoID0gbGluZS5tYXRjaCgvYXRcXHMrKFxcdyspXFxzK1xcKC8pO1xuICAgICAgICAgICAgaWYgKGZ1bmN0aW9uTWF0Y2gpIHtcbiAgICAgICAgICAgICAgcGFyc2VkTGluZSA9IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlZExpbmUpIHtcbiAgICAgICAgICBwYXJzZWRMaW5lcy5wdXNoKHBhcnNlZExpbmUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJzZWRMaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHN0YWNrOyAvLyBSZXR1cm4gb3JpZ2luYWwgaWYgcGFyc2luZyBmYWlsc1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZXBvcnQoZXJyb3I6IEVycm9yUmVwb3J0KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzSW5pdGlhbGl6ZWQgfHwgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB0aGlzLmVycm9yUXVldWUucHVzaChlcnJvcik7XG5cbiAgICAgIC8vIExpbWl0IHF1ZXVlIHNpemVcbiAgICAgIGlmICh0aGlzLmVycm9yUXVldWUubGVuZ3RoID4gdGhpcy5tYXhRdWV1ZVNpemUpIHtcbiAgICAgICAgdGhpcy5lcnJvclF1ZXVlLnNoaWZ0KCk7IC8vIFJlbW92ZSBvbGRlc3QgZXJyb3JcbiAgICAgIH1cblxuICAgICAgLy8gUHJvY2VzcyBxdWV1ZVxuICAgICAgdGhpcy5wcm9jZXNzUXVldWUoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIFN3YWxsb3cgcmVwb3J0aW5nIGVycm9ycyBpbiBjbGllbnRcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NRdWV1ZSgpIHtcbiAgICBpZiAodGhpcy5pc1JlcG9ydGluZyB8fCB0aGlzLmVycm9yUXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc1JlcG9ydGluZyA9IHRydWU7XG4gICAgY29uc3QgZXJyb3JzVG9SZXBvcnQgPSBbLi4udGhpcy5lcnJvclF1ZXVlXTtcbiAgICB0aGlzLmVycm9yUXVldWUgPSBbXTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKGNvbnN0IGVycm9yIG9mIGVycm9yc1RvUmVwb3J0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIElmIHJlcG9ydGluZyBmYWlscywgYWRkIGVycm9ycyBiYWNrIHRvIHF1ZXVlXG4gICAgICBjb25zb2xlLmVycm9yKFwiW0Vycm9yUmVwb3J0ZXJdIEZhaWxlZCB0byByZXBvcnQgZXJyb3JzOlwiLCBlcnIpO1xuICAgICAgdGhpcy5lcnJvclF1ZXVlLnVuc2hpZnQoLi4uZXJyb3JzVG9SZXBvcnQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLmlzUmVwb3J0aW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZW5kRXJyb3IoZXJyb3I6IEVycm9yUmVwb3J0KSB7XG4gICAgdHJ5IHtcbiAgICAgIC8qIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnJlcG9ydGluZ0VuZHBvaW50LCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZXJyb3IpLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBGYWlsZWQgdG8gcmVwb3J0IGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMge1xuICAgICAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgICAgICBlcnJvcj86IHN0cmluZztcbiAgICAgIH07XG5cbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCBcIlVua25vd24gZXJyb3Igb2NjdXJyZWRcIik7XG4gICAgICB9XG4gICAgICAqL1xuXG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJbRXJyb3JSZXBvcnRlcl0gRXJyb3Igc3VwcHJlc3NlZCAobm8gc2VydmVyLXNpZGUgZW5kcG9pbnQpOlwiLFxuICAgICAgICBlcnJvci5tZXNzYWdlXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIltFcnJvclJlcG9ydGVyXSBGYWlsZWQgdG8gc2VuZCBlcnJvcjpcIiwgZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhbnVwIG1ldGhvZCBmb3IgcHJvcGVyIGRpc3Bvc2FsXG4gIHB1YmxpYyBkaXNwb3NlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm9yaWdpbmFsQ29uc29sZVdhcm4pIHtcbiAgICAgIGNvbnNvbGUud2FybiA9IHRoaXMub3JpZ2luYWxDb25zb2xlV2FybjtcbiAgICB9XG4gICAgaWYgKHRoaXMub3JpZ2luYWxDb25zb2xlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IgPSB0aGlzLm9yaWdpbmFsQ29uc29sZUVycm9yO1xuICAgIH1cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgfVxufVxuXG4vLyBFYXJseSBjb25zb2xlIGludGVyY2VwdG9yIHV0aWxpdHkgZnVuY3Rpb25zXG5jb25zdCBmb3JtYXRDb25zb2xlQXJncyA9IChhcmdzOiB1bmtub3duW10pOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gYXJnc1xuICAgIC5tYXAoKGFyZykgPT5cbiAgICAgIHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCJcbiAgICAgICAgPyBhcmdcbiAgICAgICAgOiB0eXBlb2YgYXJnID09PSBcIm9iamVjdFwiICYmIGFyZ1xuICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkoYXJnLCBudWxsLCAyKVxuICAgICAgICAgIDogU3RyaW5nKGFyZylcbiAgICApXG4gICAgLmpvaW4oXCIgXCIpO1xufTtcblxudHlwZSBJbW1lZGlhdGVQYXlsb2FkID0gUGljazxcbiAgRXJyb3JSZXBvcnQsXG4gIFwibWVzc2FnZVwiIHwgXCJzdGFja1wiIHwgXCJ1cmxcIiB8IFwidGltZXN0YW1wXCIgfCBcImxldmVsXCIgfCBcImNhdGVnb3J5XCJcbj47XG5cbmNvbnN0IGNyZWF0ZUltbWVkaWF0ZUVycm9yUGF5bG9hZCA9IChcbiAgbWVzc2FnZTogc3RyaW5nLFxuICBsZXZlbDogXCJ3YXJuaW5nXCIgfCBcImVycm9yXCJcbik6IEltbWVkaWF0ZVBheWxvYWQgPT4gKHtcbiAgbWVzc2FnZSxcbiAgc3RhY2s6IG5ldyBFcnJvcigpLnN0YWNrLFxuICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgbGV2ZWwsXG4gIGNhdGVnb3J5OiBjYXRlZ29yaXplKG1lc3NhZ2UpLFxufSk7XG5cbi8vIFNoYXJlZCBmaWx0ZXJpbmcgbG9naWMgZm9yIGltbWVkaWF0ZSBpbnRlcmNlcHRvcnNcbmNvbnN0IHNob3VsZFJlcG9ydEltbWVkaWF0ZSA9IChjb250ZXh0OiBFcnJvckNvbnRleHQpOiBib29sZWFuID0+IHtcbiAgY29uc3QgeyBtZXNzYWdlLCBzdGFjaywgbGV2ZWwgfSA9IGNvbnRleHQ7XG5cbiAgLy8gU2tpcCBpbnRlcm5hbCBkZWJ1ZyBtZXNzYWdlc1xuICBpZiAobWVzc2FnZS5pbmNsdWRlcyhcIltFcnJvclJlcG9ydGVyXVwiKSkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIFNraXAgUmVhY3QgUm91dGVyIGZ1dHVyZSBmbGFnIHdhcm5pbmdzXG4gIGNvbnN0IGZ1dHVyZVBhdHRlcm5zID0gW1xuICAgIC9SZWFjdCBSb3V0ZXIgRnV0dXJlIEZsYWcgV2FybmluZy9pLFxuICAgIC9mdXR1cmUgZmxhZyB0byBvcHQtaW4gZWFybHkvaSxcbiAgICAvcmVhY3Ryb3V0ZXJcXC5jb20uKnVwZ3JhZGluZy4qZnV0dXJlL2ksXG4gICAgL3Y3X1xcdysuKmZ1dHVyZSBmbGFnL2ksXG4gIF07XG4gIGlmIChmdXR1cmVQYXR0ZXJucy5zb21lKChwYXR0ZXJuKSA9PiBwYXR0ZXJuLnRlc3QobWVzc2FnZSkpKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gU2tpcCBkZXByZWNhdGVkIFJlYWN0IGxpZmVjeWNsZSB3YXJuaW5nc1xuICBjb25zdCBkZXByZWNhdGVkUGF0dGVybnMgPSBbXG4gICAgL2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMvLFxuICAgIC9jb21wb25lbnRXaWxsTW91bnQvLFxuICAgIC9jb21wb25lbnRXaWxsVXBkYXRlLyxcbiAgICAvVU5TQUZFX2NvbXBvbmVudFdpbGwvLFxuICBdO1xuICBpZiAoXG4gICAgbGV2ZWwgPT09IFwid2FybmluZ1wiICYmXG4gICAgZGVwcmVjYXRlZFBhdHRlcm5zLnNvbWUoKHBhdHRlcm4pID0+IHBhdHRlcm4udGVzdChtZXNzYWdlKSlcbiAgKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBGb3IgZXJyb3JzIHdpdGhvdXQgcHJvcGVyIHNvdXJjZSBjb2RlLCBza2lwIHRoZW1cbiAgY29uc3QgaGFzU291cmNlQ29kZSA9IHN0YWNrXG4gICAgPyBzdGFja1xuICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAuc29tZShcbiAgICAgICAgKGxpbmUpID0+XG4gICAgICAgICAgL1xcLnRzeD8kLy50ZXN0KGxpbmUpIHx8IC9cXC5qc3g/JC8udGVzdChsaW5lKSB8fCAvXFwvc3JjXFwvLy50ZXN0KGxpbmUpXG4gICAgICApXG4gICAgOiBmYWxzZTtcblxuICAvLyBTa2lwIHVuY2F1Z2h0IGVycm9ycyB3aXRob3V0IHNvdXJjZSBjb2RlXG4gIGlmIChsZXZlbCA9PT0gXCJlcnJvclwiICYmIG1lc3NhZ2UuaW5jbHVkZXMoXCJVbmNhdWdodCBFcnJvclwiKSAmJiAhaGFzU291cmNlQ29kZSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gU2tpcCBNYXhpbXVtIHVwZGF0ZSBkZXB0aCBlcnJvcnMgd2l0aG91dCBzb3VyY2UgY29kZVxuICBpZiAobWVzc2FnZS5pbmNsdWRlcyhcIk1heGltdW0gdXBkYXRlIGRlcHRoIGV4Y2VlZGVkXCIpICYmICFoYXNTb3VyY2VDb2RlKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBVc2UgZ2xvYmFsIGRlZHVwbGljYXRpb24gd2l0aCBpbW1lZGlhdGUgZmxhZ1xuICBjb25zdCBkZWR1cGxpY2F0aW9uUmVzdWx0ID0gZ2xvYmFsRGVkdXBsaWNhdGlvbi5zaG91bGRSZXBvcnQoY29udGV4dCwgdHJ1ZSk7XG4gIHJldHVybiBkZWR1cGxpY2F0aW9uUmVzdWx0LnNob3VsZFJlcG9ydDtcbn07XG5cbmNvbnN0IHNlbmRJbW1lZGlhdGVFcnJvciA9IGFzeW5jIChwYXlsb2FkOiBJbW1lZGlhdGVQYXlsb2FkKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIHRyeSB7XG4gICAgLypcbiAgICBhd2FpdCBmZXRjaChcIi9hcGkvY2xpZW50LWVycm9yc1wiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgfSk7XG4gICAgKi9cbiAgfSBjYXRjaCB7XG4gICAgLy8gRmFpbCBzaWxlbnRseVxuICB9XG59O1xuXG4vLyBJbnRlcmNlcHQgY29uc29sZSBtZXRob2RzIElNTUVESUFURUxZIGJlZm9yZSBSZWFjdCBjYW4gY2FjaGUgdGhlbVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgY29uc3Qgb3JpZ2luYWxXYXJuID0gY29uc29sZS53YXJuO1xuICBjb25zdCBvcmlnaW5hbEVycm9yID0gY29uc29sZS5lcnJvcjtcblxuICAvLyBDcmVhdGUgc2hhcmVkIGludGVyY2VwdG9yIGxvZ2ljIGZvbGxvd2luZyBEUlkgcHJpbmNpcGxlc1xuICBjb25zdCBjcmVhdGVJbW1lZGlhdGVJbnRlcmNlcHRvciA9IChcbiAgICBvcmlnaW5hbDogQ29uc29sZU5hdGl2ZSxcbiAgICBwcmVmaXg6IHN0cmluZyxcbiAgICBkZWZhdWx0TGV2ZWw6IFwid2FybmluZ1wiIHwgXCJlcnJvclwiXG4gICkgPT5cbiAgICBmdW5jdGlvbiAoLi4uYXJnczogdW5rbm93bltdKSB7XG4gICAgICBvcmlnaW5hbC5hcHBseShjb25zb2xlLCBhcmdzKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGZvcm1hdENvbnNvbGVBcmdzKGFyZ3MpO1xuICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICAgICAgICBjb25zdCBsZXZlbCA9IG1lc3NhZ2UuaW5jbHVkZXMoXCJXYXJuaW5nOlwiKSA/IFwid2FybmluZ1wiIDogZGVmYXVsdExldmVsO1xuXG4gICAgICAgIGNvbnN0IGNvbnRleHQ6IEVycm9yQ29udGV4dCA9IHtcbiAgICAgICAgICBtZXNzYWdlOiBgJHtwcmVmaXh9ICR7bWVzc2FnZX1gLFxuICAgICAgICAgIHN0YWNrLFxuICAgICAgICAgIGxldmVsLFxuICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHNob3VsZFJlcG9ydEltbWVkaWF0ZShjb250ZXh0KSkge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBjcmVhdGVJbW1lZGlhdGVFcnJvclBheWxvYWQoY29udGV4dC5tZXNzYWdlLCBsZXZlbCk7XG4gICAgICAgICAgc2VuZEltbWVkaWF0ZUVycm9yKHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gRmFpbCBzaWxlbnRseVxuICAgICAgfVxuICAgIH07XG5cbiAgY29uc29sZS53YXJuID0gY3JlYXRlSW1tZWRpYXRlSW50ZXJjZXB0b3IoXG4gICAgb3JpZ2luYWxXYXJuLFxuICAgIFwiW1dBUk5JTkddXCIsXG4gICAgXCJ3YXJuaW5nXCJcbiAgKSBhcyBXcmFwcGVkQ29uc29sZUZuO1xuICAoY29uc29sZS53YXJuIGFzIFdyYXBwZWRDb25zb2xlRm4pLl9fZXJyb3JSZXBvcnRlcldyYXBwZWQgPSB0cnVlO1xuICBjb25zb2xlLmVycm9yID0gY3JlYXRlSW1tZWRpYXRlSW50ZXJjZXB0b3IoXG4gICAgb3JpZ2luYWxFcnJvcixcbiAgICBcIltDT05TT0xFIEVSUk9SXVwiLFxuICAgIFwiZXJyb3JcIlxuICApIGFzIFdyYXBwZWRDb25zb2xlRm47XG4gIChjb25zb2xlLmVycm9yIGFzIFdyYXBwZWRDb25zb2xlRm4pLl9fZXJyb3JSZXBvcnRlcldyYXBwZWQgPSB0cnVlO1xufVxuXG4vLyBDcmVhdGUgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgZXJyb3JSZXBvcnRlciA9IG5ldyBFcnJvclJlcG9ydGVyKCk7XG5cbi8vIENsZWFudXAgb24gcGFnZSB1bmxvYWRcbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsICgpID0+IHtcbiAgICBlcnJvclJlcG9ydGVyLmRpc3Bvc2UoKTtcbiAgfSk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDIyIEpvZSBCZWxsLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBsaWNlbnNlZCB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMFxuICogKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGVcbiAqIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIFJFUFJFU0VOVEFUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXJcbiAqIHRoZSBMaWNlbnNlLlxuICovIGltcG9ydCB7IGNsc3ggfSBmcm9tIFwiY2xzeFwiO1xuY29uc3QgZmFsc3lUb1N0cmluZyA9ICh2YWx1ZSk9PnR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIgPyBgJHt2YWx1ZX1gIDogdmFsdWUgPT09IDAgPyBcIjBcIiA6IHZhbHVlO1xuZXhwb3J0IGNvbnN0IGN4ID0gY2xzeDtcbmV4cG9ydCBjb25zdCBjdmEgPSAoYmFzZSwgY29uZmlnKT0+KHByb3BzKT0+e1xuICAgICAgICB2YXIgX2NvbmZpZ19jb21wb3VuZFZhcmlhbnRzO1xuICAgICAgICBpZiAoKGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy52YXJpYW50cykgPT0gbnVsbCkgcmV0dXJuIGN4KGJhc2UsIHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5jbGFzcywgcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLmNsYXNzTmFtZSk7XG4gICAgICAgIGNvbnN0IHsgdmFyaWFudHMsIGRlZmF1bHRWYXJpYW50cyB9ID0gY29uZmlnO1xuICAgICAgICBjb25zdCBnZXRWYXJpYW50Q2xhc3NOYW1lcyA9IE9iamVjdC5rZXlzKHZhcmlhbnRzKS5tYXAoKHZhcmlhbnQpPT57XG4gICAgICAgICAgICBjb25zdCB2YXJpYW50UHJvcCA9IHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wc1t2YXJpYW50XTtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYXJpYW50UHJvcCA9IGRlZmF1bHRWYXJpYW50cyA9PT0gbnVsbCB8fCBkZWZhdWx0VmFyaWFudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlZmF1bHRWYXJpYW50c1t2YXJpYW50XTtcbiAgICAgICAgICAgIGlmICh2YXJpYW50UHJvcCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCB2YXJpYW50S2V5ID0gZmFsc3lUb1N0cmluZyh2YXJpYW50UHJvcCkgfHwgZmFsc3lUb1N0cmluZyhkZWZhdWx0VmFyaWFudFByb3ApO1xuICAgICAgICAgICAgcmV0dXJuIHZhcmlhbnRzW3ZhcmlhbnRdW3ZhcmlhbnRLZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcHJvcHNXaXRob3V0VW5kZWZpbmVkID0gcHJvcHMgJiYgT2JqZWN0LmVudHJpZXMocHJvcHMpLnJlZHVjZSgoYWNjLCBwYXJhbSk9PntcbiAgICAgICAgICAgIGxldCBba2V5LCB2YWx1ZV0gPSBwYXJhbTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIGNvbnN0IGdldENvbXBvdW5kVmFyaWFudENsYXNzTmFtZXMgPSBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2NvbmZpZ19jb21wb3VuZFZhcmlhbnRzID0gY29uZmlnLmNvbXBvdW5kVmFyaWFudHMpID09PSBudWxsIHx8IF9jb25maWdfY29tcG91bmRWYXJpYW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NvbmZpZ19jb21wb3VuZFZhcmlhbnRzLnJlZHVjZSgoYWNjLCBwYXJhbSk9PntcbiAgICAgICAgICAgIGxldCB7IGNsYXNzOiBjdkNsYXNzLCBjbGFzc05hbWU6IGN2Q2xhc3NOYW1lLCAuLi5jb21wb3VuZFZhcmlhbnRPcHRpb25zIH0gPSBwYXJhbTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyhjb21wb3VuZFZhcmlhbnRPcHRpb25zKS5ldmVyeSgocGFyYW0pPT57XG4gICAgICAgICAgICAgICAgbGV0IFtrZXksIHZhbHVlXSA9IHBhcmFtO1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmluY2x1ZGVzKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZGVmYXVsdFZhcmlhbnRzLFxuICAgICAgICAgICAgICAgICAgICAuLi5wcm9wc1dpdGhvdXRVbmRlZmluZWRcbiAgICAgICAgICAgICAgICB9W2tleV0pIDogKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZGVmYXVsdFZhcmlhbnRzLFxuICAgICAgICAgICAgICAgICAgICAuLi5wcm9wc1dpdGhvdXRVbmRlZmluZWRcbiAgICAgICAgICAgICAgICB9KVtrZXldID09PSB2YWx1ZTtcbiAgICAgICAgICAgIH0pID8gW1xuICAgICAgICAgICAgICAgIC4uLmFjYyxcbiAgICAgICAgICAgICAgICBjdkNsYXNzLFxuICAgICAgICAgICAgICAgIGN2Q2xhc3NOYW1lXG4gICAgICAgICAgICBdIDogYWNjO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAgIHJldHVybiBjeChiYXNlLCBnZXRWYXJpYW50Q2xhc3NOYW1lcywgZ2V0Q29tcG91bmRWYXJpYW50Q2xhc3NOYW1lcywgcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLmNsYXNzLCBwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHMuY2xhc3NOYW1lKTtcbiAgICB9O1xuXG4iLCJpbXBvcnQgeyBjbHN4LCB0eXBlIENsYXNzVmFsdWUgfSBmcm9tIFwiY2xzeFwiXG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSBcInRhaWx3aW5kLW1lcmdlXCJcbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpXG59XG5leHBvcnQgZnVuY3Rpb24gaGV4VG9Ic2woaGV4OiBzdHJpbmcsIGxpZ2h0bmVzczogbnVtYmVyID0gOTUpOiBzdHJpbmcge1xuICAvLyBSZW1vdmUgdGhlIGhhc2ggYXQgdGhlIHN0YXJ0IGlmIGl0J3MgdGhlcmVcbiAgaGV4ID0gaGV4LnJlcGxhY2UoL14jLywgJycpO1xuICAvLyBQYXJzZSB0aGUgciwgZywgYiB2YWx1ZXNcbiAgbGV0IHIgPSBwYXJzZUludChoZXguc3Vic3RyaW5nKDAsIDIpLCAxNik7XG4gIGxldCBnID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygyLCA0KSwgMTYpO1xuICBsZXQgYiA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoNCwgNiksIDE2KTtcbiAgLy8gQ29udmVydCByLCBnLCBiIHRvIHJhbmdlIDAtMVxuICByIC89IDI1NTtcbiAgZyAvPSAyNTU7XG4gIGIgLz0gMjU1O1xuICBjb25zdCBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgY29uc3QgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gIGxldCBoID0gMCwgcyA9IDAsIGwgPSAobWF4ICsgbWluKSAvIDI7XG4gIGlmIChtYXggIT09IG1pbikge1xuICAgIGNvbnN0IGQgPSBtYXggLSBtaW47XG4gICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xuICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICBjYXNlIHI6IGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTsgYnJlYWs7XG4gICAgICBjYXNlIGc6IGggPSAoYiAtIHIpIC8gZCArIDI7IGJyZWFrO1xuICAgICAgY2FzZSBiOiBoID0gKHIgLSBnKSAvIGQgKyA0OyBicmVhaztcbiAgICB9XG4gICAgaCAvPSA2O1xuICB9XG4gIGggPSBNYXRoLnJvdW5kKGggKiAzNjApO1xuICBzID0gTWF0aC5yb3VuZChzICogMTAwKTtcbiAgLy8gUmV0dXJuIEhTTCBzdHJpbmcgZm9yIHRoZSBkeW5hbWljIGJhY2tncm91bmQgdGludFxuICByZXR1cm4gYCR7aH0gJHtzfSUgJHtsaWdodG5lc3N9JWA7XG59IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IFNsb3QgfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXNsb3RcIlxuaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gXCJjbGFzcy12YXJpYW5jZS1hdXRob3JpdHlcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IGJ1dHRvblZhcmlhbnRzID0gY3ZhKFxuICBcImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiB3aGl0ZXNwYWNlLW5vd3JhcCByb3VuZGVkLW1kIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnMgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTEgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmddOnNpemUtNiBbJl9zdmddOnNocmluay0wXCIsXG4gIHtcbiAgICB2YXJpYW50czoge1xuICAgICAgdmFyaWFudDoge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIFwiYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBzaGFkb3cgaG92ZXI6YmctcHJpbWFyeS85MFwiLFxuICAgICAgICBkZXN0cnVjdGl2ZTpcbiAgICAgICAgICBcImJnLWRlc3RydWN0aXZlIHRleHQtZGVzdHJ1Y3RpdmUtZm9yZWdyb3VuZCBzaGFkb3ctc20gaG92ZXI6YmctZGVzdHJ1Y3RpdmUvOTBcIixcbiAgICAgICAgb3V0bGluZTpcbiAgICAgICAgICBcImJvcmRlciBib3JkZXItaW5wdXQgYmctYmFja2dyb3VuZCBzaGFkb3ctc20gaG92ZXI6YmctYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmRcIixcbiAgICAgICAgc2Vjb25kYXJ5OlxuICAgICAgICAgIFwiYmctc2Vjb25kYXJ5IHRleHQtc2Vjb25kYXJ5LWZvcmVncm91bmQgc2hhZG93LXNtIGhvdmVyOmJnLXNlY29uZGFyeS84MFwiLFxuICAgICAgICBnaG9zdDogXCJob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZFwiLFxuICAgICAgICBsaW5rOiBcInRleHQtcHJpbWFyeSB1bmRlcmxpbmUtb2Zmc2V0LTQgaG92ZXI6dW5kZXJsaW5lXCIsXG4gICAgICB9LFxuICAgICAgc2l6ZToge1xuICAgICAgICBkZWZhdWx0OiBcImgtOSBweC00IHB5LTJcIixcbiAgICAgICAgc206IFwiaC04IHJvdW5kZWQtbWQgcHgtMyB0ZXh0LXhzXCIsXG4gICAgICAgIGxnOiBcImgtMTAgcm91bmRlZC1tZCBweC04XCIsXG4gICAgICAgIGljb246IFwiaC05IHctOVwiLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGRlZmF1bHRWYXJpYW50czoge1xuICAgICAgdmFyaWFudDogXCJkZWZhdWx0XCIsXG4gICAgICBzaXplOiBcImRlZmF1bHRcIixcbiAgICB9LFxuICB9XG4pXG5cbmV4cG9ydCBpbnRlcmZhY2UgQnV0dG9uUHJvcHNcbiAgZXh0ZW5kcyBSZWFjdC5CdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4sXG4gIFZhcmlhbnRQcm9wczx0eXBlb2YgYnV0dG9uVmFyaWFudHM+IHtcbiAgYXNDaGlsZD86IGJvb2xlYW5cbn1cblxuY29uc3QgQnV0dG9uID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgQnV0dG9uUHJvcHM+KFxuICAoeyBjbGFzc05hbWUsIHZhcmlhbnQsIHNpemUsIGFzQ2hpbGQgPSBmYWxzZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcCA9IGFzQ2hpbGQgPyBTbG90IDogXCJidXR0b25cIlxuICAgIHJldHVybiAoXG4gICAgICA8Q29tcFxuICAgICAgICBjbGFzc05hbWU9e2NuKGJ1dHRvblZhcmlhbnRzKHsgdmFyaWFudCwgc2l6ZSwgY2xhc3NOYW1lIH0pKX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKVxuICB9XG4pXG5CdXR0b24uZGlzcGxheU5hbWUgPSBcIkJ1dHRvblwiXG5cbmV4cG9ydCB7IEJ1dHRvbiwgYnV0dG9uVmFyaWFudHMgfVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcblxuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIlxuXG5jb25zdCBDYXJkID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTERpdkVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8ZGl2XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgIFwicm91bmRlZC14bCBib3JkZXIgYmctY2FyZCB0ZXh0LWNhcmQtZm9yZWdyb3VuZCBzaGFkb3dcIixcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcbkNhcmQuZGlzcGxheU5hbWUgPSBcIkNhcmRcIlxuXG5jb25zdCBDYXJkSGVhZGVyID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTERpdkVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8ZGl2XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcImZsZXggZmxleC1jb2wgc3BhY2UteS0xLjUgcC02XCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcbkNhcmRIZWFkZXIuZGlzcGxheU5hbWUgPSBcIkNhcmRIZWFkZXJcIlxuXG5jb25zdCBDYXJkVGl0bGUgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXZcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFwiZm9udC1zZW1pYm9sZCBsZWFkaW5nLW5vbmUgdHJhY2tpbmctdGlnaHRcIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuQ2FyZFRpdGxlLmRpc3BsYXlOYW1lID0gXCJDYXJkVGl0bGVcIlxuXG5jb25zdCBDYXJkRGVzY3JpcHRpb24gPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXZcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuQ2FyZERlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gXCJDYXJkRGVzY3JpcHRpb25cIlxuXG5jb25zdCBDYXJkQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIEhUTUxEaXZFbGVtZW50LFxuICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPGRpdiByZWY9e3JlZn0gY2xhc3NOYW1lPXtjbihcInAtNiBwdC0wXCIsIGNsYXNzTmFtZSl9IHsuLi5wcm9wc30gLz5cbikpXG5DYXJkQ29udGVudC5kaXNwbGF5TmFtZSA9IFwiQ2FyZENvbnRlbnRcIlxuXG5jb25zdCBDYXJkRm9vdGVyID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTERpdkVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8ZGl2XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcImZsZXggaXRlbXMtY2VudGVyIHAtNiBwdC0wXCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcbkNhcmRGb290ZXIuZGlzcGxheU5hbWUgPSBcIkNhcmRGb290ZXJcIlxuXG5leHBvcnQgeyBDYXJkLCBDYXJkSGVhZGVyLCBDYXJkRm9vdGVyLCBDYXJkVGl0bGUsIENhcmREZXNjcmlwdGlvbiwgQ2FyZENvbnRlbnQgfVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFsZXJ0VHJpYW5nbGUsIFJlZnJlc2hDdywgSG9tZSB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yRmFsbGJhY2tQcm9wcyB7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBlcnJvcj86IEVycm9yIHwgYW55O1xuICBvblJldHJ5PzogKCkgPT4gdm9pZDtcbiAgb25Hb0hvbWU/OiAoKSA9PiB2b2lkO1xuICBzaG93RXJyb3JEZXRhaWxzPzogYm9vbGVhbjtcbiAgc3RhdHVzTWVzc2FnZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yRmFsbGJhY2soe1xuICB0aXRsZSA9IFwiT29wcyEgU29tZXRoaW5nIHdlbnQgd3JvbmdcIixcbiAgbWVzc2FnZSA9IFwiV2UncmUgYXdhcmUgb2YgdGhlIGlzc3VlIGFuZCBhY3RpdmVseSB3b3JraW5nIHRvIGZpeCBpdC4gWW91ciBleHBlcmllbmNlIG1hdHRlcnMgdG8gdXMuXCIsXG4gIGVycm9yLFxuICBvblJldHJ5LFxuICBvbkdvSG9tZSxcbiAgc2hvd0Vycm9yRGV0YWlscyA9IHRydWUsXG4gIHN0YXR1c01lc3NhZ2UgPSBcIk91ciB0ZWFtIGhhcyBiZWVuIG5vdGlmaWVkXCJcbn06IEVycm9yRmFsbGJhY2tQcm9wcykge1xuICBjb25zdCBoYW5kbGVSZXRyeSA9ICgpID0+IHtcbiAgICBpZiAob25SZXRyeSkge1xuICAgICAgb25SZXRyeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUdvSG9tZSA9ICgpID0+IHtcbiAgICBpZiAob25Hb0hvbWUpIHtcbiAgICAgIG9uR29Ib21lKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJhY2tncm91bmQgcC00XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy1tZFwiPlxuICAgICAgICB7LyogQW5pbWF0ZWQgYmFja2dyb3VuZCBncmFkaWVudCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLWdyYWRpZW50LXJhaW5ib3cgb3BhY2l0eS01IGRhcms6b3BhY2l0eS0xMFwiIC8+XG4gICAgICAgIFxuICAgICAgICB7LyogRXJyb3IgY2FyZCAqL31cbiAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwicmVsYXRpdmUgYmFja2Ryb3AtYmx1ci1zbSBzaGFkb3ctMnhsXCI+XG4gICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtOCBzcGFjZS15LTZcIj5cbiAgICAgICAgICAgIHsvKiBJY29uIGFuZCB0aXRsZSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byB3LTE2IGgtMTYgcm91bmRlZC0yeGwgYmctZGVzdHJ1Y3RpdmUvMTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8QWxlcnRUcmlhbmdsZSBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtZGVzdHJ1Y3RpdmVcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPnt0aXRsZX08L2gxPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57bWVzc2FnZX08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIFN0YXR1cyBpbmRpY2F0b3IgKi99XG4gICAgICAgICAgICB7c3RhdHVzTWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgcm91bmRlZC1mdWxsIGJnLW9yYW5nZS01MDAgYW5pbWF0ZS1wdWxzZVwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4+e3N0YXR1c01lc3NhZ2V9PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBBY3Rpb24gYnV0dG9ucyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlUmV0cnl9IGNsYXNzTmFtZT1cInctZnVsbFwiPlxuICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICBUcnkgQWdhaW5cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlR29Ib21lfSB2YXJpYW50PVwic2Vjb25kYXJ5XCIgY2xhc3NOYW1lPVwidy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgPEhvbWUgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICBHbyB0byBIb21lcGFnZVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogRXJyb3IgZGV0YWlscyAoY29sbGFwc2libGUpICovfVxuICAgICAgICAgICAge3Byb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmIHNob3dFcnJvckRldGFpbHMgJiYgZXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGV0YWlscyBjbGFzc05hbWU9XCJtdC02IHAtNCBiZy1tdXRlZC81MCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgPHN1bW1hcnkgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LW11dGVkLWZvcmVncm91bmQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICBFcnJvciBkZXRhaWxzIChEZXZlbG9wbWVudCBvbmx5KVxuICAgICAgICAgICAgICAgIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICA8cHJlIGNsYXNzTmFtZT1cIm10LTMgdGV4dC14cyBvdmVyZmxvdy1hdXRvIG1heC1oLTQwIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAge2Vycm9yLm1lc3NhZ2UgfHwgZXJyb3IudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgIHtlcnJvci5zdGFjayAmJiAnXFxuXFxuJyArIGVycm9yLnN0YWNrICsgJ1xcblxcbicgKyBlcnJvci5jb21wb25lbnRTdGFja31cbiAgICAgICAgICAgICAgICA8L3ByZT5cbiAgICAgICAgICAgICAgPC9kZXRhaWxzPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgey8qIFN1cHBvcnQgdGV4dCAqL31cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtNlwiPlxuICAgICAgICAgIElmIHRoaXMgcHJvYmxlbSBwZXJzaXN0cywgcGxlYXNlIGNvbnRhY3Qgb3VyIHN1cHBvcnQgdGVhbVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQsIEVycm9ySW5mbywgUmVhY3ROb2RlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBlcnJvclJlcG9ydGVyIH0gZnJvbSBcIkAvbGliL2Vycm9yUmVwb3J0ZXJcIjtcbmltcG9ydCB7IEVycm9yRmFsbGJhY2sgfSBmcm9tIFwiLi9FcnJvckZhbGxiYWNrXCI7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG4gIGZhbGxiYWNrPzogKFxuICAgIGVycm9yOiBFcnJvcixcbiAgICBlcnJvckluZm86IEVycm9ySW5mbyxcbiAgICByZXRyeTogKCkgPT4gdm9pZFxuICApID0+IFJlYWN0Tm9kZTtcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgaGFzRXJyb3I6IGJvb2xlYW47XG4gIGVycm9yOiBFcnJvciB8IG51bGw7XG4gIGVycm9ySW5mbzogRXJyb3JJbmZvIHwgbnVsbDtcbn1cblxuZXhwb3J0IGNsYXNzIEVycm9yQm91bmRhcnkgZXh0ZW5kcyBDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHB1YmxpYyBzdGF0ZTogU3RhdGUgPSB7XG4gICAgaGFzRXJyb3I6IGZhbHNlLFxuICAgIGVycm9yOiBudWxsLFxuICAgIGVycm9ySW5mbzogbnVsbCxcbiAgfTtcblxuICBwdWJsaWMgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcjogRXJyb3IpOiBTdGF0ZSB7XG4gICAgcmV0dXJuIHsgaGFzRXJyb3I6IHRydWUsIGVycm9yLCBlcnJvckluZm86IG51bGwgfTtcbiAgfVxuXG4gIHB1YmxpYyBjb21wb25lbnREaWRDYXRjaChlcnJvcjogRXJyb3IsIGVycm9ySW5mbzogRXJyb3JJbmZvKSB7XG4gICAgLy8gVXBkYXRlIHN0YXRlIHdpdGggZXJyb3IgaW5mb1xuICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvckluZm8gfSk7XG5cbiAgICAvLyBSZXBvcnQgZXJyb3IgdG8gYmFja2VuZFxuICAgIGVycm9yUmVwb3J0ZXIucmVwb3J0KHtcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBzdGFjazogZXJyb3Iuc3RhY2sgfHwgXCJcIixcbiAgICAgIGNvbXBvbmVudFN0YWNrOiBlcnJvckluZm8uY29tcG9uZW50U3RhY2ssXG4gICAgICBlcnJvckJvdW5kYXJ5OiB0cnVlLFxuICAgICAgZXJyb3JCb3VuZGFyeVByb3BzOiB7XG4gICAgICAgIGNvbXBvbmVudE5hbWU6IHRoaXMuY29uc3RydWN0b3IubmFtZSxcbiAgICAgIH0sXG4gICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBsZXZlbDogXCJlcnJvclwiLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSByZXRyeSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgaGFzRXJyb3I6IGZhbHNlLCBlcnJvcjogbnVsbCwgZXJyb3JJbmZvOiBudWxsIH0pO1xuICAgIC8vIFJlbG9hZCB0aGUgcGFnZSB0byBlbnN1cmUgY2xlYW4gc3RhdGVcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gIH07XG5cbiAgcHJpdmF0ZSBnb0hvbWUgPSAoKSA9PiB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9cIjtcbiAgfTtcblxuICBwdWJsaWMgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmhhc0Vycm9yICYmIHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmZhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmZhbGxiYWNrKFxuICAgICAgICAgIHRoaXMuc3RhdGUuZXJyb3IsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5lcnJvckluZm8hLFxuICAgICAgICAgIHRoaXMucmV0cnlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXNlIHNoYXJlZCBFcnJvckZhbGxiYWNrIGNvbXBvbmVudFxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEVycm9yRmFsbGJhY2tcbiAgICAgICAgICBlcnJvcj17dGhpcy5zdGF0ZS5lcnJvcn1cbiAgICAgICAgICBvblJldHJ5PXt0aGlzLnJldHJ5fVxuICAgICAgICAgIG9uR29Ib21lPXt0aGlzLmdvSG9tZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gIH1cbn1cbiIsImltcG9ydCB7IHVzZUNvbnRleHQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHtcbiAgVU5TQUZFX0RhdGFSb3V0ZXJTdGF0ZUNvbnRleHQsXG4gIGlzUm91dGVFcnJvclJlc3BvbnNlLFxuICB1c2VJblJvdXRlckNvbnRleHQsXG4gIHVzZVJvdXRlRXJyb3IsXG59IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nXG5cbmltcG9ydCB7IGVycm9yUmVwb3J0ZXIgfSBmcm9tICdAL2xpYi9lcnJvclJlcG9ydGVyJ1xuaW1wb3J0IHsgRXJyb3JGYWxsYmFjayB9IGZyb20gJy4vRXJyb3JGYWxsYmFjaydcblxudHlwZSBSb3V0ZUVycm9yID0gdW5rbm93blxuXG5mdW5jdGlvbiByZXBvcnRSb3V0ZUVycm9yKGVycm9yOiBSb3V0ZUVycm9yKSB7XG4gIGlmICghZXJyb3IpIHJldHVyblxuXG4gIGxldCBlcnJvck1lc3NhZ2UgPSAnVW5rbm93biByb3V0ZSBlcnJvcidcbiAgbGV0IGVycm9yU3RhY2sgPSAnJ1xuXG4gIGlmIChpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikpIHtcbiAgICBlcnJvck1lc3NhZ2UgPSBgUm91dGUgRXJyb3IgJHtlcnJvci5zdGF0dXN9OiAke2Vycm9yLnN0YXR1c1RleHR9YFxuICAgIGlmIChlcnJvci5kYXRhKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgKz0gYCAtICR7SlNPTi5zdHJpbmdpZnkoZXJyb3IuZGF0YSl9YFxuICAgIH1cbiAgfSBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZVxuICAgIGVycm9yU3RhY2sgPSBlcnJvci5zdGFjayB8fCAnJ1xuICB9IGVsc2UgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICBlcnJvck1lc3NhZ2UgPSBlcnJvclxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShlcnJvcilcbiAgICB9IGNhdGNoIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IFN0cmluZyhlcnJvcilcbiAgICB9XG4gIH1cblxuICBlcnJvclJlcG9ydGVyLnJlcG9ydCh7XG4gICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgIHN0YWNrOiBlcnJvclN0YWNrLFxuICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgc291cmNlOiAncmVhY3Qtcm91dGVyJyxcbiAgICBlcnJvcixcbiAgICBsZXZlbDogJ2Vycm9yJyxcbiAgfSlcbn1cblxuZnVuY3Rpb24gUm91dGVFcnJvckJvdW5kYXJ5Vmlldyh7IGVycm9yIH06IHsgZXJyb3I6IFJvdXRlRXJyb3IgfSkge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlcG9ydFJvdXRlRXJyb3IoZXJyb3IpXG4gIH0sIFtlcnJvcl0pXG5cbiAgaWYgKGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSkge1xuICAgIHJldHVybiAoXG4gICAgICA8RXJyb3JGYWxsYmFja1xuICAgICAgICB0aXRsZT17YCR7ZXJyb3Iuc3RhdHVzfSAke2Vycm9yLnN0YXR1c1RleHR9YH1cbiAgICAgICAgbWVzc2FnZT1cIlNvcnJ5LCBhbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIHRoaXMgcGFnZS5cIlxuICAgICAgICBlcnJvcj17ZXJyb3IuZGF0YSA/IHsgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkoZXJyb3IuZGF0YSwgbnVsbCwgMikgfSA6IGVycm9yfVxuICAgICAgICBzdGF0dXNNZXNzYWdlPVwiTmF2aWdhdGlvbiBlcnJvciBkZXRlY3RlZFwiXG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEVycm9yRmFsbGJhY2tcbiAgICAgIHRpdGxlPVwiVW5leHBlY3RlZCBFcnJvclwiXG4gICAgICBtZXNzYWdlPVwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIHRoaXMgcGFnZS5cIlxuICAgICAgZXJyb3I9e2Vycm9yfVxuICAgICAgc3RhdHVzTWVzc2FnZT1cIlJvdXRpbmcgZXJyb3IgZGV0ZWN0ZWRcIlxuICAgIC8+XG4gIClcbn1cblxuZnVuY3Rpb24gRGF0YVJvdXRlclJvdXRlRXJyb3JCb3VuZGFyeSgpIHtcbiAgY29uc3QgZXJyb3IgPSB1c2VSb3V0ZUVycm9yKClcbiAgcmV0dXJuIDxSb3V0ZUVycm9yQm91bmRhcnlWaWV3IGVycm9yPXtlcnJvcn0gLz5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJvdXRlRXJyb3JCb3VuZGFyeSgpIHtcbiAgY29uc3QgaW5Sb3V0ZXIgPSB1c2VJblJvdXRlckNvbnRleHQoKVxuICBjb25zdCBkYXRhUm91dGVyU3RhdGUgPSB1c2VDb250ZXh0KFVOU0FGRV9EYXRhUm91dGVyU3RhdGVDb250ZXh0KVxuXG4gIGNvbnN0IG1pc2NvbmZpZ3VyZWQgPSAhaW5Sb3V0ZXIgfHwgIWRhdGFSb3V0ZXJTdGF0ZVxuICBjb25zdCBtZXNzYWdlID0gIWluUm91dGVyXG4gICAgPyAnUm91dGVyIGlzIG5vdCBtb3VudGVkLiBBZGQgYSByb3V0ZXIgYXQgdGhlIGFwcCByb290LidcbiAgICA6ICdUaGlzIHJvdXRlciBkb2VzIG5vdCBzdXBwb3J0IHJvdXRlIGVycm9ycy4gVXNlIGNyZWF0ZUJyb3dzZXJSb3V0ZXIgKyBSb3V0ZXJQcm92aWRlci4nXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1pc2NvbmZpZ3VyZWQpIHJldHVyblxuICAgIGVycm9yUmVwb3J0ZXIucmVwb3J0KHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBzb3VyY2U6ICdyZWFjdC1yb3V0ZXInLFxuICAgICAgbGV2ZWw6ICdlcnJvcicsXG4gICAgfSlcbiAgfSwgW21pc2NvbmZpZ3VyZWQsIG1lc3NhZ2VdKVxuXG4gIC8vIEd1YXJkOiBJZiB0aGlzIGNvbXBvbmVudCBpcyByZW5kZXJlZCBvdXRzaWRlIG9mIGEgZGF0YSByb3V0ZXIgKGUuZy4gQnJvd3NlclJvdXRlcilcbiAgLy8gdGhlbiB1c2VSb3V0ZUVycm9yKCkgd291bGQgdGhyb3cuIFNob3cgYSBmcmllbmRseSBmYWxsYmFjayBpbnN0ZWFkLlxuICBpZiAobWlzY29uZmlndXJlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8RXJyb3JGYWxsYmFja1xuICAgICAgICB0aXRsZT1cIlJvdXRlciBjb25maWd1cmF0aW9uIGVycm9yXCJcbiAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cbiAgICAgICAgc3RhdHVzTWVzc2FnZT1cIlJvdXRpbmcgZXJyb3IgYm91bmRhcnkgY291bGQgbm90IGluaXRpYWxpemVcIlxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZXR1cm4gPERhdGFSb3V0ZXJSb3V0ZUVycm9yQm91bmRhcnkgLz5cbn0iLCJjb25zdCByZWR1eEltcGwgPSAocmVkdWNlciwgaW5pdGlhbCkgPT4gKHNldCwgX2dldCwgYXBpKSA9PiB7XG4gIGFwaS5kaXNwYXRjaCA9IChhY3Rpb24pID0+IHtcbiAgICBzZXQoKHN0YXRlKSA9PiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pLCBmYWxzZSwgYWN0aW9uKTtcbiAgICByZXR1cm4gYWN0aW9uO1xuICB9O1xuICBhcGkuZGlzcGF0Y2hGcm9tRGV2dG9vbHMgPSB0cnVlO1xuICByZXR1cm4geyBkaXNwYXRjaDogKC4uLmFyZ3MpID0+IGFwaS5kaXNwYXRjaCguLi5hcmdzKSwgLi4uaW5pdGlhbCB9O1xufTtcbmNvbnN0IHJlZHV4ID0gcmVkdXhJbXBsO1xuXG5jb25zdCB0cmFja2VkQ29ubmVjdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuY29uc3QgZ2V0VHJhY2tlZENvbm5lY3Rpb25TdGF0ZSA9IChuYW1lKSA9PiB7XG4gIGNvbnN0IGFwaSA9IHRyYWNrZWRDb25uZWN0aW9ucy5nZXQobmFtZSk7XG4gIGlmICghYXBpKSByZXR1cm4ge307XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXMoYXBpLnN0b3JlcykubWFwKChba2V5LCBhcGkyXSkgPT4gW2tleSwgYXBpMi5nZXRTdGF0ZSgpXSlcbiAgKTtcbn07XG5jb25zdCBleHRyYWN0Q29ubmVjdGlvbkluZm9ybWF0aW9uID0gKHN0b3JlLCBleHRlbnNpb25Db25uZWN0b3IsIG9wdGlvbnMpID0+IHtcbiAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ1bnRyYWNrZWRcIixcbiAgICAgIGNvbm5lY3Rpb246IGV4dGVuc2lvbkNvbm5lY3Rvci5jb25uZWN0KG9wdGlvbnMpXG4gICAgfTtcbiAgfVxuICBjb25zdCBleGlzdGluZ0Nvbm5lY3Rpb24gPSB0cmFja2VkQ29ubmVjdGlvbnMuZ2V0KG9wdGlvbnMubmFtZSk7XG4gIGlmIChleGlzdGluZ0Nvbm5lY3Rpb24pIHtcbiAgICByZXR1cm4geyB0eXBlOiBcInRyYWNrZWRcIiwgc3RvcmUsIC4uLmV4aXN0aW5nQ29ubmVjdGlvbiB9O1xuICB9XG4gIGNvbnN0IG5ld0Nvbm5lY3Rpb24gPSB7XG4gICAgY29ubmVjdGlvbjogZXh0ZW5zaW9uQ29ubmVjdG9yLmNvbm5lY3Qob3B0aW9ucyksXG4gICAgc3RvcmVzOiB7fVxuICB9O1xuICB0cmFja2VkQ29ubmVjdGlvbnMuc2V0KG9wdGlvbnMubmFtZSwgbmV3Q29ubmVjdGlvbik7XG4gIHJldHVybiB7IHR5cGU6IFwidHJhY2tlZFwiLCBzdG9yZSwgLi4ubmV3Q29ubmVjdGlvbiB9O1xufTtcbmNvbnN0IHJlbW92ZVN0b3JlRnJvbVRyYWNrZWRDb25uZWN0aW9ucyA9IChuYW1lLCBzdG9yZSkgPT4ge1xuICBpZiAoc3RvcmUgPT09IHZvaWQgMCkgcmV0dXJuO1xuICBjb25zdCBjb25uZWN0aW9uSW5mbyA9IHRyYWNrZWRDb25uZWN0aW9ucy5nZXQobmFtZSk7XG4gIGlmICghY29ubmVjdGlvbkluZm8pIHJldHVybjtcbiAgZGVsZXRlIGNvbm5lY3Rpb25JbmZvLnN0b3Jlc1tzdG9yZV07XG4gIGlmIChPYmplY3Qua2V5cyhjb25uZWN0aW9uSW5mby5zdG9yZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgIHRyYWNrZWRDb25uZWN0aW9ucy5kZWxldGUobmFtZSk7XG4gIH1cbn07XG5jb25zdCBmaW5kQ2FsbGVyTmFtZSA9IChzdGFjaykgPT4ge1xuICB2YXIgX2EsIF9iO1xuICBpZiAoIXN0YWNrKSByZXR1cm4gdm9pZCAwO1xuICBjb25zdCB0cmFjZUxpbmVzID0gc3RhY2suc3BsaXQoXCJcXG5cIik7XG4gIGNvbnN0IGFwaVNldFN0YXRlTGluZUluZGV4ID0gdHJhY2VMaW5lcy5maW5kSW5kZXgoXG4gICAgKHRyYWNlTGluZSkgPT4gdHJhY2VMaW5lLmluY2x1ZGVzKFwiYXBpLnNldFN0YXRlXCIpXG4gICk7XG4gIGlmIChhcGlTZXRTdGF0ZUxpbmVJbmRleCA8IDApIHJldHVybiB2b2lkIDA7XG4gIGNvbnN0IGNhbGxlckxpbmUgPSAoKF9hID0gdHJhY2VMaW5lc1thcGlTZXRTdGF0ZUxpbmVJbmRleCArIDFdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHJpbSgpKSB8fCBcIlwiO1xuICByZXR1cm4gKF9iID0gLy4rICguKykgLisvLmV4ZWMoY2FsbGVyTGluZSkpID09IG51bGwgPyB2b2lkIDAgOiBfYlsxXTtcbn07XG5jb25zdCBkZXZ0b29sc0ltcGwgPSAoZm4sIGRldnRvb2xzT3B0aW9ucyA9IHt9KSA9PiAoc2V0LCBnZXQsIGFwaSkgPT4ge1xuICBjb25zdCB7IGVuYWJsZWQsIGFub255bW91c0FjdGlvblR5cGUsIHN0b3JlLCAuLi5vcHRpb25zIH0gPSBkZXZ0b29sc09wdGlvbnM7XG4gIGxldCBleHRlbnNpb25Db25uZWN0b3I7XG4gIHRyeSB7XG4gICAgZXh0ZW5zaW9uQ29ubmVjdG9yID0gKGVuYWJsZWQgIT0gbnVsbCA/IGVuYWJsZWQgOiAoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX187XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxuICBpZiAoIWV4dGVuc2lvbkNvbm5lY3Rvcikge1xuICAgIHJldHVybiBmbihzZXQsIGdldCwgYXBpKTtcbiAgfVxuICBjb25zdCB7IGNvbm5lY3Rpb24sIC4uLmNvbm5lY3Rpb25JbmZvcm1hdGlvbiB9ID0gZXh0cmFjdENvbm5lY3Rpb25JbmZvcm1hdGlvbihzdG9yZSwgZXh0ZW5zaW9uQ29ubmVjdG9yLCBvcHRpb25zKTtcbiAgbGV0IGlzUmVjb3JkaW5nID0gdHJ1ZTtcbiAgYXBpLnNldFN0YXRlID0gKChzdGF0ZSwgcmVwbGFjZSwgbmFtZU9yQWN0aW9uKSA9PiB7XG4gICAgY29uc3QgciA9IHNldChzdGF0ZSwgcmVwbGFjZSk7XG4gICAgaWYgKCFpc1JlY29yZGluZykgcmV0dXJuIHI7XG4gICAgY29uc3QgYWN0aW9uID0gbmFtZU9yQWN0aW9uID09PSB2b2lkIDAgPyB7XG4gICAgICB0eXBlOiBhbm9ueW1vdXNBY3Rpb25UeXBlIHx8IGZpbmRDYWxsZXJOYW1lKG5ldyBFcnJvcigpLnN0YWNrKSB8fCBcImFub255bW91c1wiXG4gICAgfSA6IHR5cGVvZiBuYW1lT3JBY3Rpb24gPT09IFwic3RyaW5nXCIgPyB7IHR5cGU6IG5hbWVPckFjdGlvbiB9IDogbmFtZU9yQWN0aW9uO1xuICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLnNlbmQoYWN0aW9uLCBnZXQoKSk7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5zZW5kKFxuICAgICAge1xuICAgICAgICAuLi5hY3Rpb24sXG4gICAgICAgIHR5cGU6IGAke3N0b3JlfS8ke2FjdGlvbi50eXBlfWBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIC4uLmdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUob3B0aW9ucy5uYW1lKSxcbiAgICAgICAgW3N0b3JlXTogYXBpLmdldFN0YXRlKClcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiByO1xuICB9KTtcbiAgYXBpLmRldnRvb2xzID0ge1xuICAgIGNsZWFudXA6ICgpID0+IHtcbiAgICAgIGlmIChjb25uZWN0aW9uICYmIHR5cGVvZiBjb25uZWN0aW9uLnVuc3Vic2NyaWJlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY29ubmVjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgfVxuICAgICAgcmVtb3ZlU3RvcmVGcm9tVHJhY2tlZENvbm5lY3Rpb25zKG9wdGlvbnMubmFtZSwgc3RvcmUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0U3RhdGVGcm9tRGV2dG9vbHMgPSAoLi4uYSkgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsSXNSZWNvcmRpbmcgPSBpc1JlY29yZGluZztcbiAgICBpc1JlY29yZGluZyA9IGZhbHNlO1xuICAgIHNldCguLi5hKTtcbiAgICBpc1JlY29yZGluZyA9IG9yaWdpbmFsSXNSZWNvcmRpbmc7XG4gIH07XG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IGZuKGFwaS5zZXRTdGF0ZSwgZ2V0LCBhcGkpO1xuICBpZiAoY29ubmVjdGlvbkluZm9ybWF0aW9uLnR5cGUgPT09IFwidW50cmFja2VkXCIpIHtcbiAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoaW5pdGlhbFN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25uZWN0aW9uSW5mb3JtYXRpb24uc3RvcmVzW2Nvbm5lY3Rpb25JbmZvcm1hdGlvbi5zdG9yZV0gPSBhcGk7XG4gICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KFxuICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICBPYmplY3QuZW50cmllcyhjb25uZWN0aW9uSW5mb3JtYXRpb24uc3RvcmVzKS5tYXAoKFtrZXksIHN0b3JlMl0pID0+IFtcbiAgICAgICAgICBrZXksXG4gICAgICAgICAga2V5ID09PSBjb25uZWN0aW9uSW5mb3JtYXRpb24uc3RvcmUgPyBpbml0aWFsU3RhdGUgOiBzdG9yZTIuZ2V0U3RhdGUoKVxuICAgICAgICBdKVxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgaWYgKGFwaS5kaXNwYXRjaEZyb21EZXZ0b29scyAmJiB0eXBlb2YgYXBpLmRpc3BhdGNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBsZXQgZGlkV2FybkFib3V0UmVzZXJ2ZWRBY3Rpb25UeXBlID0gZmFsc2U7XG4gICAgY29uc3Qgb3JpZ2luYWxEaXNwYXRjaCA9IGFwaS5kaXNwYXRjaDtcbiAgICBhcGkuZGlzcGF0Y2ggPSAoLi4uYXJncykgPT4ge1xuICAgICAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmIGFyZ3NbMF0udHlwZSA9PT0gXCJfX3NldFN0YXRlXCIgJiYgIWRpZFdhcm5BYm91dFJlc2VydmVkQWN0aW9uVHlwZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ1t6dXN0YW5kIGRldnRvb2xzIG1pZGRsZXdhcmVdIFwiX19zZXRTdGF0ZVwiIGFjdGlvbiB0eXBlIGlzIHJlc2VydmVkIHRvIHNldCBzdGF0ZSBmcm9tIHRoZSBkZXZ0b29scy4gQXZvaWQgdXNpbmcgaXQuJ1xuICAgICAgICApO1xuICAgICAgICBkaWRXYXJuQWJvdXRSZXNlcnZlZEFjdGlvblR5cGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgb3JpZ2luYWxEaXNwYXRjaCguLi5hcmdzKTtcbiAgICB9O1xuICB9XG4gIGNvbm5lY3Rpb24uc3Vic2NyaWJlKChtZXNzYWdlKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgICBjYXNlIFwiQUNUSU9OXCI6XG4gICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZS5wYXlsb2FkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiW3p1c3RhbmQgZGV2dG9vbHMgbWlkZGxld2FyZV0gVW5zdXBwb3J0ZWQgYWN0aW9uIGZvcm1hdFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlSnNvblRoZW4oXG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkLFxuICAgICAgICAgIChhY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gXCJfX3NldFN0YXRlXCIpIHtcbiAgICAgICAgICAgICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhhY3Rpb24uc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aW9uLnN0YXRlKS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICBbenVzdGFuZCBkZXZ0b29scyBtaWRkbGV3YXJlXSBVbnN1cHBvcnRlZCBfX3NldFN0YXRlIGFjdGlvbiBmb3JtYXQuXG4gICAgICAgICAgICAgICAgICAgIFdoZW4gdXNpbmcgJ3N0b3JlJyBvcHRpb24gaW4gZGV2dG9vbHMoKSwgdGhlICdzdGF0ZScgc2hvdWxkIGhhdmUgb25seSBvbmUga2V5LCB3aGljaCBpcyBhIHZhbHVlIG9mICdzdG9yZScgdGhhdCB3YXMgcGFzc2VkIGluIGRldnRvb2xzKCksXG4gICAgICAgICAgICAgICAgICAgIGFuZCB2YWx1ZSBvZiB0aGlzIG9ubHkga2V5IHNob3VsZCBiZSBhIHN0YXRlIG9iamVjdC4gRXhhbXBsZTogeyBcInR5cGVcIjogXCJfX3NldFN0YXRlXCIsIFwic3RhdGVcIjogeyBcImFiYzEyM1N0b3JlXCI6IHsgXCJmb29cIjogXCJiYXJcIiB9IH0gfVxuICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBzdGF0ZUZyb21EZXZ0b29scyA9IGFjdGlvbi5zdGF0ZVtzdG9yZV07XG4gICAgICAgICAgICAgIGlmIChzdGF0ZUZyb21EZXZ0b29scyA9PT0gdm9pZCAwIHx8IHN0YXRlRnJvbURldnRvb2xzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShhcGkuZ2V0U3RhdGUoKSkgIT09IEpTT04uc3RyaW5naWZ5KHN0YXRlRnJvbURldnRvb2xzKSkge1xuICAgICAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKHN0YXRlRnJvbURldnRvb2xzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFwaS5kaXNwYXRjaEZyb21EZXZ0b29scykgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhcGkuZGlzcGF0Y2ggIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuO1xuICAgICAgICAgICAgYXBpLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgY2FzZSBcIkRJU1BBVENIXCI6XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5wYXlsb2FkLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiUkVTRVRcIjpcbiAgICAgICAgICAgIHNldFN0YXRlRnJvbURldnRvb2xzKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGFwaS5nZXRTdGF0ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoZ2V0VHJhY2tlZENvbm5lY3Rpb25TdGF0ZShvcHRpb25zLm5hbWUpKTtcbiAgICAgICAgICBjYXNlIFwiQ09NTUlUXCI6XG4gICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICBjb25uZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb25uZWN0aW9uLmluaXQoYXBpLmdldFN0YXRlKCkpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUob3B0aW9ucy5uYW1lKSk7XG4gICAgICAgICAgY2FzZSBcIlJPTExCQUNLXCI6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VKc29uVGhlbihtZXNzYWdlLnN0YXRlLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHN0b3JlID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhzdGF0ZSk7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGFwaS5nZXRTdGF0ZSgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGVbc3RvcmVdKTtcbiAgICAgICAgICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5pbml0KGdldFRyYWNrZWRDb25uZWN0aW9uU3RhdGUob3B0aW9ucy5uYW1lKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiSlVNUF9UT19TVEFURVwiOlxuICAgICAgICAgIGNhc2UgXCJKVU1QX1RPX0FDVElPTlwiOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSnNvblRoZW4obWVzc2FnZS5zdGF0ZSwgKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChzdG9yZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoYXBpLmdldFN0YXRlKCkpICE9PSBKU09OLnN0cmluZ2lmeShzdGF0ZVtzdG9yZV0pKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGVGcm9tRGV2dG9vbHMoc3RhdGVbc3RvcmVdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIklNUE9SVF9TVEFURVwiOiB7XG4gICAgICAgICAgICBjb25zdCB7IG5leHRMaWZ0ZWRTdGF0ZSB9ID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgICAgICAgICAgY29uc3QgbGFzdENvbXB1dGVkU3RhdGUgPSAoX2EgPSBuZXh0TGlmdGVkU3RhdGUuY29tcHV0ZWRTdGF0ZXMuc2xpY2UoLTEpWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2Euc3RhdGU7XG4gICAgICAgICAgICBpZiAoIWxhc3RDb21wdXRlZFN0YXRlKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoc3RvcmUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhsYXN0Q29tcHV0ZWRTdGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRTdGF0ZUZyb21EZXZ0b29scyhsYXN0Q29tcHV0ZWRTdGF0ZVtzdG9yZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29ubmVjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY29ubmVjdGlvbi5zZW5kKFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAvLyBGSVhNRSBuby1hbnlcbiAgICAgICAgICAgICAgbmV4dExpZnRlZFN0YXRlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiUEFVU0VfUkVDT1JESU5HXCI6XG4gICAgICAgICAgICByZXR1cm4gaXNSZWNvcmRpbmcgPSAhaXNSZWNvcmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpbml0aWFsU3RhdGU7XG59O1xuY29uc3QgZGV2dG9vbHMgPSBkZXZ0b29sc0ltcGw7XG5jb25zdCBwYXJzZUpzb25UaGVuID0gKHN0cmluZ2lmaWVkLCBmbikgPT4ge1xuICBsZXQgcGFyc2VkO1xuICB0cnkge1xuICAgIHBhcnNlZCA9IEpTT04ucGFyc2Uoc3RyaW5naWZpZWQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiW3p1c3RhbmQgZGV2dG9vbHMgbWlkZGxld2FyZV0gQ291bGQgbm90IHBhcnNlIHRoZSByZWNlaXZlZCBqc29uXCIsXG4gICAgICBlXG4gICAgKTtcbiAgfVxuICBpZiAocGFyc2VkICE9PSB2b2lkIDApIGZuKHBhcnNlZCk7XG59O1xuXG5jb25zdCBzdWJzY3JpYmVXaXRoU2VsZWN0b3JJbXBsID0gKGZuKSA9PiAoc2V0LCBnZXQsIGFwaSkgPT4ge1xuICBjb25zdCBvcmlnU3Vic2NyaWJlID0gYXBpLnN1YnNjcmliZTtcbiAgYXBpLnN1YnNjcmliZSA9ICgoc2VsZWN0b3IsIG9wdExpc3RlbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgbGV0IGxpc3RlbmVyID0gc2VsZWN0b3I7XG4gICAgaWYgKG9wdExpc3RlbmVyKSB7XG4gICAgICBjb25zdCBlcXVhbGl0eUZuID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZXF1YWxpdHlGbikgfHwgT2JqZWN0LmlzO1xuICAgICAgbGV0IGN1cnJlbnRTbGljZSA9IHNlbGVjdG9yKGFwaS5nZXRTdGF0ZSgpKTtcbiAgICAgIGxpc3RlbmVyID0gKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHRTbGljZSA9IHNlbGVjdG9yKHN0YXRlKTtcbiAgICAgICAgaWYgKCFlcXVhbGl0eUZuKGN1cnJlbnRTbGljZSwgbmV4dFNsaWNlKSkge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzU2xpY2UgPSBjdXJyZW50U2xpY2U7XG4gICAgICAgICAgb3B0TGlzdGVuZXIoY3VycmVudFNsaWNlID0gbmV4dFNsaWNlLCBwcmV2aW91c1NsaWNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmZpcmVJbW1lZGlhdGVseSkge1xuICAgICAgICBvcHRMaXN0ZW5lcihjdXJyZW50U2xpY2UsIGN1cnJlbnRTbGljZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcmlnU3Vic2NyaWJlKGxpc3RlbmVyKTtcbiAgfSk7XG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IGZuKHNldCwgZ2V0LCBhcGkpO1xuICByZXR1cm4gaW5pdGlhbFN0YXRlO1xufTtcbmNvbnN0IHN1YnNjcmliZVdpdGhTZWxlY3RvciA9IHN1YnNjcmliZVdpdGhTZWxlY3RvckltcGw7XG5cbmZ1bmN0aW9uIGNvbWJpbmUoaW5pdGlhbFN0YXRlLCBjcmVhdGUpIHtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUsIGNyZWF0ZSguLi5hcmdzKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUpTT05TdG9yYWdlKGdldFN0b3JhZ2UsIG9wdGlvbnMpIHtcbiAgbGV0IHN0b3JhZ2U7XG4gIHRyeSB7XG4gICAgc3RvcmFnZSA9IGdldFN0b3JhZ2UoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwZXJzaXN0U3RvcmFnZSA9IHtcbiAgICBnZXRJdGVtOiAobmFtZSkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgcGFyc2UgPSAoc3RyMikgPT4ge1xuICAgICAgICBpZiAoc3RyMiA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cjIsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucmV2aXZlcik7XG4gICAgICB9O1xuICAgICAgY29uc3Qgc3RyID0gKF9hID0gc3RvcmFnZS5nZXRJdGVtKG5hbWUpKSAhPSBudWxsID8gX2EgOiBudWxsO1xuICAgICAgaWYgKHN0ciBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIHN0ci50aGVuKHBhcnNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJzZShzdHIpO1xuICAgIH0sXG4gICAgc2V0SXRlbTogKG5hbWUsIG5ld1ZhbHVlKSA9PiBzdG9yYWdlLnNldEl0ZW0obmFtZSwgSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucmVwbGFjZXIpKSxcbiAgICByZW1vdmVJdGVtOiAobmFtZSkgPT4gc3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpXG4gIH07XG4gIHJldHVybiBwZXJzaXN0U3RvcmFnZTtcbn1cbmNvbnN0IHRvVGhlbmFibGUgPSAoZm4pID0+IChpbnB1dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGZuKGlucHV0KTtcbiAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHRoZW4ob25GdWxmaWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIHRvVGhlbmFibGUob25GdWxmaWxsZWQpKHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgY2F0Y2goX29uUmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0aGVuKF9vbkZ1bGZpbGxlZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBjYXRjaChvblJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0b1RoZW5hYmxlKG9uUmVqZWN0ZWQpKGUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5jb25zdCBwZXJzaXN0SW1wbCA9IChjb25maWcsIGJhc2VPcHRpb25zKSA9PiAoc2V0LCBnZXQsIGFwaSkgPT4ge1xuICBsZXQgb3B0aW9ucyA9IHtcbiAgICBzdG9yYWdlOiBjcmVhdGVKU09OU3RvcmFnZSgoKSA9PiBsb2NhbFN0b3JhZ2UpLFxuICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gc3RhdGUsXG4gICAgdmVyc2lvbjogMCxcbiAgICBtZXJnZTogKHBlcnNpc3RlZFN0YXRlLCBjdXJyZW50U3RhdGUpID0+ICh7XG4gICAgICAuLi5jdXJyZW50U3RhdGUsXG4gICAgICAuLi5wZXJzaXN0ZWRTdGF0ZVxuICAgIH0pLFxuICAgIC4uLmJhc2VPcHRpb25zXG4gIH07XG4gIGxldCBoYXNIeWRyYXRlZCA9IGZhbHNlO1xuICBjb25zdCBoeWRyYXRpb25MaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgc3RvcmFnZSA9IG9wdGlvbnMuc3RvcmFnZTtcbiAgaWYgKCFzdG9yYWdlKSB7XG4gICAgcmV0dXJuIGNvbmZpZyhcbiAgICAgICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgW3p1c3RhbmQgcGVyc2lzdCBtaWRkbGV3YXJlXSBVbmFibGUgdG8gdXBkYXRlIGl0ZW0gJyR7b3B0aW9ucy5uYW1lfScsIHRoZSBnaXZlbiBzdG9yYWdlIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS5gXG4gICAgICAgICk7XG4gICAgICAgIHNldCguLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICBnZXQsXG4gICAgICBhcGlcbiAgICApO1xuICB9XG4gIGNvbnN0IHNldEl0ZW0gPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBvcHRpb25zLnBhcnRpYWxpemUoeyAuLi5nZXQoKSB9KTtcbiAgICByZXR1cm4gc3RvcmFnZS5zZXRJdGVtKG9wdGlvbnMubmFtZSwge1xuICAgICAgc3RhdGUsXG4gICAgICB2ZXJzaW9uOiBvcHRpb25zLnZlcnNpb25cbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgc2F2ZWRTZXRTdGF0ZSA9IGFwaS5zZXRTdGF0ZTtcbiAgYXBpLnNldFN0YXRlID0gKHN0YXRlLCByZXBsYWNlKSA9PiB7XG4gICAgc2F2ZWRTZXRTdGF0ZShzdGF0ZSwgcmVwbGFjZSk7XG4gICAgcmV0dXJuIHNldEl0ZW0oKTtcbiAgfTtcbiAgY29uc3QgY29uZmlnUmVzdWx0ID0gY29uZmlnKFxuICAgICguLi5hcmdzKSA9PiB7XG4gICAgICBzZXQoLi4uYXJncyk7XG4gICAgICByZXR1cm4gc2V0SXRlbSgpO1xuICAgIH0sXG4gICAgZ2V0LFxuICAgIGFwaVxuICApO1xuICBhcGkuZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gY29uZmlnUmVzdWx0O1xuICBsZXQgc3RhdGVGcm9tU3RvcmFnZTtcbiAgY29uc3QgaHlkcmF0ZSA9ICgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICghc3RvcmFnZSkgcmV0dXJuO1xuICAgIGhhc0h5ZHJhdGVkID0gZmFsc2U7XG4gICAgaHlkcmF0aW9uTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIGNiKChfYTIgPSBnZXQoKSkgIT0gbnVsbCA/IF9hMiA6IGNvbmZpZ1Jlc3VsdCk7XG4gICAgfSk7XG4gICAgY29uc3QgcG9zdFJlaHlkcmF0aW9uQ2FsbGJhY2sgPSAoKF9iID0gb3B0aW9ucy5vblJlaHlkcmF0ZVN0b3JhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKG9wdGlvbnMsIChfYSA9IGdldCgpKSAhPSBudWxsID8gX2EgOiBjb25maWdSZXN1bHQpKSB8fCB2b2lkIDA7XG4gICAgcmV0dXJuIHRvVGhlbmFibGUoc3RvcmFnZS5nZXRJdGVtLmJpbmQoc3RvcmFnZSkpKG9wdGlvbnMubmFtZSkudGhlbigoZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlKSA9PiB7XG4gICAgICBpZiAoZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb24gPT09IFwibnVtYmVyXCIgJiYgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnZlcnNpb24gIT09IG9wdGlvbnMudmVyc2lvbikge1xuICAgICAgICAgIGlmIChvcHRpb25zLm1pZ3JhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pZ3JhdGlvbiA9IG9wdGlvbnMubWlncmF0ZShcbiAgICAgICAgICAgICAgZGVzZXJpYWxpemVkU3RvcmFnZVZhbHVlLnN0YXRlLFxuICAgICAgICAgICAgICBkZXNlcmlhbGl6ZWRTdG9yYWdlVmFsdWUudmVyc2lvblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChtaWdyYXRpb24gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtaWdyYXRpb24udGhlbigocmVzdWx0KSA9PiBbdHJ1ZSwgcmVzdWx0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3RydWUsIG1pZ3JhdGlvbl07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBgU3RhdGUgbG9hZGVkIGZyb20gc3RvcmFnZSBjb3VsZG4ndCBiZSBtaWdyYXRlZCBzaW5jZSBubyBtaWdyYXRlIGZ1bmN0aW9uIHdhcyBwcm92aWRlZGBcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbZmFsc2UsIGRlc2VyaWFsaXplZFN0b3JhZ2VWYWx1ZS5zdGF0ZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbZmFsc2UsIHZvaWQgMF07XG4gICAgfSkudGhlbigobWlncmF0aW9uUmVzdWx0KSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgY29uc3QgW21pZ3JhdGVkLCBtaWdyYXRlZFN0YXRlXSA9IG1pZ3JhdGlvblJlc3VsdDtcbiAgICAgIHN0YXRlRnJvbVN0b3JhZ2UgPSBvcHRpb25zLm1lcmdlKFxuICAgICAgICBtaWdyYXRlZFN0YXRlLFxuICAgICAgICAoX2EyID0gZ2V0KCkpICE9IG51bGwgPyBfYTIgOiBjb25maWdSZXN1bHRcbiAgICAgICk7XG4gICAgICBzZXQoc3RhdGVGcm9tU3RvcmFnZSwgdHJ1ZSk7XG4gICAgICBpZiAobWlncmF0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHNldEl0ZW0oKTtcbiAgICAgIH1cbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrID09IG51bGwgPyB2b2lkIDAgOiBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayhzdGF0ZUZyb21TdG9yYWdlLCB2b2lkIDApO1xuICAgICAgc3RhdGVGcm9tU3RvcmFnZSA9IGdldCgpO1xuICAgICAgaGFzSHlkcmF0ZWQgPSB0cnVlO1xuICAgICAgZmluaXNoSHlkcmF0aW9uTGlzdGVuZXJzLmZvckVhY2goKGNiKSA9PiBjYihzdGF0ZUZyb21TdG9yYWdlKSk7XG4gICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgIHBvc3RSZWh5ZHJhdGlvbkNhbGxiYWNrID09IG51bGwgPyB2b2lkIDAgOiBwb3N0UmVoeWRyYXRpb25DYWxsYmFjayh2b2lkIDAsIGUpO1xuICAgIH0pO1xuICB9O1xuICBhcGkucGVyc2lzdCA9IHtcbiAgICBzZXRPcHRpb25zOiAobmV3T3B0aW9ucykgPT4ge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4ubmV3T3B0aW9uc1xuICAgICAgfTtcbiAgICAgIGlmIChuZXdPcHRpb25zLnN0b3JhZ2UpIHtcbiAgICAgICAgc3RvcmFnZSA9IG5ld09wdGlvbnMuc3RvcmFnZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsZWFyU3RvcmFnZTogKCkgPT4ge1xuICAgICAgc3RvcmFnZSA9PSBudWxsID8gdm9pZCAwIDogc3RvcmFnZS5yZW1vdmVJdGVtKG9wdGlvbnMubmFtZSk7XG4gICAgfSxcbiAgICBnZXRPcHRpb25zOiAoKSA9PiBvcHRpb25zLFxuICAgIHJlaHlkcmF0ZTogKCkgPT4gaHlkcmF0ZSgpLFxuICAgIGhhc0h5ZHJhdGVkOiAoKSA9PiBoYXNIeWRyYXRlZCxcbiAgICBvbkh5ZHJhdGU6IChjYikgPT4ge1xuICAgICAgaHlkcmF0aW9uTGlzdGVuZXJzLmFkZChjYik7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBoeWRyYXRpb25MaXN0ZW5lcnMuZGVsZXRlKGNiKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBvbkZpbmlzaEh5ZHJhdGlvbjogKGNiKSA9PiB7XG4gICAgICBmaW5pc2hIeWRyYXRpb25MaXN0ZW5lcnMuYWRkKGNiKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGZpbmlzaEh5ZHJhdGlvbkxpc3RlbmVycy5kZWxldGUoY2IpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIGlmICghb3B0aW9ucy5za2lwSHlkcmF0aW9uKSB7XG4gICAgaHlkcmF0ZSgpO1xuICB9XG4gIHJldHVybiBzdGF0ZUZyb21TdG9yYWdlIHx8IGNvbmZpZ1Jlc3VsdDtcbn07XG5jb25zdCBwZXJzaXN0ID0gcGVyc2lzdEltcGw7XG5cbmZ1bmN0aW9uIHNzclNhZmUoY29uZmlnLCBpc1NTUiA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgcmV0dXJuIChzZXQsIGdldCwgYXBpKSA9PiB7XG4gICAgaWYgKCFpc1NTUikge1xuICAgICAgcmV0dXJuIGNvbmZpZyhzZXQsIGdldCwgYXBpKTtcbiAgICB9XG4gICAgY29uc3Qgc3NyU2V0ID0gKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBzdGF0ZSBvZiBadXN0YW5kIHN0b3JlIGluIFNTUlwiKTtcbiAgICB9O1xuICAgIGFwaS5zZXRTdGF0ZSA9IHNzclNldDtcbiAgICByZXR1cm4gY29uZmlnKHNzclNldCwgZ2V0LCBhcGkpO1xuICB9O1xufVxuXG5leHBvcnQgeyBjb21iaW5lLCBjcmVhdGVKU09OU3RvcmFnZSwgZGV2dG9vbHMsIHBlcnNpc3QsIHJlZHV4LCBzdWJzY3JpYmVXaXRoU2VsZWN0b3IsIHNzclNhZmUgYXMgdW5zdGFibGVfc3NyU2FmZSB9O1xuIiwiaW1wb3J0IHsgcHJvZHVjZSB9IGZyb20gJ2ltbWVyJztcblxuY29uc3QgaW1tZXJJbXBsID0gKGluaXRpYWxpemVyKSA9PiAoc2V0LCBnZXQsIHN0b3JlKSA9PiB7XG4gIHN0b3JlLnNldFN0YXRlID0gKHVwZGF0ZXIsIHJlcGxhY2UsIC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSB0eXBlb2YgdXBkYXRlciA9PT0gXCJmdW5jdGlvblwiID8gcHJvZHVjZSh1cGRhdGVyKSA6IHVwZGF0ZXI7XG4gICAgcmV0dXJuIHNldChuZXh0U3RhdGUsIHJlcGxhY2UsIC4uLmFyZ3MpO1xuICB9O1xuICByZXR1cm4gaW5pdGlhbGl6ZXIoc3RvcmUuc2V0U3RhdGUsIGdldCwgc3RvcmUpO1xufTtcbmNvbnN0IGltbWVyID0gaW1tZXJJbXBsO1xuXG5leHBvcnQgeyBpbW1lciB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSAnenVzdGFuZCc7XG5pbXBvcnQgeyBwZXJzaXN0LCBjcmVhdGVKU09OU3RvcmFnZSB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBpbW1lciB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZS9pbW1lcic7XG5pbXBvcnQgdHlwZSB7IERlY2ssIFRlYW0sIFdvcmQgfSBmcm9tICdAL3R5cGVzJztcbmV4cG9ydCB0eXBlIExhbmd1YWdlID0gJ2VuJyB8ICd0cic7XG5leHBvcnQgdHlwZSBHYW1lU3RhdHVzID0gJ3NldHVwJyB8ICdnZXQtcmVhZHknIHwgJ3BsYXlpbmcnIHwgJ3R1cm4tc3VtbWFyeScgfCAnZ2FtZS1vdmVyJztcbmV4cG9ydCB0eXBlIFNldHVwU3RlcCA9ICd0ZWFtcycgfCAnY3VzdG9taXplJyB8ICdkZWNrJyB8ICd3b3JkLWNvdW50JztcbmV4cG9ydCB0eXBlIFR1cm5FbmRSZWFzb24gPSAndGltZS11cCcgfCAnd29yZHMtZXhoYXVzdGVkJyB8IG51bGw7XG5leHBvcnQgY29uc3QgVEVBTV9DT0xPUlMgPSBbXG4gICcjMDE4OWQwJywgLy8gQmx1ZVxuICAnI2NjMDA0YycsIC8vIFJlZFxuICAnIzY0NjBhYScsIC8vIFB1cnBsZVxuICAnI2YzNzAyMScsIC8vIE9yYW5nZVxuICAnIzA3YjI0YScsIC8vIEdyZWVuXG4gICcjZmJiNzEyJywgLy8gWWVsbG93XG5dO1xuY29uc3QgREVGQVVMVF9UVVJOX0RVUkFUSU9OID0gNDU7XG5pbnRlcmZhY2UgR2FtZVN0YXRlIHtcbiAgbGFuZ3VhZ2U6IExhbmd1YWdlO1xuICB0ZWFtczogVGVhbVtdO1xuICBzZWxlY3RlZERlY2s6IERlY2sgfCBudWxsO1xuICBjdXN0b21EZWNrOiBEZWNrIHwgbnVsbDtcbiAgc2VsZWN0ZWRXb3JkQ291bnQ6IG51bWJlciB8IG51bGw7XG4gIHR1cm5EdXJhdGlvbjogbnVtYmVyO1xuICBnYW1lU3RhdHVzOiBHYW1lU3RhdHVzO1xuICBzZXR1cFN0ZXA6IFNldHVwU3RlcDtcbiAgcm91bmQ6IG51bWJlcjtcbiAgY3VycmVudFRlYW1JbmRleDogbnVtYmVyO1xuICB3b3JkczogV29yZFtdO1xuICB1bnNlZW5Xb3JkczogV29yZFtdO1xuICBndWVzc2VkV29yZHNUaGlzUm91bmQ6IFdvcmRbXTtcbiAgY3VycmVudFdvcmQ6IFdvcmQgfCBudWxsO1xuICBsYXN0R3Vlc3NlZFdvcmQ6IFdvcmQgfCBudWxsO1xuICBsYXN0UGFzc2VkV29yZDogV29yZCB8IG51bGw7XG4gIHdvcmRzR3Vlc3NlZFRoaXNUdXJuOiBXb3JkW107XG4gIHRpbWVMZWZ0OiBudW1iZXI7XG4gIHR1cm5FbmRSZWFzb246IFR1cm5FbmRSZWFzb247XG4gIGJvbnVzVGltZTogbnVtYmVyIHwgbnVsbDtcbiAgdGhlbWU6ICdsaWdodCcgfCAnZGFyayc7XG4gIHNldExhbmd1YWdlOiAobGFuZzogTGFuZ3VhZ2UpID0+IHZvaWQ7XG4gIHNldFRoZW1lOiAodGhlbWU6ICdsaWdodCcgfCAnZGFyaycpID0+IHZvaWQ7XG4gIHNldFRlYW1Db3VudDogKGNvdW50OiBudW1iZXIsIG5hbWVQYXJ0czogeyBhZGplY3RpdmVzOiBzdHJpbmdbXSwgbm91bnM6IHN0cmluZ1tdIH0pID0+IHZvaWQ7XG4gIHVwZGF0ZVRlYW06IChpZDogbnVtYmVyLCBuYW1lOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHJlZ2VuZXJhdGVUZWFtTmFtZTogKHRlYW1JZDogbnVtYmVyLCBuYW1lUGFydHM6IHsgYWRqZWN0aXZlczogc3RyaW5nW10sIG5vdW5zOiBzdHJpbmdbXSB9KSA9PiB2b2lkO1xuICBzZXRTZXR1cFN0ZXA6IChzdGVwOiBTZXR1cFN0ZXApID0+IHZvaWQ7XG4gIHNlbGVjdERlY2s6IChkZWNrOiBEZWNrKSA9PiB2b2lkO1xuICBzZXRDdXN0b21EZWNrOiAoZGVjazogRGVjaykgPT4gdm9pZDtcbiAgc2V0V29yZENvdW50OiAoY291bnQ6IG51bWJlcikgPT4gdm9pZDtcbiAgc2V0VHVybkR1cmF0aW9uOiAoZHVyYXRpb246IG51bWJlcikgPT4gdm9pZDtcbiAgc3RhcnRHYW1lOiAod29yZHM6IFdvcmRbXSkgPT4gdm9pZDtcbiAgc3RhcnRUdXJuOiAoKSA9PiB2b2lkO1xuICBlbmRUdXJuOiAoKSA9PiB2b2lkO1xuICBwcm9jZWVkVG9OZXh0VHVybjogKCkgPT4gdm9pZDtcbiAgaGFuZGxlQ29ycmVjdDogKCkgPT4gdm9pZDtcbiAgaGFuZGxlUGFzczogKCkgPT4gdm9pZDtcbiAgdW5kb0xhc3RBY3Rpb246ICgpID0+IHZvaWQ7XG4gIHRpY2s6ICgpID0+IHZvaWQ7XG4gIHJlc2V0U2V0dXA6ICgpID0+IHZvaWQ7XG4gIHJlc2V0R2FtZTogKCkgPT4gdm9pZDtcbn1cbmV4cG9ydCBjb25zdCB1c2VHYW1lU3RvcmUgPSBjcmVhdGU8R2FtZVN0YXRlPigpKFxuICBwZXJzaXN0KFxuICAgIGltbWVyKChzZXQsIGdldCkgPT4gKHtcbiAgICAgIGxhbmd1YWdlOiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLmxhbmd1YWdlLnN0YXJ0c1dpdGgoJ3RyJykpID8gJ3RyJyA6ICdlbicsXG4gICAgICB0ZWFtczogW10sXG4gICAgICBzZWxlY3RlZERlY2s6IG51bGwsXG4gICAgICBjdXN0b21EZWNrOiBudWxsLFxuICAgICAgc2VsZWN0ZWRXb3JkQ291bnQ6IG51bGwsXG4gICAgICB0dXJuRHVyYXRpb246IERFRkFVTFRfVFVSTl9EVVJBVElPTixcbiAgICAgIGdhbWVTdGF0dXM6ICdzZXR1cCcsXG4gICAgICBzZXR1cFN0ZXA6ICd0ZWFtcycsXG4gICAgICByb3VuZDogMSxcbiAgICAgIGN1cnJlbnRUZWFtSW5kZXg6IDAsXG4gICAgICB3b3JkczogW10sXG4gICAgICB1bnNlZW5Xb3JkczogW10sXG4gICAgICBndWVzc2VkV29yZHNUaGlzUm91bmQ6IFtdLFxuICAgICAgY3VycmVudFdvcmQ6IG51bGwsXG4gICAgICBsYXN0R3Vlc3NlZFdvcmQ6IG51bGwsXG4gICAgICBsYXN0UGFzc2VkV29yZDogbnVsbCxcbiAgICAgIHdvcmRzR3Vlc3NlZFRoaXNUdXJuOiBbXSxcbiAgICAgIHRpbWVMZWZ0OiBERUZBVUxUX1RVUk5fRFVSQVRJT04sXG4gICAgICB0dXJuRW5kUmVhc29uOiBudWxsLFxuICAgICAgYm9udXNUaW1lOiBudWxsLFxuICAgICAgdGhlbWU6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcyA/ICdkYXJrJyA6ICdsaWdodCcsXG4gICAgICBzZXRMYW5ndWFnZTogKGxhbmcpID0+IHNldCh7IGxhbmd1YWdlOiBsYW5nLCBzZXR1cFN0ZXA6ICd0ZWFtcycsIHRlYW1zOiBbXSwgc2VsZWN0ZWREZWNrOiBudWxsLCBjdXN0b21EZWNrOiBudWxsLCBzZWxlY3RlZFdvcmRDb3VudDogbnVsbCB9KSxcbiAgICAgIHNldFRoZW1lOiAodGhlbWUpID0+IHNldCh7IHRoZW1lIH0pLFxuICAgICAgc2V0VGVhbUNvdW50OiAoY291bnQsIG5hbWVQYXJ0cykgPT4ge1xuICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdXNlZE5hbWVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgICAgc3RhdGUudGVhbXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjb3VudCB9LCAoXywgaSkgPT4ge1xuICAgICAgICAgICAgbGV0IG5hbWUgPSAnJztcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgY29uc3QgYWRqID0gbmFtZVBhcnRzLmFkamVjdGl2ZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbmFtZVBhcnRzLmFkamVjdGl2ZXMubGVuZ3RoKV07XG4gICAgICAgICAgICAgIGNvbnN0IG5vdW4gPSBuYW1lUGFydHMubm91bnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbmFtZVBhcnRzLm5vdW5zLmxlbmd0aCldO1xuICAgICAgICAgICAgICBuYW1lID0gYCR7YWRqfSAke25vdW59YDtcbiAgICAgICAgICAgIH0gd2hpbGUgKHVzZWROYW1lcy5oYXMobmFtZSkpO1xuICAgICAgICAgICAgdXNlZE5hbWVzLmFkZChuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGlkOiBpLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBjb2xvcjogVEVBTV9DT0xPUlNbaSAlIFRFQU1fQ09MT1JTLmxlbmd0aF0sXG4gICAgICAgICAgICAgIHNjb3JlOiAwLFxuICAgICAgICAgICAgICBpc05hbWVDdXN0b21pemVkOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdGUuc2V0dXBTdGVwID0gJ2N1c3RvbWl6ZSc7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZVRlYW06IChpZCwgbmFtZSwgY29sb3IpID0+IHtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRlYW0gPSBzdGF0ZS50ZWFtcy5maW5kKCh0KSA9PiB0LmlkID09PSBpZCk7XG4gICAgICAgICAgaWYgKHRlYW0pIHtcbiAgICAgICAgICAgIGlmICh0ZWFtLm5hbWUgIT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgdGVhbS5pc05hbWVDdXN0b21pemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlYW0ubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICB0ZWFtLmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICByZWdlbmVyYXRlVGVhbU5hbWU6ICh0ZWFtSWQsIG5hbWVQYXJ0cykgPT4ge1xuICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdGVhbVRvVXBkYXRlID0gc3RhdGUudGVhbXMuZmluZCgodCkgPT4gdC5pZCA9PT0gdGVhbUlkKTtcbiAgICAgICAgICBpZiAodGVhbVRvVXBkYXRlKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VkTmFtZXMgPSBuZXcgU2V0KHN0YXRlLnRlYW1zLmZpbHRlcih0ID0+IHQuaWQgIT09IHRlYW1JZCkubWFwKCh0KSA9PiB0Lm5hbWUpKTtcbiAgICAgICAgICAgIGxldCBuZXdOYW1lID0gJyc7XG4gICAgICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBjb25zdCBhZGogPSBuYW1lUGFydHMuYWRqZWN0aXZlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBuYW1lUGFydHMuYWRqZWN0aXZlcy5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgY29uc3Qgbm91biA9IG5hbWVQYXJ0cy5ub3Vuc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBuYW1lUGFydHMubm91bnMubGVuZ3RoKV07XG4gICAgICAgICAgICAgIG5ld05hbWUgPSBgJHthZGp9ICR7bm91bn1gO1xuICAgICAgICAgICAgICBhdHRlbXB0cysrO1xuICAgICAgICAgICAgfSB3aGlsZSAodXNlZE5hbWVzLmhhcyhuZXdOYW1lKSAmJiBhdHRlbXB0cyA8IDUwKTtcbiAgICAgICAgICAgIHRlYW1Ub1VwZGF0ZS5uYW1lID0gbmV3TmFtZTtcbiAgICAgICAgICAgIHRlYW1Ub1VwZGF0ZS5pc05hbWVDdXN0b21pemVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHNldFNldHVwU3RlcDogKHN0ZXApID0+IHNldCh7IHNldHVwU3RlcDogc3RlcCB9KSxcbiAgICAgIHNlbGVjdERlY2s6IChkZWNrKSA9PiBzZXQoeyBzZWxlY3RlZERlY2s6IGRlY2sgfSksXG4gICAgICBzZXRDdXN0b21EZWNrOiAoZGVjaykgPT4ge1xuICAgICAgICBzZXQoeyBjdXN0b21EZWNrOiBkZWNrLCBzZWxlY3RlZERlY2s6IGRlY2sgfSk7XG4gICAgICB9LFxuICAgICAgc2V0V29yZENvdW50OiAoY291bnQpID0+IHNldCh7IHNlbGVjdGVkV29yZENvdW50OiBjb3VudCB9KSxcbiAgICAgIHNldFR1cm5EdXJhdGlvbjogKGR1cmF0aW9uKSA9PiBzZXQoeyB0dXJuRHVyYXRpb246IGR1cmF0aW9uIH0pLFxuICAgICAgc3RhcnRHYW1lOiAod29yZHMpID0+IHtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvdW50ID0gc3RhdGUuc2VsZWN0ZWRXb3JkQ291bnQgPz8gd29yZHMubGVuZ3RoO1xuICAgICAgICAgIGNvbnN0IHNodWZmbGVkV29yZHMgPSBbLi4ud29yZHNdLnNvcnQoKCkgPT4gTWF0aC5yYW5kb20oKSAtIDAuNSk7XG4gICAgICAgICAgY29uc3QgZ2FtZVdvcmRzID0gc2h1ZmZsZWRXb3Jkcy5zbGljZSgwLCBjb3VudCk7XG4gICAgICAgICAgc3RhdGUuZ2FtZVN0YXR1cyA9ICdnZXQtcmVhZHknO1xuICAgICAgICAgIHN0YXRlLndvcmRzID0gZ2FtZVdvcmRzO1xuICAgICAgICAgIHN0YXRlLnVuc2VlbldvcmRzID0gWy4uLmdhbWVXb3Jkc10uc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTtcbiAgICAgICAgICBzdGF0ZS5ndWVzc2VkV29yZHNUaGlzUm91bmQgPSBbXTtcbiAgICAgICAgICBzdGF0ZS5jdXJyZW50VGVhbUluZGV4ID0gMDtcbiAgICAgICAgICBzdGF0ZS5yb3VuZCA9IDE7XG4gICAgICAgICAgc3RhdGUuYm9udXNUaW1lID0gbnVsbDtcbiAgICAgICAgICBzdGF0ZS50ZWFtcy5mb3JFYWNoKHQgPT4gdC5zY29yZSA9IDApO1xuICAgICAgICAgIHN0YXRlLmxhc3RHdWVzc2VkV29yZCA9IG51bGw7XG4gICAgICAgICAgc3RhdGUubGFzdFBhc3NlZFdvcmQgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBzdGFydFR1cm46ICgpID0+IHtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIHN0YXRlLmdhbWVTdGF0dXMgPSAncGxheWluZyc7XG4gICAgICAgICAgc3RhdGUudGltZUxlZnQgPSBzdGF0ZS5ib251c1RpbWUgPz8gc3RhdGUudHVybkR1cmF0aW9uO1xuICAgICAgICAgIHN0YXRlLmJvbnVzVGltZSA9IG51bGw7XG4gICAgICAgICAgc3RhdGUubGFzdEd1ZXNzZWRXb3JkID0gbnVsbDtcbiAgICAgICAgICBzdGF0ZS5sYXN0UGFzc2VkV29yZCA9IG51bGw7XG4gICAgICAgICAgc3RhdGUud29yZHNHdWVzc2VkVGhpc1R1cm4gPSBbXTtcbiAgICAgICAgICBzdGF0ZS50dXJuRW5kUmVhc29uID0gbnVsbDtcbiAgICAgICAgICBpZiAoc3RhdGUudW5zZWVuV29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudFdvcmQgPSBzdGF0ZS51bnNlZW5Xb3Jkcy5wb3AoKSE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRXb3JkID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGVuZFR1cm46ICgpID0+IHtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50V29yZCkge1xuICAgICAgICAgICAgY29uc3QgZXhwaXJlZFdvcmQgPSBzdGF0ZS5jdXJyZW50V29yZDtcbiAgICAgICAgICAgIGNvbnN0IGluc2VydEluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHN0YXRlLnVuc2VlbldvcmRzLmxlbmd0aCArIDEpKTtcbiAgICAgICAgICAgIHN0YXRlLnVuc2VlbldvcmRzLnNwbGljZShpbnNlcnRJbmRleCwgMCwgZXhwaXJlZFdvcmQpO1xuICAgICAgICAgICAgc3RhdGUuY3VycmVudFdvcmQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0ZS5nYW1lU3RhdHVzID0gJ3R1cm4tc3VtbWFyeSc7XG4gICAgICAgICAgc3RhdGUudHVybkVuZFJlYXNvbiA9ICd0aW1lLXVwJztcbiAgICAgICAgICBzdGF0ZS5sYXN0R3Vlc3NlZFdvcmQgPSBudWxsO1xuICAgICAgICAgIHN0YXRlLmxhc3RQYXNzZWRXb3JkID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcHJvY2VlZFRvTmV4dFR1cm46ICgpID0+IHtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgdGVhbXMsIHJvdW5kLCB1bnNlZW5Xb3Jkcywgd29yZHMsIGN1cnJlbnRUZWFtSW5kZXggfSA9IHN0YXRlO1xuICAgICAgICAgIGNvbnN0IG5leHRUZWFtSW5kZXggPSAoY3VycmVudFRlYW1JbmRleCArIDEpICUgdGVhbXMubGVuZ3RoO1xuICAgICAgICAgIHN0YXRlLmxhc3RHdWVzc2VkV29yZCA9IG51bGw7XG4gICAgICAgICAgc3RhdGUubGFzdFBhc3NlZFdvcmQgPSBudWxsO1xuICAgICAgICAgIGlmICh1bnNlZW5Xb3Jkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmIChyb3VuZCA9PT0gMykge1xuICAgICAgICAgICAgICBzdGF0ZS5nYW1lU3RhdHVzID0gJ2dhbWUtb3Zlcic7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGl0J3MgYSBib251cyB0dXJuLCB3ZSBzdGF5IHdpdGggdGhlIHNhbWUgdGVhbVxuICAgICAgICAgICAgaWYgKHN0YXRlLmJvbnVzVGltZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50VGVhbUluZGV4ID0gbmV4dFRlYW1JbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLnJvdW5kICs9IDE7XG4gICAgICAgICAgICBzdGF0ZS5ndWVzc2VkV29yZHNUaGlzUm91bmQgPSBbXTtcbiAgICAgICAgICAgIHN0YXRlLnVuc2VlbldvcmRzID0gWy4uLndvcmRzXS5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xuICAgICAgICAgICAgc3RhdGUuZ2FtZVN0YXR1cyA9ICdnZXQtcmVhZHknO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50VGVhbUluZGV4ID0gbmV4dFRlYW1JbmRleDtcbiAgICAgICAgICAgIHN0YXRlLmdhbWVTdGF0dXMgPSAnZ2V0LXJlYWR5JztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGhhbmRsZUNvcnJlY3Q6ICgpID0+IHtcbiAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50V29yZCkge1xuICAgICAgICAgICAgY29uc3QgdGVhbSA9IHN0YXRlLnRlYW1zW3N0YXRlLmN1cnJlbnRUZWFtSW5kZXhdO1xuICAgICAgICAgICAgdGVhbS5zY29yZSArPSBzdGF0ZS5jdXJyZW50V29yZC5kaWZmaWN1bHR5O1xuICAgICAgICAgICAgc3RhdGUud29yZHNHdWVzc2VkVGhpc1R1cm4ucHVzaChzdGF0ZS5jdXJyZW50V29yZCk7XG4gICAgICAgICAgICBzdGF0ZS5ndWVzc2VkV29yZHNUaGlzUm91bmQucHVzaChzdGF0ZS5jdXJyZW50V29yZCk7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0R3Vlc3NlZFdvcmQgPSBzdGF0ZS5jdXJyZW50V29yZDtcbiAgICAgICAgICAgIHN0YXRlLmxhc3RQYXNzZWRXb3JkID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0YXRlLnVuc2VlbldvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRXb3JkID0gc3RhdGUudW5zZWVuV29yZHMucG9wKCkhO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50V29yZCA9IG51bGw7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0R3Vlc3NlZFdvcmQgPSBudWxsO1xuICAgICAgICAgICAgc3RhdGUubGFzdFBhc3NlZFdvcmQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHN0YXRlLnRpbWVMZWZ0ID4gMyAmJiBzdGF0ZS5yb3VuZCA8IDMpIHtcbiAgICAgICAgICAgICAgc3RhdGUuYm9udXNUaW1lID0gc3RhdGUudGltZUxlZnQ7XG4gICAgICAgICAgICAgIHN0YXRlLmdhbWVTdGF0dXMgPSAndHVybi1zdW1tYXJ5JztcbiAgICAgICAgICAgICAgc3RhdGUudHVybkVuZFJlYXNvbiA9ICd3b3Jkcy1leGhhdXN0ZWQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RhdGUuZ2FtZVN0YXR1cyA9ICd0dXJuLXN1bW1hcnknO1xuICAgICAgICAgICAgICBzdGF0ZS50dXJuRW5kUmVhc29uID0gJ3dvcmRzLWV4aGF1c3RlZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBoYW5kbGVQYXNzOiAoKSA9PiB7XG4gICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudFdvcmQgJiYgc3RhdGUudW5zZWVuV29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcGFzc2VkV29yZCA9IHN0YXRlLmN1cnJlbnRXb3JkO1xuICAgICAgICAgICAgc3RhdGUubGFzdFBhc3NlZFdvcmQgPSBwYXNzZWRXb3JkO1xuICAgICAgICAgICAgc3RhdGUubGFzdEd1ZXNzZWRXb3JkID0gbnVsbDtcbiAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRXb3JkID0gc3RhdGUudW5zZWVuV29yZHMucG9wKCkhO1xuICAgICAgICAgICAgY29uc3QgaW5zZXJ0SW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmNlaWwoc3RhdGUudW5zZWVuV29yZHMubGVuZ3RoIC8gMikpO1xuICAgICAgICAgICAgc3RhdGUudW5zZWVuV29yZHMuc3BsaWNlKGluc2VydEluZGV4LCAwLCBwYXNzZWRXb3JkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHVuZG9MYXN0QWN0aW9uOiAoKSA9PiB7XG4gICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBpZiAoc3RhdGUubGFzdEd1ZXNzZWRXb3JkKSB7XG4gICAgICAgICAgICBjb25zdCB0ZWFtID0gc3RhdGUudGVhbXNbc3RhdGUuY3VycmVudFRlYW1JbmRleF07XG4gICAgICAgICAgICB0ZWFtLnNjb3JlIC09IHN0YXRlLmxhc3RHdWVzc2VkV29yZC5kaWZmaWN1bHR5O1xuICAgICAgICAgICAgc3RhdGUud29yZHNHdWVzc2VkVGhpc1R1cm4ucG9wKCk7XG4gICAgICAgICAgICBzdGF0ZS5ndWVzc2VkV29yZHNUaGlzUm91bmQgPSBzdGF0ZS5ndWVzc2VkV29yZHNUaGlzUm91bmQuZmlsdGVyKFxuICAgICAgICAgICAgICAod29yZCkgPT4gd29yZC50ZXJtICE9PSBzdGF0ZS5sYXN0R3Vlc3NlZFdvcmQhLnRlcm1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudFdvcmQpIHtcbiAgICAgICAgICAgICAgc3RhdGUudW5zZWVuV29yZHMucHVzaChzdGF0ZS5jdXJyZW50V29yZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50V29yZCA9IHN0YXRlLmxhc3RHdWVzc2VkV29yZDtcbiAgICAgICAgICAgIHN0YXRlLmxhc3RHdWVzc2VkV29yZCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sYXN0UGFzc2VkV29yZCkge1xuICAgICAgICAgICAgY29uc3Qgd29yZFRvUmVzdG9yZUFzQ3VycmVudCA9IHN0YXRlLmxhc3RQYXNzZWRXb3JkO1xuICAgICAgICAgICAgY29uc3Qgd29yZFRvUmV0dXJuVG9EZWNrID0gc3RhdGUuY3VycmVudFdvcmQ7XG4gICAgICAgICAgICBzdGF0ZS51bnNlZW5Xb3JkcyA9IHN0YXRlLnVuc2VlbldvcmRzLmZpbHRlcihcbiAgICAgICAgICAgICAgKHdvcmQpID0+IHdvcmQudGVybSAhPT0gd29yZFRvUmVzdG9yZUFzQ3VycmVudC50ZXJtXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHdvcmRUb1JldHVyblRvRGVjaykge1xuICAgICAgICAgICAgICBzdGF0ZS51bnNlZW5Xb3Jkcy5wdXNoKHdvcmRUb1JldHVyblRvRGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50V29yZCA9IHdvcmRUb1Jlc3RvcmVBc0N1cnJlbnQ7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UGFzc2VkV29yZCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB0aWNrOiAoKSA9PiB7XG4gICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBpZiAoc3RhdGUuZ2FtZVN0YXR1cyA9PT0gJ3BsYXlpbmcnKSB7XG4gICAgICAgICAgICBzdGF0ZS50aW1lTGVmdCAtPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcmVzZXRTZXR1cDogKCkgPT4ge1xuICAgICAgICBzZXQoe1xuICAgICAgICAgIHRlYW1zOiBbXSxcbiAgICAgICAgICBzZWxlY3RlZERlY2s6IG51bGwsXG4gICAgICAgICAgY3VzdG9tRGVjazogbnVsbCxcbiAgICAgICAgICBnYW1lU3RhdHVzOiAnc2V0dXAnLFxuICAgICAgICAgIHNldHVwU3RlcDogJ3RlYW1zJyxcbiAgICAgICAgICBzZWxlY3RlZFdvcmRDb3VudDogbnVsbCxcbiAgICAgICAgICB0dXJuRHVyYXRpb246IERFRkFVTFRfVFVSTl9EVVJBVElPTixcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcmVzZXRHYW1lOiAoKSA9PiB7XG4gICAgICAgIHNldCh7XG4gICAgICAgICAgdGVhbXM6IFtdLFxuICAgICAgICAgIHNlbGVjdGVkRGVjazogbnVsbCxcbiAgICAgICAgICBjdXN0b21EZWNrOiBudWxsLFxuICAgICAgICAgIGdhbWVTdGF0dXM6ICdzZXR1cCcsXG4gICAgICAgICAgc2V0dXBTdGVwOiAndGVhbXMnLFxuICAgICAgICAgIHJvdW5kOiAxLFxuICAgICAgICAgIGN1cnJlbnRUZWFtSW5kZXg6IDAsXG4gICAgICAgICAgd29yZHM6IFtdLFxuICAgICAgICAgIHVuc2VlbldvcmRzOiBbXSxcbiAgICAgICAgICBndWVzc2VkV29yZHNUaGlzUm91bmQ6IFtdLFxuICAgICAgICAgIGN1cnJlbnRXb3JkOiBudWxsLFxuICAgICAgICAgIGxhc3RHdWVzc2VkV29yZDogbnVsbCxcbiAgICAgICAgICBsYXN0UGFzc2VkV29yZDogbnVsbCxcbiAgICAgICAgICB3b3Jkc0d1ZXNzZWRUaGlzVHVybjogW10sXG4gICAgICAgICAgdGltZUxlZnQ6IERFRkFVTFRfVFVSTl9EVVJBVElPTixcbiAgICAgICAgICB0dXJuRW5kUmVhc29uOiBudWxsLFxuICAgICAgICAgIGJvbnVzVGltZTogbnVsbCxcbiAgICAgICAgICBzZWxlY3RlZFdvcmRDb3VudDogbnVsbCxcbiAgICAgICAgICB0dXJuRHVyYXRpb246IERFRkFVTFRfVFVSTl9EVVJBVElPTixcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pKSxcbiAgICB7XG4gICAgICBuYW1lOiAneWF5Z2FyYS1zdG9yYWdlJyxcbiAgICAgIHN0b3JhZ2U6IGNyZWF0ZUpTT05TdG9yYWdlKCgpID0+IGxvY2FsU3RvcmFnZSksXG4gICAgfVxuICApXG4pOyIsImNvbnN0IGlzSXRlcmFibGUgPSAob2JqKSA9PiBTeW1ib2wuaXRlcmF0b3IgaW4gb2JqO1xuY29uc3QgaGFzSXRlcmFibGVFbnRyaWVzID0gKHZhbHVlKSA9PiAoXG4gIC8vIEhBQ0s6IGF2b2lkIGNoZWNraW5nIGVudHJpZXMgdHlwZVxuICBcImVudHJpZXNcIiBpbiB2YWx1ZVxuKTtcbmNvbnN0IGNvbXBhcmVFbnRyaWVzID0gKHZhbHVlQSwgdmFsdWVCKSA9PiB7XG4gIGNvbnN0IG1hcEEgPSB2YWx1ZUEgaW5zdGFuY2VvZiBNYXAgPyB2YWx1ZUEgOiBuZXcgTWFwKHZhbHVlQS5lbnRyaWVzKCkpO1xuICBjb25zdCBtYXBCID0gdmFsdWVCIGluc3RhbmNlb2YgTWFwID8gdmFsdWVCIDogbmV3IE1hcCh2YWx1ZUIuZW50cmllcygpKTtcbiAgaWYgKG1hcEEuc2l6ZSAhPT0gbWFwQi5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIG1hcEEpIHtcbiAgICBpZiAoIW1hcEIuaGFzKGtleSkgfHwgIU9iamVjdC5pcyh2YWx1ZSwgbWFwQi5nZXQoa2V5KSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuY29uc3QgY29tcGFyZUl0ZXJhYmxlcyA9ICh2YWx1ZUEsIHZhbHVlQikgPT4ge1xuICBjb25zdCBpdGVyYXRvckEgPSB2YWx1ZUFbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICBjb25zdCBpdGVyYXRvckIgPSB2YWx1ZUJbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICBsZXQgbmV4dEEgPSBpdGVyYXRvckEubmV4dCgpO1xuICBsZXQgbmV4dEIgPSBpdGVyYXRvckIubmV4dCgpO1xuICB3aGlsZSAoIW5leHRBLmRvbmUgJiYgIW5leHRCLmRvbmUpIHtcbiAgICBpZiAoIU9iamVjdC5pcyhuZXh0QS52YWx1ZSwgbmV4dEIudmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG5leHRBID0gaXRlcmF0b3JBLm5leHQoKTtcbiAgICBuZXh0QiA9IGl0ZXJhdG9yQi5uZXh0KCk7XG4gIH1cbiAgcmV0dXJuICEhbmV4dEEuZG9uZSAmJiAhIW5leHRCLmRvbmU7XG59O1xuZnVuY3Rpb24gc2hhbGxvdyh2YWx1ZUEsIHZhbHVlQikge1xuICBpZiAoT2JqZWN0LmlzKHZhbHVlQSwgdmFsdWVCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWVBICE9PSBcIm9iamVjdFwiIHx8IHZhbHVlQSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWVCICE9PSBcIm9iamVjdFwiIHx8IHZhbHVlQiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlQSkgIT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZUIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChpc0l0ZXJhYmxlKHZhbHVlQSkgJiYgaXNJdGVyYWJsZSh2YWx1ZUIpKSB7XG4gICAgaWYgKGhhc0l0ZXJhYmxlRW50cmllcyh2YWx1ZUEpICYmIGhhc0l0ZXJhYmxlRW50cmllcyh2YWx1ZUIpKSB7XG4gICAgICByZXR1cm4gY29tcGFyZUVudHJpZXModmFsdWVBLCB2YWx1ZUIpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGFyZUl0ZXJhYmxlcyh2YWx1ZUEsIHZhbHVlQik7XG4gIH1cbiAgcmV0dXJuIGNvbXBhcmVFbnRyaWVzKFxuICAgIHsgZW50cmllczogKCkgPT4gT2JqZWN0LmVudHJpZXModmFsdWVBKSB9LFxuICAgIHsgZW50cmllczogKCkgPT4gT2JqZWN0LmVudHJpZXModmFsdWVCKSB9XG4gICk7XG59XG5cbmV4cG9ydCB7IHNoYWxsb3cgfTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzaGFsbG93IH0gZnJvbSAnenVzdGFuZC92YW5pbGxhL3NoYWxsb3cnO1xuXG5mdW5jdGlvbiB1c2VTaGFsbG93KHNlbGVjdG9yKSB7XG4gIGNvbnN0IHByZXYgPSBSZWFjdC51c2VSZWYodm9pZCAwKTtcbiAgcmV0dXJuIChzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IG5leHQgPSBzZWxlY3RvcihzdGF0ZSk7XG4gICAgcmV0dXJuIHNoYWxsb3cocHJldi5jdXJyZW50LCBuZXh0KSA/IHByZXYuY3VycmVudCA6IHByZXYuY3VycmVudCA9IG5leHQ7XG4gIH07XG59XG5cbmV4cG9ydCB7IHVzZVNoYWxsb3cgfTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VQYXJhbXMsIHVzZU5hdmlnYXRlLCB1c2VMb2NhdGlvbiB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgdXNlR2FtZVN0b3JlLCBMYW5ndWFnZSB9IGZyb20gJ0Avc3RvcmVzL3VzZUdhbWVTdG9yZSc7XG5pbXBvcnQgeyB1c2VTaGFsbG93IH0gZnJvbSAnenVzdGFuZC9yZWFjdC9zaGFsbG93JztcblxuY29uc3QgU1VQUE9SVEVEX0xBTkdVQUdFUzogTGFuZ3VhZ2VbXSA9IFsnZW4nLCAndHInXTtcbmNvbnN0IERFRkFVTFRfTEFOR1VBR0U6IExhbmd1YWdlID0gJ2VuJztcblxuZXhwb3J0IGNvbnN0IExhbmd1YWdlV3JhcHBlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICAgIGNvbnN0IHsgbGFuZyB9ID0gdXNlUGFyYW1zPHsgbGFuZzogc3RyaW5nIH0+KCk7XG4gICAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICAgIGNvbnN0IHsgcGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gICAgY29uc3QgeyBsYW5ndWFnZSwgc2V0TGFuZ3VhZ2UgfSA9IHVzZUdhbWVTdG9yZShcbiAgICAgICAgdXNlU2hhbGxvdygoc3RhdGUpID0+ICh7XG4gICAgICAgICAgICBsYW5ndWFnZTogc3RhdGUubGFuZ3VhZ2UsXG4gICAgICAgICAgICBzZXRMYW5ndWFnZTogc3RhdGUuc2V0TGFuZ3VhZ2UsXG4gICAgICAgIH0pKVxuICAgICk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50TGFuZyA9IGxhbmcgYXMgTGFuZ3VhZ2U7XG5cbiAgICAgICAgaWYgKCFjdXJyZW50TGFuZyB8fCAhU1VQUE9SVEVEX0xBTkdVQUdFUy5pbmNsdWRlcyhjdXJyZW50TGFuZykpIHtcbiAgICAgICAgICAgIC8vIElmIG5vIGxhbmcgb3IgdW5zdXBwb3J0ZWQgbGFuZywgcmVkaXJlY3QgdG8gZGVmYXVsdCBvciBkZXRlY3RlZCBsYW5nXG4gICAgICAgICAgICAvLyBGb3Igbm93LCBsZXQncyBqdXN0IGhhbmRsZSB0aGlzIGluIHRoZSByb290IHJlZGlyZWN0b3IsIFxuICAgICAgICAgICAgLy8gYnV0IGFzIGEgZmFsbGJhY2ssIHdlIGNhbiByZWRpcmVjdCB0byAvZW5cbiAgICAgICAgICAgIGlmICghY3VycmVudExhbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47IC8vIExldCB0aGUgcm9vdCByZWRpcmVjdG9yIGhhbmRsZSBpdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmF2aWdhdGUoYC8ke0RFRkFVTFRfTEFOR1VBR0V9YCwgeyByZXBsYWNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRMYW5nICE9PSBsYW5ndWFnZSkge1xuICAgICAgICAgICAgc2V0TGFuZ3VhZ2UoY3VycmVudExhbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIEhUTUwgbGFuZyBhbmQgZGlyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nID0gY3VycmVudExhbmc7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kaXIgPSAnbHRyJztcblxuICAgICAgICAvLyBVcGRhdGUgU0VPIFRhZ3NcbiAgICAgICAgdXBkYXRlU0VPVGFncyhjdXJyZW50TGFuZywgcGF0aG5hbWUpO1xuICAgIH0sIFtsYW5nLCBsYW5ndWFnZSwgc2V0TGFuZ3VhZ2UsIG5hdmlnYXRlLCBwYXRobmFtZV0pO1xuXG4gICAgcmV0dXJuIDw+e2NoaWxkcmVufTwvPjtcbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZVNFT1RhZ3MobGFuZzogTGFuZ3VhZ2UsIHBhdGhuYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBiYXNlVXJsID0gJ2h0dHBzOi8veWF5Z2FyYS5tZXJ0c2thcGxhbi5jb20nO1xuICAgIGNvbnN0IGxhbmd1YWdlczogTGFuZ3VhZ2VbXSA9IFsnZW4nLCAndHInXTtcblxuICAgIC8vIFJlbW92ZSBleGlzdGluZyBDYW5vbmljYWwgYW5kIEhyZWZsYW5nIHRhZ3MgdG8gYXZvaWQgZHVwbGljYXRlc1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmtbcmVsPVwiY2Fub25pY2FsXCJdJykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbGlua1tyZWw9XCJhbHRlcm5hdGVcIl1baHJlZmxhbmddJykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgICAvLyBDYW5vbmljYWxcbiAgICBjb25zdCBjYW5vbmljYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgY2Fub25pY2FsLnNldEF0dHJpYnV0ZSgncmVsJywgJ2Nhbm9uaWNhbCcpO1xuICAgIGNhbm9uaWNhbC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgJHtiYXNlVXJsfSR7cGF0aG5hbWV9YCk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjYW5vbmljYWwpO1xuXG4gICAgLy8gVXBkYXRlIE1ldGEgRGVzY3JpcHRpb24gYW5kIE9HIHRhZ3NcbiAgICBjb25zdCBkZXNjcmlwdGlvbnM6IFJlY29yZDxMYW5ndWFnZSwgc3RyaW5nPiA9IHtcbiAgICAgICAgZW46ICdGdW4gcGFydHkgZ2FtZSBiYXNlZCBvbiBuYXJyYXRpb24gYW5kIGd1ZXNzaW5nJyxcbiAgICAgICAgdHI6ICdBbmxhdG1hIHZlIHRhaG1pbmUgZGF5YWzEsSBlxJ9sZW5jZWxpIHBhcnRpIG95dW51J1xuICAgIH07XG5cbiAgICBjb25zdCBvZ1RpdGxlczogUmVjb3JkPExhbmd1YWdlLCBzdHJpbmc+ID0ge1xuICAgICAgICBlbjogJ1lheWdhcmE6IEZ1biBwYXJ0eSBnYW1lIGJhc2VkIG9uIG5hcnJhdGlvbiBhbmQgZ3Vlc3NpbmcnLFxuICAgICAgICB0cjogJ1lheWdhcmE6IEFubGF0bWEgdmUgdGFobWluZSBkYXlhbMSxIGXEn2xlbmNlbGkgcGFydGkgb3l1bnUnXG4gICAgfTtcblxuICAgIGNvbnN0IHRpdGxlczogUmVjb3JkPExhbmd1YWdlLCBzdHJpbmc+ID0ge1xuICAgICAgICBlbjogJ1lheWdhcmEgfCBGdW4gcGFydHkgZ2FtZSBiYXNlZCBvbiBuYXJyYXRpb24gYW5kIGd1ZXNzaW5nJyxcbiAgICAgICAgdHI6ICdZYXlnYXJhIHwgQW5sYXRtYSB2ZSB0YWhtaW5lIGRheWFsxLEgZcSfbGVuY2VsaSBwYXJ0aSBveXVudSdcbiAgICB9O1xuXG4gICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZXNbbGFuZ107XG5cbiAgICBsZXQgbWV0YURlc2MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJkZXNjcmlwdGlvblwiXScpO1xuICAgIGlmIChtZXRhRGVzYykgbWV0YURlc2Muc2V0QXR0cmlidXRlKCdjb250ZW50JywgZGVzY3JpcHRpb25zW2xhbmddKTtcblxuICAgIGxldCBvZ1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtwcm9wZXJ0eT1cIm9nOnRpdGxlXCJdJyk7XG4gICAgaWYgKG9nVGl0bGUpIG9nVGl0bGUuc2V0QXR0cmlidXRlKCdjb250ZW50Jywgb2dUaXRsZXNbbGFuZ10pO1xuXG4gICAgbGV0IG9nRGVzYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbcHJvcGVydHk9XCJvZzpkZXNjcmlwdGlvblwiXScpO1xuICAgIGlmIChvZ0Rlc2MpIG9nRGVzYy5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnLCBkZXNjcmlwdGlvbnNbbGFuZ10pO1xuXG4gICAgLy8gSHJlZmxhbmcgVGFncyAoZW4sIHRyKVxuICAgIGxhbmd1YWdlcy5mb3JFYWNoKGwgPT4ge1xuICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgncmVsJywgJ2FsdGVybmF0ZScpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZmxhbmcnLCBsKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGF0aCA9IGdldExvY2FsaXplZFBhdGgocGF0aG5hbWUsIGwpO1xuICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIGAke2Jhc2VVcmx9JHt0YXJnZXRQYXRofWApO1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH0pO1xuXG4gICAgLy8geC1kZWZhdWx0XG4gICAgY29uc3QgeERlZmF1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgeERlZmF1bHQuc2V0QXR0cmlidXRlKCdyZWwnLCAnYWx0ZXJuYXRlJyk7XG4gICAgeERlZmF1bHQuc2V0QXR0cmlidXRlKCdocmVmbGFuZycsICd4LWRlZmF1bHQnKTtcbiAgICB4RGVmYXVsdC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBgJHtiYXNlVXJsfSR7Z2V0TG9jYWxpemVkUGF0aChwYXRobmFtZSwgJ2VuJyl9YCk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh4RGVmYXVsdCk7XG59XG5cbi8vIE1hcCBvZiBzbHVncyBmb3IgcGF0aCB0cmFuc2xhdGlvblxuY29uc3QgU0xVR19NQVA6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxMYW5ndWFnZSwgc3RyaW5nPj4gPSB7XG4gICAgJ3NldHVwJzogeyBlbjogJ3NldHVwJywgdHI6ICdrdXJ1bHVtJyB9LFxuICAgICdrdXJ1bHVtJzogeyBlbjogJ3NldHVwJywgdHI6ICdrdXJ1bHVtJyB9LFxuICAgICdwbGF5JzogeyBlbjogJ3BsYXknLCB0cjogJ295dW4nIH0sXG4gICAgJ295dW4nOiB7IGVuOiAncGxheScsIHRyOiAnb3l1bicgfSxcbiAgICAnc2NvcmUnOiB7IGVuOiAnc2NvcmUnLCB0cjogJ3Nrb3InIH0sXG4gICAgJ3Nrb3InOiB7IGVuOiAnc2NvcmUnLCB0cjogJ3Nrb3InIH0sXG59O1xuXG5mdW5jdGlvbiBnZXRMb2NhbGl6ZWRQYXRoKHBhdGhuYW1lOiBzdHJpbmcsIHRhcmdldExhbmc6IExhbmd1YWdlKTogc3RyaW5nIHtcbiAgICBjb25zdCBwYXJ0cyA9IHBhdGhuYW1lLnNwbGl0KCcvJykuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDApIHJldHVybiBgLyR7dGFyZ2V0TGFuZ31gO1xuXG4gICAgLy8gcGFydHNbMF0gaXMgdGhlIGN1cnJlbnQgbGFuZ1xuICAgIGNvbnN0IHJlbWFpbmluZ1BhcnRzID0gcGFydHMuc2xpY2UoMSk7XG4gICAgY29uc3QgbG9jYWxpemVkUGFydHMgPSByZW1haW5pbmdQYXJ0cy5tYXAocGFydCA9PiB7XG4gICAgICAgIGNvbnN0IG1hcHBpbmcgPSBTTFVHX01BUFtwYXJ0XTtcbiAgICAgICAgcmV0dXJuIG1hcHBpbmcgPyBtYXBwaW5nW3RhcmdldExhbmddIDogcGFydDtcbiAgICB9KTtcblxuICAgIHJldHVybiBgLyR7dGFyZ2V0TGFuZ30ke2xvY2FsaXplZFBhcnRzLmxlbmd0aCA+IDAgPyAnLycgKyBsb2NhbGl6ZWRQYXJ0cy5qb2luKCcvJykgOiAnJ31gO1xufVxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyB1c2VHYW1lU3RvcmUsIExhbmd1YWdlIH0gZnJvbSAnQC9zdG9yZXMvdXNlR2FtZVN0b3JlJztcblxuZXhwb3J0IGNvbnN0IFJvb3RSZWRpcmVjdG9yOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gICAgY29uc3QgbGFuZ3VhZ2UgPSB1c2VHYW1lU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5sYW5ndWFnZSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBicm93c2VyTGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZS5zcGxpdCgnLScpWzBdO1xuICAgICAgICBjb25zdCB0YXJnZXRMYW5nOiBMYW5ndWFnZSA9IGJyb3dzZXJMYW5nID09PSAndHInID8gJ3RyJyA6ICdlbic7XG4gICAgICAgIG5hdmlnYXRlKGAvJHt0YXJnZXRMYW5nfWAsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICB9LCBbbmF2aWdhdGVdKTtcblxuICAgIHJldHVybiBudWxsO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VHYW1lU3RvcmUgfSBmcm9tICdAL3N0b3Jlcy91c2VHYW1lU3RvcmUnO1xuXG5leHBvcnQgY29uc3QgVGhlbWVNYW5hZ2VyOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VHYW1lU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS50aGVtZSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCByb290ID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgaWYgKHRoZW1lID09PSAnZGFyaycpIHtcbiAgICAgICAgICAgIHJvb3QuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcm9vdC5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrJyk7XG4gICAgICAgIH1cbiAgICB9LCBbdGhlbWVdKTtcblxuICAgIC8vIEhhbmRsZSBzeXN0ZW0gcHJlZmVyZW5jZSBjaGFuZ2VzIGlmIHdlIHdhbnQgdG8gc3luY1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpO1xuICAgICAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoZTogTWVkaWFRdWVyeUxpc3RFdmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gT25seSBzeW5jIGlmIHVzZXIgaGFzbid0IG1hbnVhbGx5IHNldCBhIHByZWZlcmVuY2U/XG4gICAgICAgICAgICAvLyBGb3Igbm93LCB3ZSBwcmlvcml0aXplIHRoZSBzdG9yZSAod2hpY2ggcGVyc2lzdHMpLlxuICAgICAgICB9O1xuICAgICAgICBtZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZUNoYW5nZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBtZWRpYVF1ZXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZUNoYW5nZSk7XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIDw+e2NoaWxkcmVufTwvPjtcbn07XG4iLCJleHBvcnQgY29uc3QgdHJhbnNsYXRpb25zQ2FjaGU6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbmNvbnN0IFNVUFBPUlRFRF9MQU5HVUFHRVMgPSBbJ2VuJywgJ3RyJ107XG5jb25zdCBwZW5kaW5nRmV0Y2hlczogUmVjb3JkPHN0cmluZywgUHJvbWlzZTxhbnk+PiA9IHt9O1xuZXhwb3J0IGNvbnN0IGZldGNoVHJhbnNsYXRpb25zID0gYXN5bmMgKGxhbmc6IHN0cmluZykgPT4ge1xuICBpZiAodHJhbnNsYXRpb25zQ2FjaGVbbGFuZ10pIHtcbiAgICByZXR1cm4gdHJhbnNsYXRpb25zQ2FjaGVbbGFuZ107XG4gIH1cbiAgaWYgKHBlbmRpbmdGZXRjaGVzW2xhbmddKSB7XG4gICAgcmV0dXJuIHBlbmRpbmdGZXRjaGVzW2xhbmddO1xuICB9XG4gIGNvbnN0IGZldGNoUHJvbWlzZSA9IGZldGNoKGAvbG9jYWxlcy8ke2xhbmd9Lmpzb25gKVxuICAgIC50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCAke2xhbmd9Lmpzb25gKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICB0cmFuc2xhdGlvbnNDYWNoZVtsYW5nXSA9IGRhdGE7XG4gICAgICBkZWxldGUgcGVuZGluZ0ZldGNoZXNbbGFuZ107XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBsb2FkIHRyYW5zbGF0aW9ucyBmb3IgbGFuZ3VhZ2U6ICR7bGFuZ31gLCBlcnJvcik7XG4gICAgICBkZWxldGUgcGVuZGluZ0ZldGNoZXNbbGFuZ107XG4gICAgICAvLyBGYWxsYmFjayB0byBFbmdsaXNoIGlmIHRoZSBzZWxlY3RlZCBsYW5ndWFnZSBmYWlsc1xuICAgICAgaWYgKGxhbmcgIT09ICdlbicpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoVHJhbnNsYXRpb25zKCdlbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9OyAvLyBSZXR1cm4gZW1wdHkgb2JqZWN0IGlmIEVuZ2xpc2ggYWxzbyBmYWlsc1xuICAgIH0pO1xuICBwZW5kaW5nRmV0Y2hlc1tsYW5nXSA9IGZldGNoUHJvbWlzZTtcbiAgcmV0dXJuIGZldGNoUHJvbWlzZTtcbn07XG5sZXQgcHJlbG9hZFByb21pc2U6IFByb21pc2U8YW55W10+IHwgbnVsbCA9IG51bGw7XG5leHBvcnQgY29uc3QgcHJlbG9hZFRyYW5zbGF0aW9ucyA9ICgpID0+IHtcbiAgaWYgKCFwcmVsb2FkUHJvbWlzZSkge1xuICAgIGNvbnNvbGUubG9nKCdQcmVsb2FkaW5nIGFsbCB0cmFuc2xhdGlvbnMuLi4nKTtcbiAgICBwcmVsb2FkUHJvbWlzZSA9IFByb21pc2UuYWxsKFNVUFBPUlRFRF9MQU5HVUFHRVMubWFwKGxhbmcgPT4gZmV0Y2hUcmFuc2xhdGlvbnMobGFuZykpKTtcbiAgfVxuICByZXR1cm4gcHJlbG9hZFByb21pc2U7XG59OyIsImltcG9ydCB7IGVuYWJsZU1hcFNldCB9IGZyb20gXCJpbW1lclwiO1xuZW5hYmxlTWFwU2V0KCk7XG5pbXBvcnQgeyBTdHJpY3RNb2RlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjcmVhdGVSb290IH0gZnJvbSAncmVhY3QtZG9tL2NsaWVudCdcbmltcG9ydCB7XG4gIGNyZWF0ZUJyb3dzZXJSb3V0ZXIsXG4gIFJvdXRlclByb3ZpZGVyLFxufSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgRXJyb3JCb3VuZGFyeSB9IGZyb20gJ0AvY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5JztcbmltcG9ydCB7IFJvdXRlRXJyb3JCb3VuZGFyeSB9IGZyb20gJ0AvY29tcG9uZW50cy9Sb3V0ZUVycm9yQm91bmRhcnknO1xuaW1wb3J0ICdAL2luZGV4LmNzcydcbmltcG9ydCB7IExhbmd1YWdlV3JhcHBlciB9IGZyb20gJ0AvY29tcG9uZW50cy9MYW5ndWFnZVdyYXBwZXInO1xuaW1wb3J0IHsgUm9vdFJlZGlyZWN0b3IgfSBmcm9tICdAL2NvbXBvbmVudHMvUm9vdFJlZGlyZWN0b3InO1xuaW1wb3J0IHsgVGhlbWVNYW5hZ2VyIH0gZnJvbSAnQC9jb21wb25lbnRzL1RoZW1lTWFuYWdlcic7XG5pbXBvcnQgeyBwcmVsb2FkVHJhbnNsYXRpb25zIH0gZnJvbSAnQC9saWIvaTE4bic7XG5pbXBvcnQgeyBTdXNwZW5zZSwgbGF6eSB9IGZyb20gJ3JlYWN0JztcblxuLy8gUHJlbG9hZCBhbGwgbGFuZ3VhZ2UgZmlsZXMgb24gYXBwIHN0YXJ0dXAgZm9yIGluc3RhbnQgbGFuZ3VhZ2Ugc3dpdGNoaW5nXG5wcmVsb2FkVHJhbnNsYXRpb25zKCk7XG5cbmNvbnN0IEhvbWVQYWdlID0gbGF6eSgoKSA9PiBpbXBvcnQoJ0AvcGFnZXMvSG9tZVBhZ2UnKS50aGVuKG0gPT4gKHsgZGVmYXVsdDogbS5Ib21lUGFnZSB9KSkpO1xuY29uc3QgU2V0dXBQYWdlID0gbGF6eSgoKSA9PiBpbXBvcnQoJ0AvcGFnZXMvU2V0dXBQYWdlJykudGhlbihtID0+ICh7IGRlZmF1bHQ6IG0uU2V0dXBQYWdlIH0pKSk7XG5jb25zdCBHYW1lUGFnZSA9IGxhenkoKCkgPT4gaW1wb3J0KCdAL3BhZ2VzL0dhbWVQYWdlJykudGhlbihtID0+ICh7IGRlZmF1bHQ6IG0uR2FtZVBhZ2UgfSkpKTtcbmNvbnN0IFNjb3JlYm9hcmRQYWdlID0gbGF6eSgoKSA9PiBpbXBvcnQoJ0AvcGFnZXMvU2NvcmVib2FyZFBhZ2UnKS50aGVuKG0gPT4gKHsgZGVmYXVsdDogbS5TY29yZWJvYXJkUGFnZSB9KSkpO1xuXG5jb25zdCBMb2FkaW5nUGFnZSA9ICgpID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLXNjcmVlbi1kdmggYmctdHJhbnNwYXJlbnRcIj5cbiAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiBib3JkZXItNCBib3JkZXItc2t5LTUwMCBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgLz5cbiAgPC9kaXY+XG4pO1xuXG5jb25zdCBTdXNwZW5zZUxheW91dCA9ICh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSA9PiAoXG4gIDxTdXNwZW5zZSBmYWxsYmFjaz17PExvYWRpbmdQYWdlIC8+fT5cbiAgICB7Y2hpbGRyZW59XG4gIDwvU3VzcGVuc2U+XG4pO1xuXG5jb25zdCByb3V0ZXIgPSBjcmVhdGVCcm93c2VyUm91dGVyKFtcbiAge1xuICAgIHBhdGg6IFwiL1wiLFxuICAgIGVsZW1lbnQ6IDxSb290UmVkaXJlY3RvciAvPixcbiAgICBlcnJvckVsZW1lbnQ6IDxSb3V0ZUVycm9yQm91bmRhcnkgLz4sXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi86bGFuZ1wiLFxuICAgIGVsZW1lbnQ6IDxTdXNwZW5zZUxheW91dD48TGFuZ3VhZ2VXcmFwcGVyPjxIb21lUGFnZSAvPjwvTGFuZ3VhZ2VXcmFwcGVyPjwvU3VzcGVuc2VMYXlvdXQ+LFxuICAgIGVycm9yRWxlbWVudDogPFJvdXRlRXJyb3JCb3VuZGFyeSAvPixcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiLzpsYW5nL3NldHVwXCIsXG4gICAgZWxlbWVudDogPFN1c3BlbnNlTGF5b3V0PjxMYW5ndWFnZVdyYXBwZXI+PFNldHVwUGFnZSAvPjwvTGFuZ3VhZ2VXcmFwcGVyPjwvU3VzcGVuc2VMYXlvdXQ+LFxuICAgIGVycm9yRWxlbWVudDogPFJvdXRlRXJyb3JCb3VuZGFyeSAvPixcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiLzpsYW5nL2t1cnVsdW1cIixcbiAgICBlbGVtZW50OiA8U3VzcGVuc2VMYXlvdXQ+PExhbmd1YWdlV3JhcHBlcj48U2V0dXBQYWdlIC8+PC9MYW5ndWFnZVdyYXBwZXI+PC9TdXNwZW5zZUxheW91dD4sXG4gICAgZXJyb3JFbGVtZW50OiA8Um91dGVFcnJvckJvdW5kYXJ5IC8+LFxuICB9LFxuICB7XG4gICAgcGF0aDogXCIvOmxhbmcvcGxheVwiLFxuICAgIGVsZW1lbnQ6IDxTdXNwZW5zZUxheW91dD48TGFuZ3VhZ2VXcmFwcGVyPjxHYW1lUGFnZSAvPjwvTGFuZ3VhZ2VXcmFwcGVyPjwvU3VzcGVuc2VMYXlvdXQ+LFxuICAgIGVycm9yRWxlbWVudDogPFJvdXRlRXJyb3JCb3VuZGFyeSAvPixcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiLzpsYW5nL295dW5cIixcbiAgICBlbGVtZW50OiA8U3VzcGVuc2VMYXlvdXQ+PExhbmd1YWdlV3JhcHBlcj48R2FtZVBhZ2UgLz48L0xhbmd1YWdlV3JhcHBlcj48L1N1c3BlbnNlTGF5b3V0PixcbiAgICBlcnJvckVsZW1lbnQ6IDxSb3V0ZUVycm9yQm91bmRhcnkgLz4sXG4gIH0sXG4gIHtcbiAgICBwYXRoOiBcIi86bGFuZy9zY29yZVwiLFxuICAgIGVsZW1lbnQ6IDxTdXNwZW5zZUxheW91dD48TGFuZ3VhZ2VXcmFwcGVyPjxTY29yZWJvYXJkUGFnZSAvPjwvTGFuZ3VhZ2VXcmFwcGVyPjwvU3VzcGVuc2VMYXlvdXQ+LFxuICAgIGVycm9yRWxlbWVudDogPFJvdXRlRXJyb3JCb3VuZGFyeSAvPixcbiAgfSxcbiAge1xuICAgIHBhdGg6IFwiLzpsYW5nL3Nrb3JcIixcbiAgICBlbGVtZW50OiA8U3VzcGVuc2VMYXlvdXQ+PExhbmd1YWdlV3JhcHBlcj48U2NvcmVib2FyZFBhZ2UgLz48L0xhbmd1YWdlV3JhcHBlcj48L1N1c3BlbnNlTGF5b3V0PixcbiAgICBlcnJvckVsZW1lbnQ6IDxSb3V0ZUVycm9yQm91bmRhcnkgLz4sXG4gIH0sXG5dLCB7XG4gIGZ1dHVyZToge1xuICAgIHY3X3N0YXJ0VHJhbnNpdGlvbjogdHJ1ZSxcbiAgICB2N19yZWxhdGl2ZVNwbGF0UGF0aDogdHJ1ZSxcbiAgfSxcbn0pO1xuaW1wb3J0IHsgTGF6eU1vdGlvbiwgZG9tQW5pbWF0aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5cbi8vIERvIG5vdCB0b3VjaCB0aGlzIGNvZGVcbmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKSEpLnJlbmRlcihcbiAgPFN0cmljdE1vZGU+XG4gICAgPEVycm9yQm91bmRhcnk+XG4gICAgICA8VGhlbWVNYW5hZ2VyPlxuICAgICAgICA8TGF6eU1vdGlvbiBmZWF0dXJlcz17ZG9tQW5pbWF0aW9ufT5cbiAgICAgICAgICA8Um91dGVyUHJvdmlkZXJcbiAgICAgICAgICAgIHJvdXRlcj17cm91dGVyfVxuICAgICAgICAgICAgZnV0dXJlPXt7XG4gICAgICAgICAgICAgIHY3X3N0YXJ0VHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9MYXp5TW90aW9uPlxuICAgICAgPC9UaGVtZU1hbmFnZXI+XG4gICAgPC9FcnJvckJvdW5kYXJ5PlxuICA8L1N0cmljdE1vZGU+LFxuKVxuaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IgJiYgaW1wb3J0Lm1ldGEuZW52LlBST0QpIHtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy9zZXJ2aWNlLXdvcmtlci5qcycpLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdTVyByZWdpc3RlcmVkOiAnLCByZWdpc3RyYXRpb24pO1xuICAgIH0pLmNhdGNoKHJlZ2lzdHJhdGlvbkVycm9yID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdTVyByZWdpc3RyYXRpb24gZmFpbGVkOiAnLCByZWdpc3RyYXRpb25FcnJvcik7XG4gICAgfSk7XG4gIH0pO1xufSJdLCJmaWxlIjoiYXNzZXRzL2luZGV4LW9NRlZvYlZyLmpzIn0=